const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./DW_yD3NT.js","./DiS-q1e-.js","./DpKggVLc.js","./DLXM_KWh.js"])))=>i.map(i=>d[i]);
var Ya=Object.defineProperty;var Za=(n,e,t)=>e in n?Ya(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var be=(n,e,t)=>Za(n,typeof e!="symbol"?e+"":e,t);import{A as Re,s as dt,n as _e,d as k,O as He,i as j,e as u,P as ee,x as h,f as y,h as I,k as N,Q as K,l as w,m as P,R as ea,r as cs,p as Be,S as Ze,b as re,T as Us,j as Q,t as J,U as dn,y as ke,o as ye,B as Ms,z as St,V as is,W as ta,X as sa,v as na,Y as Xa,Z as Er,_ as ra,I as Ka,$ as Qa,a0 as Ja,a1 as we,a2 as el,a3 as Zn}from"./DgVaGrGG.js";import{a as ge,S as ht,i as pt,f as as,d as at,t as Ee,g as gs,c as ms,m as lt,e as ot,b as ct}from"./DeczH2A8.js";import{w as Xe}from"./bQoDk_2D.js";/* empty css        */import{_ as kn}from"./C1FmrZbK.js";const tl=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function Je(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}function us(n,e){n.d(1),e.delete(n.key)}function fs(n,e,t,s,r,i,l,a,o,c,f,m){let _=n.length,d=i.length,v=_;const b={};for(;v--;)b[n[v].key]=v;const g=[],T=new Map,p=new Map,E=[];for(v=d;v--;){const x=m(r,i,v),R=t(x);let D=l.get(R);D?E.push(()=>D.p(x,e)):(D=c(R,x),D.c()),T.set(R,g[v]=D),R in b&&p.set(R,Math.abs(v-b[R]))}const A=new Set,S=new Set;function C(x){ge(x,1),x.m(a,f),l.set(x.key,x),f=x.first,d--}for(;_&&d;){const x=g[d-1],R=n[_-1],D=x.key,F=R.key;x===R?(f=x.first,_--,d--):T.has(F)?!l.has(D)||A.has(D)?C(x):S.has(F)?_--:p.get(D)>p.get(F)?(S.add(D),C(x)):(A.add(F),_--):(o(R,l),_--)}for(;_--;){const x=n[_];T.has(x.key)||o(x,l)}for(;d;)C(g[d-1]);return Re(E),g}const qt=Object.create(null);qt.open="0";qt.close="1";qt.ping="2";qt.pong="3";qt.message="4";qt.upgrade="5";qt.noop="6";const Js=Object.create(null);Object.keys(qt).forEach(n=>{Js[qt[n]]=n});const Ln={type:"error",data:"parser error"},ia=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",aa=typeof ArrayBuffer=="function",la=n=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(n):n&&n.buffer instanceof ArrayBuffer,Xn=({type:n,data:e},t,s)=>ia&&e instanceof Blob?t?s(e):Sr(e,s):aa&&(e instanceof ArrayBuffer||la(e))?t?s(e):Sr(new Blob([e]),s):s(qt[n]+(e||"")),Sr=(n,e)=>{const t=new FileReader;return t.onload=function(){const s=t.result.split(",")[1];e("b"+(s||""))},t.readAsDataURL(n)};function Ar(n){return n instanceof Uint8Array?n:n instanceof ArrayBuffer?new Uint8Array(n):new Uint8Array(n.buffer,n.byteOffset,n.byteLength)}let yn;function sl(n,e){if(ia&&n.data instanceof Blob)return n.data.arrayBuffer().then(Ar).then(e);if(aa&&(n.data instanceof ArrayBuffer||la(n.data)))return e(Ar(n.data));Xn(n,!1,t=>{yn||(yn=new TextEncoder),e(yn.encode(t))})}const Tr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ds=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let n=0;n<Tr.length;n++)Ds[Tr.charCodeAt(n)]=n;const nl=n=>{let e=n.length*.75,t=n.length,s,r=0,i,l,a,o;n[n.length-1]==="="&&(e--,n[n.length-2]==="="&&e--);const c=new ArrayBuffer(e),f=new Uint8Array(c);for(s=0;s<t;s+=4)i=Ds[n.charCodeAt(s)],l=Ds[n.charCodeAt(s+1)],a=Ds[n.charCodeAt(s+2)],o=Ds[n.charCodeAt(s+3)],f[r++]=i<<2|l>>4,f[r++]=(l&15)<<4|a>>2,f[r++]=(a&3)<<6|o&63;return c},rl=typeof ArrayBuffer=="function",Kn=(n,e)=>{if(typeof n!="string")return{type:"message",data:oa(n,e)};const t=n.charAt(0);return t==="b"?{type:"message",data:il(n.substring(1),e)}:Js[t]?n.length>1?{type:Js[t],data:n.substring(1)}:{type:Js[t]}:Ln},il=(n,e)=>{if(rl){const t=nl(n);return oa(t,e)}else return{base64:!0,data:n}},oa=(n,e)=>{switch(e){case"blob":return n instanceof Blob?n:new Blob([n]);case"arraybuffer":default:return n instanceof ArrayBuffer?n:n.buffer}},ca="",al=(n,e)=>{const t=n.length,s=new Array(t);let r=0;n.forEach((i,l)=>{Xn(i,!1,a=>{s[l]=a,++r===t&&e(s.join(ca))})})},ll=(n,e)=>{const t=n.split(ca),s=[];for(let r=0;r<t.length;r++){const i=Kn(t[r],e);if(s.push(i),i.type==="error")break}return s};function ol(){return new TransformStream({transform(n,e){sl(n,t=>{const s=t.length;let r;if(s<126)r=new Uint8Array(1),new DataView(r.buffer).setUint8(0,s);else if(s<65536){r=new Uint8Array(3);const i=new DataView(r.buffer);i.setUint8(0,126),i.setUint16(1,s)}else{r=new Uint8Array(9);const i=new DataView(r.buffer);i.setUint8(0,127),i.setBigUint64(1,BigInt(s))}n.data&&typeof n.data!="string"&&(r[0]|=128),e.enqueue(r),e.enqueue(t)})}})}let wn;function $s(n){return n.reduce((e,t)=>e+t.length,0)}function Gs(n,e){if(n[0].length===e)return n.shift();const t=new Uint8Array(e);let s=0;for(let r=0;r<e;r++)t[r]=n[0][s++],s===n[0].length&&(n.shift(),s=0);return n.length&&s<n[0].length&&(n[0]=n[0].slice(s)),t}function cl(n,e){wn||(wn=new TextDecoder);const t=[];let s=0,r=-1,i=!1;return new TransformStream({transform(l,a){for(t.push(l);;){if(s===0){if($s(t)<1)break;const o=Gs(t,1);i=(o[0]&128)===128,r=o[0]&127,r<126?s=3:r===126?s=1:s=2}else if(s===1){if($s(t)<2)break;const o=Gs(t,2);r=new DataView(o.buffer,o.byteOffset,o.length).getUint16(0),s=3}else if(s===2){if($s(t)<8)break;const o=Gs(t,8),c=new DataView(o.buffer,o.byteOffset,o.length),f=c.getUint32(0);if(f>Math.pow(2,21)-1){a.enqueue(Ln);break}r=f*Math.pow(2,32)+c.getUint32(4),s=3}else{if($s(t)<r)break;const o=Gs(t,r);a.enqueue(Kn(i?o:wn.decode(o),e)),s=0}if(r===0||r>n){a.enqueue(Ln);break}}}})}const ua=4;function Me(n){if(n)return ul(n)}function ul(n){for(var e in Me.prototype)n[e]=Me.prototype[e];return n}Me.prototype.on=Me.prototype.addEventListener=function(n,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+n]=this._callbacks["$"+n]||[]).push(e),this};Me.prototype.once=function(n,e){function t(){this.off(n,t),e.apply(this,arguments)}return t.fn=e,this.on(n,t),this};Me.prototype.off=Me.prototype.removeListener=Me.prototype.removeAllListeners=Me.prototype.removeEventListener=function(n,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var t=this._callbacks["$"+n];if(!t)return this;if(arguments.length==1)return delete this._callbacks["$"+n],this;for(var s,r=0;r<t.length;r++)if(s=t[r],s===e||s.fn===e){t.splice(r,1);break}return t.length===0&&delete this._callbacks["$"+n],this};Me.prototype.emit=function(n){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),t=this._callbacks["$"+n],s=1;s<arguments.length;s++)e[s-1]=arguments[s];if(t){t=t.slice(0);for(var s=0,r=t.length;s<r;++s)t[s].apply(this,e)}return this};Me.prototype.emitReserved=Me.prototype.emit;Me.prototype.listeners=function(n){return this._callbacks=this._callbacks||{},this._callbacks["$"+n]||[]};Me.prototype.hasListeners=function(n){return!!this.listeners(n).length};const hn=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,t)=>t(e,0),At=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),fl="arraybuffer";function fa(n,...e){return e.reduce((t,s)=>(n.hasOwnProperty(s)&&(t[s]=n[s]),t),{})}const dl=At.setTimeout,hl=At.clearTimeout;function pn(n,e){e.useNativeTimers?(n.setTimeoutFn=dl.bind(At),n.clearTimeoutFn=hl.bind(At)):(n.setTimeoutFn=At.setTimeout.bind(At),n.clearTimeoutFn=At.clearTimeout.bind(At))}const pl=1.33;function gl(n){return typeof n=="string"?ml(n):Math.ceil((n.byteLength||n.size)*pl)}function ml(n){let e=0,t=0;for(let s=0,r=n.length;s<r;s++)e=n.charCodeAt(s),e<128?t+=1:e<2048?t+=2:e<55296||e>=57344?t+=3:(s++,t+=4);return t}function da(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function vl(n){let e="";for(let t in n)n.hasOwnProperty(t)&&(e.length&&(e+="&"),e+=encodeURIComponent(t)+"="+encodeURIComponent(n[t]));return e}function _l(n){let e={},t=n.split("&");for(let s=0,r=t.length;s<r;s++){let i=t[s].split("=");e[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return e}class bl extends Error{constructor(e,t,s){super(e),this.description=t,this.context=s,this.type="TransportError"}}class Qn extends Me{constructor(e){super(),this.writable=!1,pn(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,t,s){return super.emitReserved("error",new bl(e,t,s)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=Kn(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,t={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const t=vl(e);return t.length?"?"+t:""}}class kl extends Qn{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let s=0;this._polling&&(s++,this.once("pollComplete",function(){--s||t()})),this.writable||(s++,this.once("drain",function(){--s||t()}))}else t()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const t=s=>{if(this.readyState==="opening"&&s.type==="open"&&this.onOpen(),s.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(s)};ll(e,this.socket.binaryType).forEach(t),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,al(e,t=>{this.doWrite(t,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",t=this.query||{};return this.opts.timestampRequests!==!1&&(t[this.opts.timestampParam]=da()),!this.supportsBinary&&!t.sid&&(t.b64=1),this.createUri(e,t)}}let ha=!1;try{ha=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const yl=ha;function wl(){}class El extends kl{constructor(e){if(super(e),typeof location<"u"){const t=location.protocol==="https:";let s=location.port;s||(s=t?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||s!==e.port}}doWrite(e,t){const s=this.request({method:"POST",data:e});s.on("success",t),s.on("error",(r,i)=>{this.onError("xhr post error",r,i)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(t,s)=>{this.onError("xhr poll error",t,s)}),this.pollXhr=e}}class zt extends Me{constructor(e,t,s){super(),this.createRequest=e,pn(this,s),this._opts=s,this._method=s.method||"GET",this._uri=t,this._data=s.data!==void 0?s.data:null,this._create()}_create(){var e;const t=fa(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this._opts.xd;const s=this._xhr=this.createRequest(t);try{s.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){s.setDisableHeaderCheck&&s.setDisableHeaderCheck(!0);for(let r in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(r)&&s.setRequestHeader(r,this._opts.extraHeaders[r])}}catch{}if(this._method==="POST")try{s.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{s.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(s),"withCredentials"in s&&(s.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(s.timeout=this._opts.requestTimeout),s.onreadystatechange=()=>{var r;s.readyState===3&&((r=this._opts.cookieJar)===null||r===void 0||r.parseCookies(s.getResponseHeader("set-cookie"))),s.readyState===4&&(s.status===200||s.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof s.status=="number"?s.status:0)},0))},s.send(this._data)}catch(r){this.setTimeoutFn(()=>{this._onError(r)},0);return}typeof document<"u"&&(this._index=zt.requestsCount++,zt.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=wl,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete zt.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}zt.requestsCount=0;zt.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Cr);else if(typeof addEventListener=="function"){const n="onpagehide"in At?"pagehide":"unload";addEventListener(n,Cr,!1)}}function Cr(){for(let n in zt.requests)zt.requests.hasOwnProperty(n)&&zt.requests[n].abort()}const Sl=function(){const n=pa({xdomain:!1});return n&&n.responseType!==null}();class Al extends El{constructor(e){super(e);const t=e&&e.forceBase64;this.supportsBinary=Sl&&!t}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new zt(pa,this.uri(),e)}}function pa(n){const e=n.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||yl))return new XMLHttpRequest}catch{}if(!e)try{return new At[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const ga=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Tl extends Qn{get name(){return"websocket"}doOpen(){const e=this.uri(),t=this.opts.protocols,s=ga?{}:fa(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(s.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,t,s)}catch(r){return this.emitReserved("error",r)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const s=e[t],r=t===e.length-1;Xn(s,this.supportsBinary,i=>{try{this.doWrite(s,i)}catch{}r&&hn(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=da()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}}const En=At.WebSocket||At.MozWebSocket;class Cl extends Tl{createSocket(e,t,s){return ga?new En(e,t,s):t?new En(e,t):new En(e)}doWrite(e,t){this.ws.send(t)}}class xl extends Qn{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const t=cl(Number.MAX_SAFE_INTEGER,this.socket.binaryType),s=e.readable.pipeThrough(t).getReader(),r=ol();r.readable.pipeTo(e.writable),this._writer=r.writable.getWriter();const i=()=>{s.read().then(({done:a,value:o})=>{a||(this.onPacket(o),i())}).catch(a=>{})};i();const l={type:"open"};this.query.sid&&(l.data=`{"sid":"${this.query.sid}"}`),this._writer.write(l).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const s=e[t],r=t===e.length-1;this._writer.write(s).then(()=>{r&&hn(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const Il={websocket:Cl,webtransport:xl,polling:Al},Rl=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Ol=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Mn(n){if(n.length>8e3)throw"URI too long";const e=n,t=n.indexOf("["),s=n.indexOf("]");t!=-1&&s!=-1&&(n=n.substring(0,t)+n.substring(t,s).replace(/:/g,";")+n.substring(s,n.length));let r=Rl.exec(n||""),i={},l=14;for(;l--;)i[Ol[l]]=r[l]||"";return t!=-1&&s!=-1&&(i.source=e,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=Dl(i,i.path),i.queryKey=Nl(i,i.query),i}function Dl(n,e){const t=/\/{2,9}/g,s=e.replace(t,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&s.splice(0,1),e.slice(-1)=="/"&&s.splice(s.length-1,1),s}function Nl(n,e){const t={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(s,r,i){r&&(t[r]=i)}),t}const Bn=typeof addEventListener=="function"&&typeof removeEventListener=="function",en=[];Bn&&addEventListener("offline",()=>{en.forEach(n=>n())},!1);class es extends Me{constructor(e,t){if(super(),this.binaryType=fl,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(t=e,e=null),e){const s=Mn(e);t.hostname=s.host,t.secure=s.protocol==="https"||s.protocol==="wss",t.port=s.port,s.query&&(t.query=s.query)}else t.host&&(t.hostname=Mn(t.host).host);pn(this,t),this.secure=t.secure!=null?t.secure:typeof location<"u"&&location.protocol==="https:",t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=t.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},t.transports.forEach(s=>{const r=s.prototype.name;this.transports.push(r),this._transportsByName[r]=s}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=_l(this.opts.query)),Bn&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},en.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const t=Object.assign({},this.opts.query);t.EIO=ua,t.transport=e,this.id&&(t.sid=this.id);const s=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](s)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&es.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const t=this.createTransport(e);t.open(),this.setTransport(t)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",t=>this._onClose("transport close",t))}onOpen(){this.readyState="open",es.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const t=new Error("server error");t.code=e.data,this._onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let t=1;for(let s=0;s<this.writeBuffer.length;s++){const r=this.writeBuffer[s].data;if(r&&(t+=gl(r)),s>0&&t>this._maxPayload)return this.writeBuffer.slice(0,s);t+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,hn(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,t,s){return this._sendPacket("message",e,t,s),this}send(e,t,s){return this._sendPacket("message",e,t,s),this}_sendPacket(e,t,s,r){if(typeof t=="function"&&(r=t,t=void 0),typeof s=="function"&&(r=s,s=null),this.readyState==="closing"||this.readyState==="closed")return;s=s||{},s.compress=s.compress!==!1;const i={type:e,data:t,options:s};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),r&&this.once("flush",r),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},s=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?s():e()}):this.upgrading?s():e()),this}_onError(e){if(es.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Bn&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const s=en.indexOf(this._offlineEventListener);s!==-1&&en.splice(s,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this._prevBufferLen=0}}}es.protocol=ua;class Pl extends es{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let t=this.createTransport(e),s=!1;es.priorWebsocketSuccess=!1;const r=()=>{s||(t.send([{type:"ping",data:"probe"}]),t.once("packet",m=>{if(!s)if(m.type==="pong"&&m.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;es.priorWebsocketSuccess=t.name==="websocket",this.transport.pause(()=>{s||this.readyState!=="closed"&&(f(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())})}else{const _=new Error("probe error");_.transport=t.name,this.emitReserved("upgradeError",_)}}))};function i(){s||(s=!0,f(),t.close(),t=null)}const l=m=>{const _=new Error("probe error: "+m);_.transport=t.name,i(),this.emitReserved("upgradeError",_)};function a(){l("transport closed")}function o(){l("socket closed")}function c(m){t&&m.name!==t.name&&i()}const f=()=>{t.removeListener("open",r),t.removeListener("error",l),t.removeListener("close",a),this.off("close",o),this.off("upgrading",c)};t.once("open",r),t.once("error",l),t.once("close",a),this.once("close",o),this.once("upgrading",c),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{s||t.open()},200):t.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const t=[];for(let s=0;s<e.length;s++)~this.transports.indexOf(e[s])&&t.push(e[s]);return t}}let Fl=class extends Pl{constructor(e,t={}){const s=typeof e=="object"?e:t;(!s.transports||s.transports&&typeof s.transports[0]=="string")&&(s.transports=(s.transports||["polling","websocket","webtransport"]).map(r=>Il[r]).filter(r=>!!r)),super(e,s)}};function Ll(n,e="",t){let s=n;t=t||typeof location<"u"&&location,n==null&&(n=t.protocol+"//"+t.host),typeof n=="string"&&(n.charAt(0)==="/"&&(n.charAt(1)==="/"?n=t.protocol+n:n=t.host+n),/^(https?|wss?):\/\//.test(n)||(typeof t<"u"?n=t.protocol+"//"+n:n="https://"+n),s=Mn(n)),s.port||(/^(http|ws)$/.test(s.protocol)?s.port="80":/^(http|ws)s$/.test(s.protocol)&&(s.port="443")),s.path=s.path||"/";const i=s.host.indexOf(":")!==-1?"["+s.host+"]":s.host;return s.id=s.protocol+"://"+i+":"+s.port+e,s.href=s.protocol+"://"+i+(t&&t.port===s.port?"":":"+s.port),s}const Ml=typeof ArrayBuffer=="function",Bl=n=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(n):n.buffer instanceof ArrayBuffer,ma=Object.prototype.toString,Ul=typeof Blob=="function"||typeof Blob<"u"&&ma.call(Blob)==="[object BlobConstructor]",zl=typeof File=="function"||typeof File<"u"&&ma.call(File)==="[object FileConstructor]";function Jn(n){return Ml&&(n instanceof ArrayBuffer||Bl(n))||Ul&&n instanceof Blob||zl&&n instanceof File}function tn(n,e){if(!n||typeof n!="object")return!1;if(Array.isArray(n)){for(let t=0,s=n.length;t<s;t++)if(tn(n[t]))return!0;return!1}if(Jn(n))return!0;if(n.toJSON&&typeof n.toJSON=="function"&&arguments.length===1)return tn(n.toJSON(),!0);for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&tn(n[t]))return!0;return!1}function ql(n){const e=[],t=n.data,s=n;return s.data=Un(t,e),s.attachments=e.length,{packet:s,buffers:e}}function Un(n,e){if(!n)return n;if(Jn(n)){const t={_placeholder:!0,num:e.length};return e.push(n),t}else if(Array.isArray(n)){const t=new Array(n.length);for(let s=0;s<n.length;s++)t[s]=Un(n[s],e);return t}else if(typeof n=="object"&&!(n instanceof Date)){const t={};for(const s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=Un(n[s],e));return t}return n}function Vl(n,e){return n.data=zn(n.data,e),delete n.attachments,n}function zn(n,e){if(!n)return n;if(n&&n._placeholder===!0){if(typeof n.num=="number"&&n.num>=0&&n.num<e.length)return e[n.num];throw new Error("illegal attachments")}else if(Array.isArray(n))for(let t=0;t<n.length;t++)n[t]=zn(n[t],e);else if(typeof n=="object")for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&(n[t]=zn(n[t],e));return n}const Hl=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],jl=5;var pe;(function(n){n[n.CONNECT=0]="CONNECT",n[n.DISCONNECT=1]="DISCONNECT",n[n.EVENT=2]="EVENT",n[n.ACK=3]="ACK",n[n.CONNECT_ERROR=4]="CONNECT_ERROR",n[n.BINARY_EVENT=5]="BINARY_EVENT",n[n.BINARY_ACK=6]="BINARY_ACK"})(pe||(pe={}));class $l{constructor(e){this.replacer=e}encode(e){return(e.type===pe.EVENT||e.type===pe.ACK)&&tn(e)?this.encodeAsBinary({type:e.type===pe.EVENT?pe.BINARY_EVENT:pe.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let t=""+e.type;return(e.type===pe.BINARY_EVENT||e.type===pe.BINARY_ACK)&&(t+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(t+=e.nsp+","),e.id!=null&&(t+=e.id),e.data!=null&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=ql(e),s=this.encodeAsString(t.packet),r=t.buffers;return r.unshift(s),r}}function xr(n){return Object.prototype.toString.call(n)==="[object Object]"}class er extends Me{constructor(e){super(),this.reviver=e}add(e){let t;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);const s=t.type===pe.BINARY_EVENT;s||t.type===pe.BINARY_ACK?(t.type=s?pe.EVENT:pe.ACK,this.reconstructor=new Gl(t),t.attachments===0&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else if(Jn(e)||e.base64)if(this.reconstructor)t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let t=0;const s={type:Number(e.charAt(0))};if(pe[s.type]===void 0)throw new Error("unknown packet type "+s.type);if(s.type===pe.BINARY_EVENT||s.type===pe.BINARY_ACK){const i=t+1;for(;e.charAt(++t)!=="-"&&t!=e.length;);const l=e.substring(i,t);if(l!=Number(l)||e.charAt(t)!=="-")throw new Error("Illegal attachments");s.attachments=Number(l)}if(e.charAt(t+1)==="/"){const i=t+1;for(;++t&&!(e.charAt(t)===","||t===e.length););s.nsp=e.substring(i,t)}else s.nsp="/";const r=e.charAt(t+1);if(r!==""&&Number(r)==r){const i=t+1;for(;++t;){const l=e.charAt(t);if(l==null||Number(l)!=l){--t;break}if(t===e.length)break}s.id=Number(e.substring(i,t+1))}if(e.charAt(++t)){const i=this.tryParse(e.substr(t));if(er.isPayloadValid(s.type,i))s.data=i;else throw new Error("invalid payload")}return s}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,t){switch(e){case pe.CONNECT:return xr(t);case pe.DISCONNECT:return t===void 0;case pe.CONNECT_ERROR:return typeof t=="string"||xr(t);case pe.EVENT:case pe.BINARY_EVENT:return Array.isArray(t)&&(typeof t[0]=="number"||typeof t[0]=="string"&&Hl.indexOf(t[0])===-1);case pe.ACK:case pe.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Gl{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const t=Vl(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const Wl=Object.freeze(Object.defineProperty({__proto__:null,Decoder:er,Encoder:$l,get PacketType(){return pe},protocol:jl},Symbol.toStringTag,{value:"Module"}));function Ot(n,e,t){return n.on(e,t),function(){n.off(e,t)}}const Yl=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class va extends Me{constructor(e,t,s){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,s&&s.auth&&(this.auth=s.auth),this._opts=Object.assign({},s),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[Ot(e,"open",this.onopen.bind(this)),Ot(e,"packet",this.onpacket.bind(this)),Ot(e,"error",this.onerror.bind(this)),Ot(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){var s,r,i;if(Yl.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(t.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(t),this;const l={type:pe.EVENT,data:t};if(l.options={},l.options.compress=this.flags.compress!==!1,typeof t[t.length-1]=="function"){const f=this.ids++,m=t.pop();this._registerAckCallback(f,m),l.id=f}const a=(r=(s=this.io.engine)===null||s===void 0?void 0:s.transport)===null||r===void 0?void 0:r.writable,o=this.connected&&!(!((i=this.io.engine)===null||i===void 0)&&i._hasPingExpired());return this.flags.volatile&&!a||(o?(this.notifyOutgoingListeners(l),this.packet(l)):this.sendBuffer.push(l)),this.flags={},this}_registerAckCallback(e,t){var s;const r=(s=this.flags.timeout)!==null&&s!==void 0?s:this._opts.ackTimeout;if(r===void 0){this.acks[e]=t;return}const i=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===e&&this.sendBuffer.splice(a,1);t.call(this,new Error("operation has timed out"))},r),l=(...a)=>{this.io.clearTimeoutFn(i),t.apply(this,a)};l.withError=!0,this.acks[e]=l}emitWithAck(e,...t){return new Promise((s,r)=>{const i=(l,a)=>l?r(l):s(a);i.withError=!0,t.push(i),this.emit(e,...t)})}_addToQueue(e){let t;typeof e[e.length-1]=="function"&&(t=e.pop());const s={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((r,...i)=>s!==this._queue[0]?void 0:(r!==null?s.tryCount>this._opts.retries&&(this._queue.shift(),t&&t(r)):(this._queue.shift(),t&&t(null,...i)),s.pending=!1,this._drainQueue())),this._queue.push(s),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:pe.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(s=>String(s.id)===e)){const s=this.acks[e];delete this.acks[e],s.withError&&s.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case pe.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case pe.EVENT:case pe.BINARY_EVENT:this.onevent(e);break;case pe.ACK:case pe.BINARY_ACK:this.onack(e);break;case pe.DISCONNECT:this.ondisconnect();break;case pe.CONNECT_ERROR:this.destroy();const s=new Error(e.data.message);s.data=e.data.data,this.emitReserved("connect_error",s);break}}onevent(e){const t=e.data||[];e.id!=null&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const s of t)s.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const t=this;let s=!1;return function(...r){s||(s=!0,t.packet({type:pe.ACK,id:e,data:r}))}}onack(e){const t=this.acks[e.id];typeof t=="function"&&(delete this.acks[e.id],t.withError&&e.data.unshift(null),t.apply(this,e.data))}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:pe.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let s=0;s<t.length;s++)if(e===t[s])return t.splice(s,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let s=0;s<t.length;s++)if(e===t[s])return t.splice(s,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const s of t)s.apply(this,e.data)}}}function ks(n){n=n||{},this.ms=n.min||100,this.max=n.max||1e4,this.factor=n.factor||2,this.jitter=n.jitter>0&&n.jitter<=1?n.jitter:0,this.attempts=0}ks.prototype.duration=function(){var n=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),t=Math.floor(e*this.jitter*n);n=Math.floor(e*10)&1?n+t:n-t}return Math.min(n,this.max)|0};ks.prototype.reset=function(){this.attempts=0};ks.prototype.setMin=function(n){this.ms=n};ks.prototype.setMax=function(n){this.max=n};ks.prototype.setJitter=function(n){this.jitter=n};class qn extends Me{constructor(e,t){var s;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(t=e,e=void 0),t=t||{},t.path=t.path||"/socket.io",this.opts=t,pn(this,t),this.reconnection(t.reconnection!==!1),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor((s=t.randomizationFactor)!==null&&s!==void 0?s:.5),this.backoff=new ks({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(t.timeout==null?2e4:t.timeout),this._readyState="closed",this.uri=e;const r=t.parser||Wl;this.encoder=new r.Encoder,this.decoder=new r.Decoder,this._autoConnect=t.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(t=this.backoff)===null||t===void 0||t.setMin(e),this)}randomizationFactor(e){var t;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(t=this.backoff)===null||t===void 0||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(t=this.backoff)===null||t===void 0||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new Fl(this.uri,this.opts);const t=this.engine,s=this;this._readyState="opening",this.skipReconnect=!1;const r=Ot(t,"open",function(){s.onopen(),e&&e()}),i=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),e?e(a):this.maybeReconnectOnOpen()},l=Ot(t,"error",i);if(this._timeout!==!1){const a=this._timeout,o=this.setTimeoutFn(()=>{r(),i(new Error("timeout")),t.close()},a);this.opts.autoUnref&&o.unref(),this.subs.push(()=>{this.clearTimeoutFn(o)})}return this.subs.push(r),this.subs.push(l),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(Ot(e,"ping",this.onping.bind(this)),Ot(e,"data",this.ondata.bind(this)),Ot(e,"error",this.onerror.bind(this)),Ot(e,"close",this.onclose.bind(this)),Ot(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(t){this.onclose("parse error",t)}}ondecoded(e){hn(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let s=this.nsps[e];return s?this._autoConnect&&!s.active&&s.connect():(s=new va(this,e,t),this.nsps[e]=s),s}_destroy(e){const t=Object.keys(this.nsps);for(const s of t)if(this.nsps[s].active)return;this._close()}_packet(e){const t=this.encoder.encode(e);for(let s=0;s<t.length;s++)this.engine.write(t[s],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,t){var s;this.cleanup(),(s=this.engine)===null||s===void 0||s.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const s=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(r=>{r?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",r)):e.onreconnect()}))},t);this.opts.autoUnref&&s.unref(),this.subs.push(()=>{this.clearTimeoutFn(s)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Ss={};function sn(n,e){typeof n=="object"&&(e=n,n=void 0),e=e||{};const t=Ll(n,e.path||"/socket.io"),s=t.source,r=t.id,i=t.path,l=Ss[r]&&i in Ss[r].nsps,a=e.forceNew||e["force new connection"]||e.multiplex===!1||l;let o;return a?o=new qn(s,e):(Ss[r]||(Ss[r]=new qn(s,e)),o=Ss[r]),t.query&&!e.query&&(e.query=t.queryKey),o.socket(t.path,e)}Object.assign(sn,{Manager:qn,Socket:va,io:sn,connect:sn});function Zl(n,e){if(e)return;if(!(localStorage.getItem("notificationsEnabled")==="true")){console.log("Notifications disabled in settings");return}if(Notification.permission!=="granted"){console.log("Notification permission not granted:",Notification.permission);return}if(!document.hidden){console.log("Page is visible, skipping notification");return}let s="",r="",i="/icon-192.png";switch(n.type){case"text":s=n.user,r=n.text;break;case"gif":s=n.user,r="ðŸŽ¬ Sent a GIF";break;case"file":s=n.user,r=`ðŸ“Ž Sent a file: ${n.fileName}`;break}const l=new Notification(s,{body:r,icon:i,badge:i,tag:`message-${n.id}`,requireInteraction:!1,silent:!1});l.onclick=()=>{window.focus(),l.close()},setTimeout(()=>{l.close()},5e3)}function tr(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var ds=tr();function _a(n){ds=n}var Fs={exec:()=>null};function me(n,e=""){let t=typeof n=="string"?n:n.source,s={replace:(r,i)=>{let l=typeof i=="string"?i:i.source;return l=l.replace(it.caret,"$1"),t=t.replace(r,l),s},getRegex:()=>new RegExp(t,e)};return s}var Xl=(()=>{try{return!!new RegExp("(?<=1)(?<!1)")}catch{return!1}})(),it={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] +\S/,listReplaceTask:/^\[[ xX]\] +/,listTaskCheckbox:/\[[ xX]\]/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:n=>new RegExp(`^( {0,3}${n})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:n=>new RegExp(`^ {0,${Math.min(3,n-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:n=>new RegExp(`^ {0,${Math.min(3,n-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:n=>new RegExp(`^ {0,${Math.min(3,n-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:n=>new RegExp(`^ {0,${Math.min(3,n-1)}}#`),htmlBeginRegex:n=>new RegExp(`^ {0,${Math.min(3,n-1)}}<(?:[a-z].*>|!--)`,"i")},Kl=/^(?:[ \t]*(?:\n|$))+/,Ql=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,Jl=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,zs=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,eo=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,sr=/(?:[*+-]|\d{1,9}[.)])/,ba=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,ka=me(ba).replace(/bull/g,sr).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),to=me(ba).replace(/bull/g,sr).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),nr=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,so=/^[^\n]+/,rr=/(?!\s*\])(?:\\[\s\S]|[^\[\]\\])+/,no=me(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",rr).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),ro=me(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,sr).getRegex(),gn="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",ir=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,io=me("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",ir).replace("tag",gn).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),ya=me(nr).replace("hr",zs).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",gn).getRegex(),ao=me(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",ya).getRegex(),ar={blockquote:ao,code:Ql,def:no,fences:Jl,heading:eo,hr:zs,html:io,lheading:ka,list:ro,newline:Kl,paragraph:ya,table:Fs,text:so},Ir=me("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",zs).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",gn).getRegex(),lo={...ar,lheading:to,table:Ir,paragraph:me(nr).replace("hr",zs).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",Ir).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",gn).getRegex()},oo={...ar,html:me(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",ir).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Fs,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:me(nr).replace("hr",zs).replace("heading",` *#{1,6} *[^
]`).replace("lheading",ka).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},co=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,uo=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,wa=/^( {2,}|\\)\n(?!\s*$)/,fo=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,mn=/[\p{P}\p{S}]/u,lr=/[\s\p{P}\p{S}]/u,Ea=/[^\s\p{P}\p{S}]/u,ho=me(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,lr).getRegex(),Sa=/(?!~)[\p{P}\p{S}]/u,po=/(?!~)[\s\p{P}\p{S}]/u,go=/(?:[^\s\p{P}\p{S}]|~)/u,mo=me(/link|precode-code|html/,"g").replace("link",/\[(?:[^\[\]`]|(?<a>`+)[^`]+\k<a>(?!`))*?\]\((?:\\[\s\S]|[^\\\(\)]|\((?:\\[\s\S]|[^\\\(\)])*\))*\)/).replace("precode-",Xl?"(?<!`)()":"(^^|[^`])").replace("code",/(?<b>`+)[^`]+\k<b>(?!`)/).replace("html",/<(?! )[^<>]*?>/).getRegex(),Aa=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,vo=me(Aa,"u").replace(/punct/g,mn).getRegex(),_o=me(Aa,"u").replace(/punct/g,Sa).getRegex(),Ta="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",bo=me(Ta,"gu").replace(/notPunctSpace/g,Ea).replace(/punctSpace/g,lr).replace(/punct/g,mn).getRegex(),ko=me(Ta,"gu").replace(/notPunctSpace/g,go).replace(/punctSpace/g,po).replace(/punct/g,Sa).getRegex(),yo=me("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,Ea).replace(/punctSpace/g,lr).replace(/punct/g,mn).getRegex(),wo=me(/\\(punct)/,"gu").replace(/punct/g,mn).getRegex(),Eo=me(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),So=me(ir).replace("(?:-->|$)","-->").getRegex(),Ao=me("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",So).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),an=/(?:\[(?:\\[\s\S]|[^\[\]\\])*\]|\\[\s\S]|`+[^`]*?`+(?!`)|[^\[\]\\`])*?/,To=me(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",an).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),Ca=me(/^!?\[(label)\]\[(ref)\]/).replace("label",an).replace("ref",rr).getRegex(),xa=me(/^!?\[(ref)\](?:\[\])?/).replace("ref",rr).getRegex(),Co=me("reflink|nolink(?!\\()","g").replace("reflink",Ca).replace("nolink",xa).getRegex(),Rr=/[hH][tT][tT][pP][sS]?|[fF][tT][pP]/,or={_backpedal:Fs,anyPunctuation:wo,autolink:Eo,blockSkip:mo,br:wa,code:uo,del:Fs,emStrongLDelim:vo,emStrongRDelimAst:bo,emStrongRDelimUnd:yo,escape:co,link:To,nolink:xa,punctuation:ho,reflink:Ca,reflinkSearch:Co,tag:Ao,text:fo,url:Fs},xo={...or,link:me(/^!?\[(label)\]\((.*?)\)/).replace("label",an).getRegex(),reflink:me(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",an).getRegex()},Vn={...or,emStrongRDelimAst:ko,emStrongLDelim:_o,url:me(/^((?:protocol):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("protocol",Rr).replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\[\s\S]|[^\\])*?(?:\\[\s\S]|[^\s~\\]))\1(?=[^~]|$)/,text:me(/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|protocol:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/).replace("protocol",Rr).getRegex()},Io={...Vn,br:me(wa).replace("{2,}","*").getRegex(),text:me(Vn.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Ws={normal:ar,gfm:lo,pedantic:oo},As={normal:or,gfm:Vn,breaks:Io,pedantic:xo},Ro={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Or=n=>Ro[n];function Zt(n,e){if(e){if(it.escapeTest.test(n))return n.replace(it.escapeReplace,Or)}else if(it.escapeTestNoEncode.test(n))return n.replace(it.escapeReplaceNoEncode,Or);return n}function Dr(n){try{n=encodeURI(n).replace(it.percentDecode,"%")}catch{return null}return n}function Nr(n,e){var i;let t=n.replace(it.findPipe,(l,a,o)=>{let c=!1,f=a;for(;--f>=0&&o[f]==="\\";)c=!c;return c?"|":" |"}),s=t.split(it.splitPipe),r=0;if(s[0].trim()||s.shift(),s.length>0&&!((i=s.at(-1))!=null&&i.trim())&&s.pop(),e)if(s.length>e)s.splice(e);else for(;s.length<e;)s.push("");for(;r<s.length;r++)s[r]=s[r].trim().replace(it.slashPipe,"|");return s}function Ts(n,e,t){let s=n.length;if(s===0)return"";let r=0;for(;r<s&&n.charAt(s-r-1)===e;)r++;return n.slice(0,s-r)}function Oo(n,e){if(n.indexOf(e[1])===-1)return-1;let t=0;for(let s=0;s<n.length;s++)if(n[s]==="\\")s++;else if(n[s]===e[0])t++;else if(n[s]===e[1]&&(t--,t<0))return s;return t>0?-2:-1}function Pr(n,e,t,s,r){let i=e.href,l=e.title||null,a=n[1].replace(r.other.outputLinkReplace,"$1");s.state.inLink=!0;let o={type:n[0].charAt(0)==="!"?"image":"link",raw:t,href:i,title:l,text:a,tokens:s.inlineTokens(a)};return s.state.inLink=!1,o}function Do(n,e,t){let s=n.match(t.other.indentCodeCompensation);if(s===null)return e;let r=s[1];return e.split(`
`).map(i=>{let l=i.match(t.other.beginningSpace);if(l===null)return i;let[a]=l;return a.length>=r.length?i.slice(r.length):i}).join(`
`)}var ln=class{constructor(n){be(this,"options");be(this,"rules");be(this,"lexer");this.options=n||ds}space(n){let e=this.rules.block.newline.exec(n);if(e&&e[0].length>0)return{type:"space",raw:e[0]}}code(n){let e=this.rules.block.code.exec(n);if(e){let t=e[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?t:Ts(t,`
`)}}}fences(n){let e=this.rules.block.fences.exec(n);if(e){let t=e[0],s=Do(t,e[3]||"",this.rules);return{type:"code",raw:t,lang:e[2]?e[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):e[2],text:s}}}heading(n){let e=this.rules.block.heading.exec(n);if(e){let t=e[2].trim();if(this.rules.other.endingHash.test(t)){let s=Ts(t,"#");(this.options.pedantic||!s||this.rules.other.endingSpaceChar.test(s))&&(t=s.trim())}return{type:"heading",raw:e[0],depth:e[1].length,text:t,tokens:this.lexer.inline(t)}}}hr(n){let e=this.rules.block.hr.exec(n);if(e)return{type:"hr",raw:Ts(e[0],`
`)}}blockquote(n){let e=this.rules.block.blockquote.exec(n);if(e){let t=Ts(e[0],`
`).split(`
`),s="",r="",i=[];for(;t.length>0;){let l=!1,a=[],o;for(o=0;o<t.length;o++)if(this.rules.other.blockquoteStart.test(t[o]))a.push(t[o]),l=!0;else if(!l)a.push(t[o]);else break;t=t.slice(o);let c=a.join(`
`),f=c.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");s=s?`${s}
${c}`:c,r=r?`${r}
${f}`:f;let m=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(f,i,!0),this.lexer.state.top=m,t.length===0)break;let _=i.at(-1);if((_==null?void 0:_.type)==="code")break;if((_==null?void 0:_.type)==="blockquote"){let d=_,v=d.raw+`
`+t.join(`
`),b=this.blockquote(v);i[i.length-1]=b,s=s.substring(0,s.length-d.raw.length)+b.raw,r=r.substring(0,r.length-d.text.length)+b.text;break}else if((_==null?void 0:_.type)==="list"){let d=_,v=d.raw+`
`+t.join(`
`),b=this.list(v);i[i.length-1]=b,s=s.substring(0,s.length-_.raw.length)+b.raw,r=r.substring(0,r.length-d.raw.length)+b.raw,t=v.substring(i.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:s,tokens:i,text:r}}}list(n){var t,s;let e=this.rules.block.list.exec(n);if(e){let r=e[1].trim(),i=r.length>1,l={type:"list",raw:"",ordered:i,start:i?+r.slice(0,-1):"",loose:!1,items:[]};r=i?`\\d{1,9}\\${r.slice(-1)}`:`\\${r}`,this.options.pedantic&&(r=i?r:"[*+-]");let a=this.rules.other.listItemRegex(r),o=!1;for(;n;){let f=!1,m="",_="";if(!(e=a.exec(n))||this.rules.block.hr.test(n))break;m=e[0],n=n.substring(m.length);let d=e[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,T=>" ".repeat(3*T.length)),v=n.split(`
`,1)[0],b=!d.trim(),g=0;if(this.options.pedantic?(g=2,_=d.trimStart()):b?g=e[1].length+1:(g=e[2].search(this.rules.other.nonSpaceChar),g=g>4?1:g,_=d.slice(g),g+=e[1].length),b&&this.rules.other.blankLine.test(v)&&(m+=v+`
`,n=n.substring(v.length+1),f=!0),!f){let T=this.rules.other.nextBulletRegex(g),p=this.rules.other.hrRegex(g),E=this.rules.other.fencesBeginRegex(g),A=this.rules.other.headingBeginRegex(g),S=this.rules.other.htmlBeginRegex(g);for(;n;){let C=n.split(`
`,1)[0],x;if(v=C,this.options.pedantic?(v=v.replace(this.rules.other.listReplaceNesting,"  "),x=v):x=v.replace(this.rules.other.tabCharGlobal,"    "),E.test(v)||A.test(v)||S.test(v)||T.test(v)||p.test(v))break;if(x.search(this.rules.other.nonSpaceChar)>=g||!v.trim())_+=`
`+x.slice(g);else{if(b||d.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||E.test(d)||A.test(d)||p.test(d))break;_+=`
`+v}!b&&!v.trim()&&(b=!0),m+=C+`
`,n=n.substring(C.length+1),d=x.slice(g)}}l.loose||(o?l.loose=!0:this.rules.other.doubleBlankLine.test(m)&&(o=!0)),l.items.push({type:"list_item",raw:m,task:!!this.options.gfm&&this.rules.other.listIsTask.test(_),loose:!1,text:_,tokens:[]}),l.raw+=m}let c=l.items.at(-1);if(c)c.raw=c.raw.trimEnd(),c.text=c.text.trimEnd();else return;l.raw=l.raw.trimEnd();for(let f of l.items){if(this.lexer.state.top=!1,f.tokens=this.lexer.blockTokens(f.text,[]),f.task){if(f.text=f.text.replace(this.rules.other.listReplaceTask,""),((t=f.tokens[0])==null?void 0:t.type)==="text"||((s=f.tokens[0])==null?void 0:s.type)==="paragraph"){f.tokens[0].raw=f.tokens[0].raw.replace(this.rules.other.listReplaceTask,""),f.tokens[0].text=f.tokens[0].text.replace(this.rules.other.listReplaceTask,"");for(let _=this.lexer.inlineQueue.length-1;_>=0;_--)if(this.rules.other.listIsTask.test(this.lexer.inlineQueue[_].src)){this.lexer.inlineQueue[_].src=this.lexer.inlineQueue[_].src.replace(this.rules.other.listReplaceTask,"");break}}let m=this.rules.other.listTaskCheckbox.exec(f.raw);if(m){let _={type:"checkbox",raw:m[0]+" ",checked:m[0]!=="[ ]"};f.checked=_.checked,l.loose?f.tokens[0]&&["paragraph","text"].includes(f.tokens[0].type)&&"tokens"in f.tokens[0]&&f.tokens[0].tokens?(f.tokens[0].raw=_.raw+f.tokens[0].raw,f.tokens[0].text=_.raw+f.tokens[0].text,f.tokens[0].tokens.unshift(_)):f.tokens.unshift({type:"paragraph",raw:_.raw,text:_.raw,tokens:[_]}):f.tokens.unshift(_)}}if(!l.loose){let m=f.tokens.filter(d=>d.type==="space"),_=m.length>0&&m.some(d=>this.rules.other.anyLine.test(d.raw));l.loose=_}}if(l.loose)for(let f of l.items){f.loose=!0;for(let m of f.tokens)m.type==="text"&&(m.type="paragraph")}return l}}html(n){let e=this.rules.block.html.exec(n);if(e)return{type:"html",block:!0,raw:e[0],pre:e[1]==="pre"||e[1]==="script"||e[1]==="style",text:e[0]}}def(n){let e=this.rules.block.def.exec(n);if(e){let t=e[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),s=e[2]?e[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",r=e[3]?e[3].substring(1,e[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):e[3];return{type:"def",tag:t,raw:e[0],href:s,title:r}}}table(n){var l;let e=this.rules.block.table.exec(n);if(!e||!this.rules.other.tableDelimiter.test(e[2]))return;let t=Nr(e[1]),s=e[2].replace(this.rules.other.tableAlignChars,"").split("|"),r=(l=e[3])!=null&&l.trim()?e[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],i={type:"table",raw:e[0],header:[],align:[],rows:[]};if(t.length===s.length){for(let a of s)this.rules.other.tableAlignRight.test(a)?i.align.push("right"):this.rules.other.tableAlignCenter.test(a)?i.align.push("center"):this.rules.other.tableAlignLeft.test(a)?i.align.push("left"):i.align.push(null);for(let a=0;a<t.length;a++)i.header.push({text:t[a],tokens:this.lexer.inline(t[a]),header:!0,align:i.align[a]});for(let a of r)i.rows.push(Nr(a,i.header.length).map((o,c)=>({text:o,tokens:this.lexer.inline(o),header:!1,align:i.align[c]})));return i}}lheading(n){let e=this.rules.block.lheading.exec(n);if(e)return{type:"heading",raw:e[0],depth:e[2].charAt(0)==="="?1:2,text:e[1],tokens:this.lexer.inline(e[1])}}paragraph(n){let e=this.rules.block.paragraph.exec(n);if(e){let t=e[1].charAt(e[1].length-1)===`
`?e[1].slice(0,-1):e[1];return{type:"paragraph",raw:e[0],text:t,tokens:this.lexer.inline(t)}}}text(n){let e=this.rules.block.text.exec(n);if(e)return{type:"text",raw:e[0],text:e[0],tokens:this.lexer.inline(e[0])}}escape(n){let e=this.rules.inline.escape.exec(n);if(e)return{type:"escape",raw:e[0],text:e[1]}}tag(n){let e=this.rules.inline.tag.exec(n);if(e)return!this.lexer.state.inLink&&this.rules.other.startATag.test(e[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(e[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(e[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(e[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:e[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:e[0]}}link(n){let e=this.rules.inline.link.exec(n);if(e){let t=e[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(t)){if(!this.rules.other.endAngleBracket.test(t))return;let i=Ts(t.slice(0,-1),"\\");if((t.length-i.length)%2===0)return}else{let i=Oo(e[2],"()");if(i===-2)return;if(i>-1){let l=(e[0].indexOf("!")===0?5:4)+e[1].length+i;e[2]=e[2].substring(0,i),e[0]=e[0].substring(0,l).trim(),e[3]=""}}let s=e[2],r="";if(this.options.pedantic){let i=this.rules.other.pedanticHrefTitle.exec(s);i&&(s=i[1],r=i[3])}else r=e[3]?e[3].slice(1,-1):"";return s=s.trim(),this.rules.other.startAngleBracket.test(s)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(t)?s=s.slice(1):s=s.slice(1,-1)),Pr(e,{href:s&&s.replace(this.rules.inline.anyPunctuation,"$1"),title:r&&r.replace(this.rules.inline.anyPunctuation,"$1")},e[0],this.lexer,this.rules)}}reflink(n,e){let t;if((t=this.rules.inline.reflink.exec(n))||(t=this.rules.inline.nolink.exec(n))){let s=(t[2]||t[1]).replace(this.rules.other.multipleSpaceGlobal," "),r=e[s.toLowerCase()];if(!r){let i=t[0].charAt(0);return{type:"text",raw:i,text:i}}return Pr(t,r,t[0],this.lexer,this.rules)}}emStrong(n,e,t=""){let s=this.rules.inline.emStrongLDelim.exec(n);if(!(!s||s[3]&&t.match(this.rules.other.unicodeAlphaNumeric))&&(!(s[1]||s[2])||!t||this.rules.inline.punctuation.exec(t))){let r=[...s[0]].length-1,i,l,a=r,o=0,c=s[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(c.lastIndex=0,e=e.slice(-1*n.length+r);(s=c.exec(e))!=null;){if(i=s[1]||s[2]||s[3]||s[4]||s[5]||s[6],!i)continue;if(l=[...i].length,s[3]||s[4]){a+=l;continue}else if((s[5]||s[6])&&r%3&&!((r+l)%3)){o+=l;continue}if(a-=l,a>0)continue;l=Math.min(l,l+a+o);let f=[...s[0]][0].length,m=n.slice(0,r+s.index+f+l);if(Math.min(r,l)%2){let d=m.slice(1,-1);return{type:"em",raw:m,text:d,tokens:this.lexer.inlineTokens(d)}}let _=m.slice(2,-2);return{type:"strong",raw:m,text:_,tokens:this.lexer.inlineTokens(_)}}}}codespan(n){let e=this.rules.inline.code.exec(n);if(e){let t=e[2].replace(this.rules.other.newLineCharGlobal," "),s=this.rules.other.nonSpaceChar.test(t),r=this.rules.other.startingSpaceChar.test(t)&&this.rules.other.endingSpaceChar.test(t);return s&&r&&(t=t.substring(1,t.length-1)),{type:"codespan",raw:e[0],text:t}}}br(n){let e=this.rules.inline.br.exec(n);if(e)return{type:"br",raw:e[0]}}del(n){let e=this.rules.inline.del.exec(n);if(e)return{type:"del",raw:e[0],text:e[2],tokens:this.lexer.inlineTokens(e[2])}}autolink(n){let e=this.rules.inline.autolink.exec(n);if(e){let t,s;return e[2]==="@"?(t=e[1],s="mailto:"+t):(t=e[1],s=t),{type:"link",raw:e[0],text:t,href:s,tokens:[{type:"text",raw:t,text:t}]}}}url(n){var t;let e;if(e=this.rules.inline.url.exec(n)){let s,r;if(e[2]==="@")s=e[0],r="mailto:"+s;else{let i;do i=e[0],e[0]=((t=this.rules.inline._backpedal.exec(e[0]))==null?void 0:t[0])??"";while(i!==e[0]);s=e[0],e[1]==="www."?r="http://"+e[0]:r=e[0]}return{type:"link",raw:e[0],text:s,href:r,tokens:[{type:"text",raw:s,text:s}]}}}inlineText(n){let e=this.rules.inline.text.exec(n);if(e){let t=this.lexer.state.inRawBlock;return{type:"text",raw:e[0],text:e[0],escaped:t}}}},Nt=class Hn{constructor(e){be(this,"tokens");be(this,"options");be(this,"state");be(this,"inlineQueue");be(this,"tokenizer");this.tokens=[],this.tokens.links=Object.create(null),this.options=e||ds,this.options.tokenizer=this.options.tokenizer||new ln,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let t={other:it,block:Ws.normal,inline:As.normal};this.options.pedantic?(t.block=Ws.pedantic,t.inline=As.pedantic):this.options.gfm&&(t.block=Ws.gfm,this.options.breaks?t.inline=As.breaks:t.inline=As.gfm),this.tokenizer.rules=t}static get rules(){return{block:Ws,inline:As}}static lex(e,t){return new Hn(t).lex(e)}static lexInline(e,t){return new Hn(t).inlineTokens(e)}lex(e){e=e.replace(it.carriageReturn,`
`),this.blockTokens(e,this.tokens);for(let t=0;t<this.inlineQueue.length;t++){let s=this.inlineQueue[t];this.inlineTokens(s.src,s.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,t=[],s=!1){var r,i,l;for(this.options.pedantic&&(e=e.replace(it.tabCharGlobal,"    ").replace(it.spaceLine,""));e;){let a;if((i=(r=this.options.extensions)==null?void 0:r.block)!=null&&i.some(c=>(a=c.call({lexer:this},e,t))?(e=e.substring(a.raw.length),t.push(a),!0):!1))continue;if(a=this.tokenizer.space(e)){e=e.substring(a.raw.length);let c=t.at(-1);a.raw.length===1&&c!==void 0?c.raw+=`
`:t.push(a);continue}if(a=this.tokenizer.code(e)){e=e.substring(a.raw.length);let c=t.at(-1);(c==null?void 0:c.type)==="paragraph"||(c==null?void 0:c.type)==="text"?(c.raw+=(c.raw.endsWith(`
`)?"":`
`)+a.raw,c.text+=`
`+a.text,this.inlineQueue.at(-1).src=c.text):t.push(a);continue}if(a=this.tokenizer.fences(e)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.heading(e)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.hr(e)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.blockquote(e)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.list(e)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.html(e)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.def(e)){e=e.substring(a.raw.length);let c=t.at(-1);(c==null?void 0:c.type)==="paragraph"||(c==null?void 0:c.type)==="text"?(c.raw+=(c.raw.endsWith(`
`)?"":`
`)+a.raw,c.text+=`
`+a.raw,this.inlineQueue.at(-1).src=c.text):this.tokens.links[a.tag]||(this.tokens.links[a.tag]={href:a.href,title:a.title},t.push(a));continue}if(a=this.tokenizer.table(e)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.lheading(e)){e=e.substring(a.raw.length),t.push(a);continue}let o=e;if((l=this.options.extensions)!=null&&l.startBlock){let c=1/0,f=e.slice(1),m;this.options.extensions.startBlock.forEach(_=>{m=_.call({lexer:this},f),typeof m=="number"&&m>=0&&(c=Math.min(c,m))}),c<1/0&&c>=0&&(o=e.substring(0,c+1))}if(this.state.top&&(a=this.tokenizer.paragraph(o))){let c=t.at(-1);s&&(c==null?void 0:c.type)==="paragraph"?(c.raw+=(c.raw.endsWith(`
`)?"":`
`)+a.raw,c.text+=`
`+a.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=c.text):t.push(a),s=o.length!==e.length,e=e.substring(a.raw.length);continue}if(a=this.tokenizer.text(e)){e=e.substring(a.raw.length);let c=t.at(-1);(c==null?void 0:c.type)==="text"?(c.raw+=(c.raw.endsWith(`
`)?"":`
`)+a.raw,c.text+=`
`+a.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=c.text):t.push(a);continue}if(e){let c="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(c);break}else throw new Error(c)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){var o,c,f,m,_;let s=e,r=null;if(this.tokens.links){let d=Object.keys(this.tokens.links);if(d.length>0)for(;(r=this.tokenizer.rules.inline.reflinkSearch.exec(s))!=null;)d.includes(r[0].slice(r[0].lastIndexOf("[")+1,-1))&&(s=s.slice(0,r.index)+"["+"a".repeat(r[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(r=this.tokenizer.rules.inline.anyPunctuation.exec(s))!=null;)s=s.slice(0,r.index)+"++"+s.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);let i;for(;(r=this.tokenizer.rules.inline.blockSkip.exec(s))!=null;)i=r[2]?r[2].length:0,s=s.slice(0,r.index+i)+"["+"a".repeat(r[0].length-i-2)+"]"+s.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);s=((c=(o=this.options.hooks)==null?void 0:o.emStrongMask)==null?void 0:c.call({lexer:this},s))??s;let l=!1,a="";for(;e;){l||(a=""),l=!1;let d;if((m=(f=this.options.extensions)==null?void 0:f.inline)!=null&&m.some(b=>(d=b.call({lexer:this},e,t))?(e=e.substring(d.raw.length),t.push(d),!0):!1))continue;if(d=this.tokenizer.escape(e)){e=e.substring(d.raw.length),t.push(d);continue}if(d=this.tokenizer.tag(e)){e=e.substring(d.raw.length),t.push(d);continue}if(d=this.tokenizer.link(e)){e=e.substring(d.raw.length),t.push(d);continue}if(d=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(d.raw.length);let b=t.at(-1);d.type==="text"&&(b==null?void 0:b.type)==="text"?(b.raw+=d.raw,b.text+=d.text):t.push(d);continue}if(d=this.tokenizer.emStrong(e,s,a)){e=e.substring(d.raw.length),t.push(d);continue}if(d=this.tokenizer.codespan(e)){e=e.substring(d.raw.length),t.push(d);continue}if(d=this.tokenizer.br(e)){e=e.substring(d.raw.length),t.push(d);continue}if(d=this.tokenizer.del(e)){e=e.substring(d.raw.length),t.push(d);continue}if(d=this.tokenizer.autolink(e)){e=e.substring(d.raw.length),t.push(d);continue}if(!this.state.inLink&&(d=this.tokenizer.url(e))){e=e.substring(d.raw.length),t.push(d);continue}let v=e;if((_=this.options.extensions)!=null&&_.startInline){let b=1/0,g=e.slice(1),T;this.options.extensions.startInline.forEach(p=>{T=p.call({lexer:this},g),typeof T=="number"&&T>=0&&(b=Math.min(b,T))}),b<1/0&&b>=0&&(v=e.substring(0,b+1))}if(d=this.tokenizer.inlineText(v)){e=e.substring(d.raw.length),d.raw.slice(-1)!=="_"&&(a=d.raw.slice(-1)),l=!0;let b=t.at(-1);(b==null?void 0:b.type)==="text"?(b.raw+=d.raw,b.text+=d.text):t.push(d);continue}if(e){let b="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(b);break}else throw new Error(b)}}return t}},on=class{constructor(n){be(this,"options");be(this,"parser");this.options=n||ds}space(n){return""}code({text:n,lang:e,escaped:t}){var i;let s=(i=(e||"").match(it.notSpaceStart))==null?void 0:i[0],r=n.replace(it.endingNewline,"")+`
`;return s?'<pre><code class="language-'+Zt(s)+'">'+(t?r:Zt(r,!0))+`</code></pre>
`:"<pre><code>"+(t?r:Zt(r,!0))+`</code></pre>
`}blockquote({tokens:n}){return`<blockquote>
${this.parser.parse(n)}</blockquote>
`}html({text:n}){return n}def(n){return""}heading({tokens:n,depth:e}){return`<h${e}>${this.parser.parseInline(n)}</h${e}>
`}hr(n){return`<hr>
`}list(n){let e=n.ordered,t=n.start,s="";for(let l=0;l<n.items.length;l++){let a=n.items[l];s+=this.listitem(a)}let r=e?"ol":"ul",i=e&&t!==1?' start="'+t+'"':"";return"<"+r+i+`>
`+s+"</"+r+`>
`}listitem(n){return`<li>${this.parser.parse(n.tokens)}</li>
`}checkbox({checked:n}){return"<input "+(n?'checked="" ':"")+'disabled="" type="checkbox"> '}paragraph({tokens:n}){return`<p>${this.parser.parseInline(n)}</p>
`}table(n){let e="",t="";for(let r=0;r<n.header.length;r++)t+=this.tablecell(n.header[r]);e+=this.tablerow({text:t});let s="";for(let r=0;r<n.rows.length;r++){let i=n.rows[r];t="";for(let l=0;l<i.length;l++)t+=this.tablecell(i[l]);s+=this.tablerow({text:t})}return s&&(s=`<tbody>${s}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+s+`</table>
`}tablerow({text:n}){return`<tr>
${n}</tr>
`}tablecell(n){let e=this.parser.parseInline(n.tokens),t=n.header?"th":"td";return(n.align?`<${t} align="${n.align}">`:`<${t}>`)+e+`</${t}>
`}strong({tokens:n}){return`<strong>${this.parser.parseInline(n)}</strong>`}em({tokens:n}){return`<em>${this.parser.parseInline(n)}</em>`}codespan({text:n}){return`<code>${Zt(n,!0)}</code>`}br(n){return"<br>"}del({tokens:n}){return`<del>${this.parser.parseInline(n)}</del>`}link({href:n,title:e,tokens:t}){let s=this.parser.parseInline(t),r=Dr(n);if(r===null)return s;n=r;let i='<a href="'+n+'"';return e&&(i+=' title="'+Zt(e)+'"'),i+=">"+s+"</a>",i}image({href:n,title:e,text:t,tokens:s}){s&&(t=this.parser.parseInline(s,this.parser.textRenderer));let r=Dr(n);if(r===null)return Zt(t);n=r;let i=`<img src="${n}" alt="${t}"`;return e&&(i+=` title="${Zt(e)}"`),i+=">",i}text(n){return"tokens"in n&&n.tokens?this.parser.parseInline(n.tokens):"escaped"in n&&n.escaped?n.text:Zt(n.text)}},cr=class{strong({text:n}){return n}em({text:n}){return n}codespan({text:n}){return n}del({text:n}){return n}html({text:n}){return n}text({text:n}){return n}link({text:n}){return""+n}image({text:n}){return""+n}br(){return""}checkbox({raw:n}){return n}},Pt=class jn{constructor(e){be(this,"options");be(this,"renderer");be(this,"textRenderer");this.options=e||ds,this.options.renderer=this.options.renderer||new on,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new cr}static parse(e,t){return new jn(t).parse(e)}static parseInline(e,t){return new jn(t).parseInline(e)}parse(e){var s,r;let t="";for(let i=0;i<e.length;i++){let l=e[i];if((r=(s=this.options.extensions)==null?void 0:s.renderers)!=null&&r[l.type]){let o=l,c=this.options.extensions.renderers[o.type].call({parser:this},o);if(c!==!1||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(o.type)){t+=c||"";continue}}let a=l;switch(a.type){case"space":{t+=this.renderer.space(a);break}case"hr":{t+=this.renderer.hr(a);break}case"heading":{t+=this.renderer.heading(a);break}case"code":{t+=this.renderer.code(a);break}case"table":{t+=this.renderer.table(a);break}case"blockquote":{t+=this.renderer.blockquote(a);break}case"list":{t+=this.renderer.list(a);break}case"checkbox":{t+=this.renderer.checkbox(a);break}case"html":{t+=this.renderer.html(a);break}case"def":{t+=this.renderer.def(a);break}case"paragraph":{t+=this.renderer.paragraph(a);break}case"text":{t+=this.renderer.text(a);break}default:{let o='Token with "'+a.type+'" type was not found.';if(this.options.silent)return console.error(o),"";throw new Error(o)}}}return t}parseInline(e,t=this.renderer){var r,i;let s="";for(let l=0;l<e.length;l++){let a=e[l];if((i=(r=this.options.extensions)==null?void 0:r.renderers)!=null&&i[a.type]){let c=this.options.extensions.renderers[a.type].call({parser:this},a);if(c!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(a.type)){s+=c||"";continue}}let o=a;switch(o.type){case"escape":{s+=t.text(o);break}case"html":{s+=t.html(o);break}case"link":{s+=t.link(o);break}case"image":{s+=t.image(o);break}case"checkbox":{s+=t.checkbox(o);break}case"strong":{s+=t.strong(o);break}case"em":{s+=t.em(o);break}case"codespan":{s+=t.codespan(o);break}case"br":{s+=t.br(o);break}case"del":{s+=t.del(o);break}case"text":{s+=t.text(o);break}default:{let c='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(c),"";throw new Error(c)}}}return s}},Qs,Ns=(Qs=class{constructor(n){be(this,"options");be(this,"block");this.options=n||ds}preprocess(n){return n}postprocess(n){return n}processAllTokens(n){return n}emStrongMask(n){return n}provideLexer(){return this.block?Nt.lex:Nt.lexInline}provideParser(){return this.block?Pt.parse:Pt.parseInline}},be(Qs,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens","emStrongMask"])),be(Qs,"passThroughHooksRespectAsync",new Set(["preprocess","postprocess","processAllTokens"])),Qs),No=class{constructor(...n){be(this,"defaults",tr());be(this,"options",this.setOptions);be(this,"parse",this.parseMarkdown(!0));be(this,"parseInline",this.parseMarkdown(!1));be(this,"Parser",Pt);be(this,"Renderer",on);be(this,"TextRenderer",cr);be(this,"Lexer",Nt);be(this,"Tokenizer",ln);be(this,"Hooks",Ns);this.use(...n)}walkTokens(n,e){var s,r;let t=[];for(let i of n)switch(t=t.concat(e.call(this,i)),i.type){case"table":{let l=i;for(let a of l.header)t=t.concat(this.walkTokens(a.tokens,e));for(let a of l.rows)for(let o of a)t=t.concat(this.walkTokens(o.tokens,e));break}case"list":{let l=i;t=t.concat(this.walkTokens(l.items,e));break}default:{let l=i;(r=(s=this.defaults.extensions)==null?void 0:s.childTokens)!=null&&r[l.type]?this.defaults.extensions.childTokens[l.type].forEach(a=>{let o=l[a].flat(1/0);t=t.concat(this.walkTokens(o,e))}):l.tokens&&(t=t.concat(this.walkTokens(l.tokens,e)))}}return t}use(...n){let e=this.defaults.extensions||{renderers:{},childTokens:{}};return n.forEach(t=>{let s={...t};if(s.async=this.defaults.async||s.async||!1,t.extensions&&(t.extensions.forEach(r=>{if(!r.name)throw new Error("extension name required");if("renderer"in r){let i=e.renderers[r.name];i?e.renderers[r.name]=function(...l){let a=r.renderer.apply(this,l);return a===!1&&(a=i.apply(this,l)),a}:e.renderers[r.name]=r.renderer}if("tokenizer"in r){if(!r.level||r.level!=="block"&&r.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let i=e[r.level];i?i.unshift(r.tokenizer):e[r.level]=[r.tokenizer],r.start&&(r.level==="block"?e.startBlock?e.startBlock.push(r.start):e.startBlock=[r.start]:r.level==="inline"&&(e.startInline?e.startInline.push(r.start):e.startInline=[r.start]))}"childTokens"in r&&r.childTokens&&(e.childTokens[r.name]=r.childTokens)}),s.extensions=e),t.renderer){let r=this.defaults.renderer||new on(this.defaults);for(let i in t.renderer){if(!(i in r))throw new Error(`renderer '${i}' does not exist`);if(["options","parser"].includes(i))continue;let l=i,a=t.renderer[l],o=r[l];r[l]=(...c)=>{let f=a.apply(r,c);return f===!1&&(f=o.apply(r,c)),f||""}}s.renderer=r}if(t.tokenizer){let r=this.defaults.tokenizer||new ln(this.defaults);for(let i in t.tokenizer){if(!(i in r))throw new Error(`tokenizer '${i}' does not exist`);if(["options","rules","lexer"].includes(i))continue;let l=i,a=t.tokenizer[l],o=r[l];r[l]=(...c)=>{let f=a.apply(r,c);return f===!1&&(f=o.apply(r,c)),f}}s.tokenizer=r}if(t.hooks){let r=this.defaults.hooks||new Ns;for(let i in t.hooks){if(!(i in r))throw new Error(`hook '${i}' does not exist`);if(["options","block"].includes(i))continue;let l=i,a=t.hooks[l],o=r[l];Ns.passThroughHooks.has(i)?r[l]=c=>{if(this.defaults.async&&Ns.passThroughHooksRespectAsync.has(i))return(async()=>{let m=await a.call(r,c);return o.call(r,m)})();let f=a.call(r,c);return o.call(r,f)}:r[l]=(...c)=>{if(this.defaults.async)return(async()=>{let m=await a.apply(r,c);return m===!1&&(m=await o.apply(r,c)),m})();let f=a.apply(r,c);return f===!1&&(f=o.apply(r,c)),f}}s.hooks=r}if(t.walkTokens){let r=this.defaults.walkTokens,i=t.walkTokens;s.walkTokens=function(l){let a=[];return a.push(i.call(this,l)),r&&(a=a.concat(r.call(this,l))),a}}this.defaults={...this.defaults,...s}}),this}setOptions(n){return this.defaults={...this.defaults,...n},this}lexer(n,e){return Nt.lex(n,e??this.defaults)}parser(n,e){return Pt.parse(n,e??this.defaults)}parseMarkdown(n){return(e,t)=>{let s={...t},r={...this.defaults,...s},i=this.onError(!!r.silent,!!r.async);if(this.defaults.async===!0&&s.async===!1)return i(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof e>"u"||e===null)return i(new Error("marked(): input parameter is undefined or null"));if(typeof e!="string")return i(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected"));if(r.hooks&&(r.hooks.options=r,r.hooks.block=n),r.async)return(async()=>{let l=r.hooks?await r.hooks.preprocess(e):e,a=await(r.hooks?await r.hooks.provideLexer():n?Nt.lex:Nt.lexInline)(l,r),o=r.hooks?await r.hooks.processAllTokens(a):a;r.walkTokens&&await Promise.all(this.walkTokens(o,r.walkTokens));let c=await(r.hooks?await r.hooks.provideParser():n?Pt.parse:Pt.parseInline)(o,r);return r.hooks?await r.hooks.postprocess(c):c})().catch(i);try{r.hooks&&(e=r.hooks.preprocess(e));let l=(r.hooks?r.hooks.provideLexer():n?Nt.lex:Nt.lexInline)(e,r);r.hooks&&(l=r.hooks.processAllTokens(l)),r.walkTokens&&this.walkTokens(l,r.walkTokens);let a=(r.hooks?r.hooks.provideParser():n?Pt.parse:Pt.parseInline)(l,r);return r.hooks&&(a=r.hooks.postprocess(a)),a}catch(l){return i(l)}}}onError(n,e){return t=>{if(t.message+=`
Please report this to https://github.com/markedjs/marked.`,n){let s="<p>An error occurred:</p><pre>"+Zt(t.message+"",!0)+"</pre>";return e?Promise.resolve(s):s}if(e)return Promise.reject(t);throw t}}},ls=new No;function ve(n,e){return ls.parse(n,e)}ve.options=ve.setOptions=function(n){return ls.setOptions(n),ve.defaults=ls.defaults,_a(ve.defaults),ve};ve.getDefaults=tr;ve.defaults=ds;ve.use=function(...n){return ls.use(...n),ve.defaults=ls.defaults,_a(ve.defaults),ve};ve.walkTokens=function(n,e){return ls.walkTokens(n,e)};ve.parseInline=ls.parseInline;ve.Parser=Pt;ve.parser=Pt.parse;ve.Renderer=on;ve.TextRenderer=cr;ve.Lexer=Nt;ve.lexer=Nt.lex;ve.Tokenizer=ln;ve.Hooks=Ns;ve.parse=ve;ve.options;ve.setOptions;ve.use;ve.walkTokens;ve.parseInline;Pt.parse;Nt.lex;var Fr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Po(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Ia={exports:{}};(function(n){var e=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{};/**
 * Prism: Lightweight, robust, elegant syntax highlighting
 *
 * @license MIT <https://opensource.org/licenses/MIT>
 * @author Lea Verou <https://lea.verou.me>
 * @namespace
 * @public
 */var t=function(s){var r=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,i=0,l={},a={manual:s.Prism&&s.Prism.manual,disableWorkerMessageHandler:s.Prism&&s.Prism.disableWorkerMessageHandler,util:{encode:function p(E){return E instanceof o?new o(E.type,p(E.content),E.alias):Array.isArray(E)?E.map(p):E.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(p){return Object.prototype.toString.call(p).slice(8,-1)},objId:function(p){return p.__id||Object.defineProperty(p,"__id",{value:++i}),p.__id},clone:function p(E,A){A=A||{};var S,C;switch(a.util.type(E)){case"Object":if(C=a.util.objId(E),A[C])return A[C];S={},A[C]=S;for(var x in E)E.hasOwnProperty(x)&&(S[x]=p(E[x],A));return S;case"Array":return C=a.util.objId(E),A[C]?A[C]:(S=[],A[C]=S,E.forEach(function(R,D){S[D]=p(R,A)}),S);default:return E}},getLanguage:function(p){for(;p;){var E=r.exec(p.className);if(E)return E[1].toLowerCase();p=p.parentElement}return"none"},setLanguage:function(p,E){p.className=p.className.replace(RegExp(r,"gi"),""),p.classList.add("language-"+E)},currentScript:function(){if(typeof document>"u")return null;if(document.currentScript&&document.currentScript.tagName==="SCRIPT")return document.currentScript;try{throw new Error}catch(S){var p=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(S.stack)||[])[1];if(p){var E=document.getElementsByTagName("script");for(var A in E)if(E[A].src==p)return E[A]}return null}},isActive:function(p,E,A){for(var S="no-"+E;p;){var C=p.classList;if(C.contains(E))return!0;if(C.contains(S))return!1;p=p.parentElement}return!!A}},languages:{plain:l,plaintext:l,text:l,txt:l,extend:function(p,E){var A=a.util.clone(a.languages[p]);for(var S in E)A[S]=E[S];return A},insertBefore:function(p,E,A,S){S=S||a.languages;var C=S[p],x={};for(var R in C)if(C.hasOwnProperty(R)){if(R==E)for(var D in A)A.hasOwnProperty(D)&&(x[D]=A[D]);A.hasOwnProperty(R)||(x[R]=C[R])}var F=S[p];return S[p]=x,a.languages.DFS(a.languages,function(M,z){z===F&&M!=p&&(this[M]=x)}),x},DFS:function p(E,A,S,C){C=C||{};var x=a.util.objId;for(var R in E)if(E.hasOwnProperty(R)){A.call(E,R,E[R],S||R);var D=E[R],F=a.util.type(D);F==="Object"&&!C[x(D)]?(C[x(D)]=!0,p(D,A,null,C)):F==="Array"&&!C[x(D)]&&(C[x(D)]=!0,p(D,A,R,C))}}},plugins:{},highlightAll:function(p,E){a.highlightAllUnder(document,p,E)},highlightAllUnder:function(p,E,A){var S={callback:A,container:p,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};a.hooks.run("before-highlightall",S),S.elements=Array.prototype.slice.apply(S.container.querySelectorAll(S.selector)),a.hooks.run("before-all-elements-highlight",S);for(var C=0,x;x=S.elements[C++];)a.highlightElement(x,E===!0,S.callback)},highlightElement:function(p,E,A){var S=a.util.getLanguage(p),C=a.languages[S];a.util.setLanguage(p,S);var x=p.parentElement;x&&x.nodeName.toLowerCase()==="pre"&&a.util.setLanguage(x,S);var R=p.textContent,D={element:p,language:S,grammar:C,code:R};function F(z){D.highlightedCode=z,a.hooks.run("before-insert",D),D.element.innerHTML=D.highlightedCode,a.hooks.run("after-highlight",D),a.hooks.run("complete",D),A&&A.call(D.element)}if(a.hooks.run("before-sanity-check",D),x=D.element.parentElement,x&&x.nodeName.toLowerCase()==="pre"&&!x.hasAttribute("tabindex")&&x.setAttribute("tabindex","0"),!D.code){a.hooks.run("complete",D),A&&A.call(D.element);return}if(a.hooks.run("before-highlight",D),!D.grammar){F(a.util.encode(D.code));return}if(E&&s.Worker){var M=new Worker(a.filename);M.onmessage=function(z){F(z.data)},M.postMessage(JSON.stringify({language:D.language,code:D.code,immediateClose:!0}))}else F(a.highlight(D.code,D.grammar,D.language))},highlight:function(p,E,A){var S={code:p,grammar:E,language:A};if(a.hooks.run("before-tokenize",S),!S.grammar)throw new Error('The language "'+S.language+'" has no grammar.');return S.tokens=a.tokenize(S.code,S.grammar),a.hooks.run("after-tokenize",S),o.stringify(a.util.encode(S.tokens),S.language)},tokenize:function(p,E){var A=E.rest;if(A){for(var S in A)E[S]=A[S];delete E.rest}var C=new m;return _(C,C.head,p),f(p,C,E,C.head,0),v(C)},hooks:{all:{},add:function(p,E){var A=a.hooks.all;A[p]=A[p]||[],A[p].push(E)},run:function(p,E){var A=a.hooks.all[p];if(!(!A||!A.length))for(var S=0,C;C=A[S++];)C(E)}},Token:o};s.Prism=a;function o(p,E,A,S){this.type=p,this.content=E,this.alias=A,this.length=(S||"").length|0}o.stringify=function p(E,A){if(typeof E=="string")return E;if(Array.isArray(E)){var S="";return E.forEach(function(F){S+=p(F,A)}),S}var C={type:E.type,content:p(E.content,A),tag:"span",classes:["token",E.type],attributes:{},language:A},x=E.alias;x&&(Array.isArray(x)?Array.prototype.push.apply(C.classes,x):C.classes.push(x)),a.hooks.run("wrap",C);var R="";for(var D in C.attributes)R+=" "+D+'="'+(C.attributes[D]||"").replace(/"/g,"&quot;")+'"';return"<"+C.tag+' class="'+C.classes.join(" ")+'"'+R+">"+C.content+"</"+C.tag+">"};function c(p,E,A,S){p.lastIndex=E;var C=p.exec(A);if(C&&S&&C[1]){var x=C[1].length;C.index+=x,C[0]=C[0].slice(x)}return C}function f(p,E,A,S,C,x){for(var R in A)if(!(!A.hasOwnProperty(R)||!A[R])){var D=A[R];D=Array.isArray(D)?D:[D];for(var F=0;F<D.length;++F){if(x&&x.cause==R+","+F)return;var M=D[F],z=M.inside,V=!!M.lookbehind,q=!!M.greedy,te=M.alias;if(q&&!M.pattern.global){var U=M.pattern.toString().match(/[imsuy]*$/)[0];M.pattern=RegExp(M.pattern.source,U+"g")}for(var B=M.pattern||M,W=S.next,G=C;W!==E.tail&&!(x&&G>=x.reach);G+=W.value.length,W=W.next){var Y=W.value;if(E.length>p.length)return;if(!(Y instanceof o)){var $=1,L;if(q){if(L=c(B,G,p,V),!L||L.index>=p.length)break;var le=L.index,Z=L.index+L[0].length,se=G;for(se+=W.value.length;le>=se;)W=W.next,se+=W.value.length;if(se-=W.value.length,G=se,W.value instanceof o)continue;for(var H=W;H!==E.tail&&(se<Z||typeof H.value=="string");H=H.next)$++,se+=H.value.length;$--,Y=p.slice(G,se),L.index-=G}else if(L=c(B,0,Y,V),!L)continue;var le=L.index,ue=L[0],fe=Y.slice(0,le),Pe=Y.slice(le+ue.length),xe=G+Y.length;x&&xe>x.reach&&(x.reach=xe);var Se=W.prev;fe&&(Se=_(E,Se,fe),G+=fe.length),d(E,Se,$);var $e=new o(R,z?a.tokenize(ue,z):ue,te,ue);if(W=_(E,Se,$e),Pe&&_(E,W,Pe),$>1){var Te={cause:R+","+F,reach:xe};f(p,E,A,W.prev,G,Te),x&&Te.reach>x.reach&&(x.reach=Te.reach)}}}}}}function m(){var p={value:null,prev:null,next:null},E={value:null,prev:p,next:null};p.next=E,this.head=p,this.tail=E,this.length=0}function _(p,E,A){var S=E.next,C={value:A,prev:E,next:S};return E.next=C,S.prev=C,p.length++,C}function d(p,E,A){for(var S=E.next,C=0;C<A&&S!==p.tail;C++)S=S.next;E.next=S,S.prev=E,p.length-=C}function v(p){for(var E=[],A=p.head.next;A!==p.tail;)E.push(A.value),A=A.next;return E}if(!s.document)return s.addEventListener&&(a.disableWorkerMessageHandler||s.addEventListener("message",function(p){var E=JSON.parse(p.data),A=E.language,S=E.code,C=E.immediateClose;s.postMessage(a.highlight(S,a.languages[A],A)),C&&s.close()},!1)),a;var b=a.util.currentScript();b&&(a.filename=b.src,b.hasAttribute("data-manual")&&(a.manual=!0));function g(){a.manual||a.highlightAll()}if(!a.manual){var T=document.readyState;T==="loading"||T==="interactive"&&b&&b.defer?document.addEventListener("DOMContentLoaded",g):window.requestAnimationFrame?window.requestAnimationFrame(g):window.setTimeout(g,16)}return a}(e);n.exports&&(n.exports=t),typeof Fr<"u"&&(Fr.Prism=t),t.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},t.languages.markup.tag.inside["attr-value"].inside.entity=t.languages.markup.entity,t.languages.markup.doctype.inside["internal-subset"].inside=t.languages.markup,t.hooks.add("wrap",function(s){s.type==="entity"&&(s.attributes.title=s.content.replace(/&amp;/,"&"))}),Object.defineProperty(t.languages.markup.tag,"addInlined",{value:function(r,i){var l={};l["language-"+i]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:t.languages[i]},l.cdata=/^<!\[CDATA\[|\]\]>$/i;var a={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:l}};a["language-"+i]={pattern:/[\s\S]+/,inside:t.languages[i]};var o={};o[r]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return r}),"i"),lookbehind:!0,greedy:!0,inside:a},t.languages.insertBefore("markup","cdata",o)}}),Object.defineProperty(t.languages.markup.tag,"addAttribute",{value:function(s,r){t.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+s+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[r,"language-"+r],inside:t.languages[r]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),t.languages.html=t.languages.markup,t.languages.mathml=t.languages.markup,t.languages.svg=t.languages.markup,t.languages.xml=t.languages.extend("markup",{}),t.languages.ssml=t.languages.xml,t.languages.atom=t.languages.xml,t.languages.rss=t.languages.xml,function(s){var r=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;s.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+r.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+r.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+r.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+r.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:r,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},s.languages.css.atrule.inside.rest=s.languages.css;var i=s.languages.markup;i&&(i.tag.addInlined("style","css"),i.tag.addAttribute("style","css"))}(t),t.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},t.languages.javascript=t.languages.extend("clike",{"class-name":[t.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),t.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,t.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:t.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:t.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:t.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:t.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:t.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),t.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:t.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),t.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),t.languages.markup&&(t.languages.markup.tag.addInlined("script","javascript"),t.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),t.languages.js=t.languages.javascript,function(){if(typeof t>"u"||typeof document>"u")return;Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var s="Loadingâ€¦",r=function(b,g){return"âœ– Error "+b+" while fetching file: "+g},i="âœ– Error: File does not exist or is empty",l={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},a="data-src-status",o="loading",c="loaded",f="failed",m="pre[data-src]:not(["+a+'="'+c+'"]):not(['+a+'="'+o+'"])';function _(b,g,T){var p=new XMLHttpRequest;p.open("GET",b,!0),p.onreadystatechange=function(){p.readyState==4&&(p.status<400&&p.responseText?g(p.responseText):p.status>=400?T(r(p.status,p.statusText)):T(i))},p.send(null)}function d(b){var g=/^\s*(\d+)\s*(?:(,)\s*(?:(\d+)\s*)?)?$/.exec(b||"");if(g){var T=Number(g[1]),p=g[2],E=g[3];return p?E?[T,Number(E)]:[T,void 0]:[T,T]}}t.hooks.add("before-highlightall",function(b){b.selector+=", "+m}),t.hooks.add("before-sanity-check",function(b){var g=b.element;if(g.matches(m)){b.code="",g.setAttribute(a,o);var T=g.appendChild(document.createElement("CODE"));T.textContent=s;var p=g.getAttribute("data-src"),E=b.language;if(E==="none"){var A=(/\.(\w+)$/.exec(p)||[,"none"])[1];E=l[A]||A}t.util.setLanguage(T,E),t.util.setLanguage(g,E);var S=t.plugins.autoloader;S&&S.loadLanguages(E),_(p,function(C){g.setAttribute(a,c);var x=d(g.getAttribute("data-range"));if(x){var R=C.split(/\r\n?|\n/g),D=x[0],F=x[1]==null?R.length:x[1];D<0&&(D+=R.length),D=Math.max(0,Math.min(D-1,R.length)),F<0&&(F+=R.length),F=Math.max(0,Math.min(F,R.length)),C=R.slice(D,F).join(`
`),g.hasAttribute("data-start")||g.setAttribute("data-start",String(D+1))}T.textContent=C,t.highlightElement(T)},function(C){g.setAttribute(a,f),T.textContent=C})}}),t.plugins.fileHighlight={highlight:function(g){for(var T=(g||document).querySelectorAll(m),p=0,E;E=T[p++];)t.highlightElement(E)}};var v=!1;t.fileHighlight=function(){v||(console.warn("Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead."),v=!0),t.plugins.fileHighlight.highlight.apply(this,arguments)}}()})(Ia);var Fo=Ia.exports;const Sn=Po(Fo);/*! @license DOMPurify 3.3.0 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.0/LICENSE */const{entries:Ra,setPrototypeOf:Lr,isFrozen:Lo,getPrototypeOf:Mo,getOwnPropertyDescriptor:Bo}=Object;let{freeze:ut,seal:Tt,create:$n}=Object,{apply:Gn,construct:Wn}=typeof Reflect<"u"&&Reflect;ut||(ut=function(e){return e});Tt||(Tt=function(e){return e});Gn||(Gn=function(e,t){for(var s=arguments.length,r=new Array(s>2?s-2:0),i=2;i<s;i++)r[i-2]=arguments[i];return e.apply(t,r)});Wn||(Wn=function(e){for(var t=arguments.length,s=new Array(t>1?t-1:0),r=1;r<t;r++)s[r-1]=arguments[r];return new e(...s)});const Ys=ft(Array.prototype.forEach),Uo=ft(Array.prototype.lastIndexOf),Mr=ft(Array.prototype.pop),Cs=ft(Array.prototype.push),zo=ft(Array.prototype.splice),nn=ft(String.prototype.toLowerCase),An=ft(String.prototype.toString),Tn=ft(String.prototype.match),xs=ft(String.prototype.replace),qo=ft(String.prototype.indexOf),Vo=ft(String.prototype.trim),Rt=ft(Object.prototype.hasOwnProperty),nt=ft(RegExp.prototype.test),Is=Ho(TypeError);function ft(n){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var t=arguments.length,s=new Array(t>1?t-1:0),r=1;r<t;r++)s[r-1]=arguments[r];return Gn(n,e,s)}}function Ho(n){return function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return Wn(n,t)}}function de(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:nn;Lr&&Lr(n,null);let s=e.length;for(;s--;){let r=e[s];if(typeof r=="string"){const i=t(r);i!==r&&(Lo(e)||(e[s]=i),r=i)}n[r]=!0}return n}function jo(n){for(let e=0;e<n.length;e++)Rt(n,e)||(n[e]=null);return n}function Xt(n){const e=$n(null);for(const[t,s]of Ra(n))Rt(n,t)&&(Array.isArray(s)?e[t]=jo(s):s&&typeof s=="object"&&s.constructor===Object?e[t]=Xt(s):e[t]=s);return e}function Rs(n,e){for(;n!==null;){const s=Bo(n,e);if(s){if(s.get)return ft(s.get);if(typeof s.value=="function")return ft(s.value)}n=Mo(n)}function t(){return null}return t}const Br=ut(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Cn=ut(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),xn=ut(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),$o=ut(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),In=ut(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Go=ut(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Ur=ut(["#text"]),zr=ut(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Rn=ut(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),qr=ut(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Zs=ut(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Wo=Tt(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Yo=Tt(/<%[\w\W]*|[\w\W]*%>/gm),Zo=Tt(/\$\{[\w\W]*/gm),Xo=Tt(/^data-[\-\w.\u00B7-\uFFFF]+$/),Ko=Tt(/^aria-[\-\w]+$/),Oa=Tt(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Qo=Tt(/^(?:\w+script|data):/i),Jo=Tt(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Da=Tt(/^html$/i),ec=Tt(/^[a-z][.\w]*(-[.\w]+)+$/i);var Vr=Object.freeze({__proto__:null,ARIA_ATTR:Ko,ATTR_WHITESPACE:Jo,CUSTOM_ELEMENT:ec,DATA_ATTR:Xo,DOCTYPE_NAME:Da,ERB_EXPR:Yo,IS_ALLOWED_URI:Oa,IS_SCRIPT_OR_DATA:Qo,MUSTACHE_EXPR:Wo,TMPLIT_EXPR:Zo});const Os={element:1,text:3,progressingInstruction:7,comment:8,document:9},tc=function(){return typeof window>"u"?null:window},sc=function(e,t){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let s=null;const r="data-tt-policy-suffix";t&&t.hasAttribute(r)&&(s=t.getAttribute(r));const i="dompurify"+(s?"#"+s:"");try{return e.createPolicy(i,{createHTML(l){return l},createScriptURL(l){return l}})}catch{return console.warn("TrustedTypes policy "+i+" could not be created."),null}},Hr=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function Na(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:tc();const e=ae=>Na(ae);if(e.version="3.3.0",e.removed=[],!n||!n.document||n.document.nodeType!==Os.document||!n.Element)return e.isSupported=!1,e;let{document:t}=n;const s=t,r=s.currentScript,{DocumentFragment:i,HTMLTemplateElement:l,Node:a,Element:o,NodeFilter:c,NamedNodeMap:f=n.NamedNodeMap||n.MozNamedAttrMap,HTMLFormElement:m,DOMParser:_,trustedTypes:d}=n,v=o.prototype,b=Rs(v,"cloneNode"),g=Rs(v,"remove"),T=Rs(v,"nextSibling"),p=Rs(v,"childNodes"),E=Rs(v,"parentNode");if(typeof l=="function"){const ae=t.createElement("template");ae.content&&ae.content.ownerDocument&&(t=ae.content.ownerDocument)}let A,S="";const{implementation:C,createNodeIterator:x,createDocumentFragment:R,getElementsByTagName:D}=t,{importNode:F}=s;let M=Hr();e.isSupported=typeof Ra=="function"&&typeof E=="function"&&C&&C.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:z,ERB_EXPR:V,TMPLIT_EXPR:q,DATA_ATTR:te,ARIA_ATTR:U,IS_SCRIPT_OR_DATA:B,ATTR_WHITESPACE:W,CUSTOM_ELEMENT:G}=Vr;let{IS_ALLOWED_URI:Y}=Vr,$=null;const L=de({},[...Br,...Cn,...xn,...In,...Ur]);let Z=null;const se=de({},[...zr,...Rn,...qr,...Zs]);let H=Object.seal($n(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),le=null,ue=null;const fe=Object.seal($n(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let Pe=!0,xe=!0,Se=!1,$e=!0,Te=!1,Oe=!0,Fe=!1,Ue=!1,Vt=!1,gt=!1,De=!1,et=!1,Ft=!0,bt=!1;const ze="user-content-";let qe=!0,kt=!1,mt={},Ke=null;const yt=de({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Ct=null;const Ie=de({},["audio","video","img","source","image","track"]);let ce=null;const oe=de({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),wt="http://www.w3.org/1998/Math/MathML",Lt="http://www.w3.org/2000/svg",he="http://www.w3.org/1999/xhtml";let Ae=he,Et=!1,xt=null;const Ge=de({},[wt,Lt,he],An);let Ve=de({},["mi","mo","mn","ms","mtext"]),tt=de({},["annotation-xml"]);const Ht=de({},["title","style","font","a","script"]);let st=null;const jt=["application/xhtml+xml","text/html"],$t="text/html";let Ne=null,It=null;const hs=t.createElement("form"),ws=function(O){return O instanceof RegExp||O instanceof Function},Jt=function(){let O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(It&&It===O)){if((!O||typeof O!="object")&&(O={}),O=Xt(O),st=jt.indexOf(O.PARSER_MEDIA_TYPE)===-1?$t:O.PARSER_MEDIA_TYPE,Ne=st==="application/xhtml+xml"?An:nn,$=Rt(O,"ALLOWED_TAGS")?de({},O.ALLOWED_TAGS,Ne):L,Z=Rt(O,"ALLOWED_ATTR")?de({},O.ALLOWED_ATTR,Ne):se,xt=Rt(O,"ALLOWED_NAMESPACES")?de({},O.ALLOWED_NAMESPACES,An):Ge,ce=Rt(O,"ADD_URI_SAFE_ATTR")?de(Xt(oe),O.ADD_URI_SAFE_ATTR,Ne):oe,Ct=Rt(O,"ADD_DATA_URI_TAGS")?de(Xt(Ie),O.ADD_DATA_URI_TAGS,Ne):Ie,Ke=Rt(O,"FORBID_CONTENTS")?de({},O.FORBID_CONTENTS,Ne):yt,le=Rt(O,"FORBID_TAGS")?de({},O.FORBID_TAGS,Ne):Xt({}),ue=Rt(O,"FORBID_ATTR")?de({},O.FORBID_ATTR,Ne):Xt({}),mt=Rt(O,"USE_PROFILES")?O.USE_PROFILES:!1,Pe=O.ALLOW_ARIA_ATTR!==!1,xe=O.ALLOW_DATA_ATTR!==!1,Se=O.ALLOW_UNKNOWN_PROTOCOLS||!1,$e=O.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Te=O.SAFE_FOR_TEMPLATES||!1,Oe=O.SAFE_FOR_XML!==!1,Fe=O.WHOLE_DOCUMENT||!1,gt=O.RETURN_DOM||!1,De=O.RETURN_DOM_FRAGMENT||!1,et=O.RETURN_TRUSTED_TYPE||!1,Vt=O.FORCE_BODY||!1,Ft=O.SANITIZE_DOM!==!1,bt=O.SANITIZE_NAMED_PROPS||!1,qe=O.KEEP_CONTENT!==!1,kt=O.IN_PLACE||!1,Y=O.ALLOWED_URI_REGEXP||Oa,Ae=O.NAMESPACE||he,Ve=O.MATHML_TEXT_INTEGRATION_POINTS||Ve,tt=O.HTML_INTEGRATION_POINTS||tt,H=O.CUSTOM_ELEMENT_HANDLING||{},O.CUSTOM_ELEMENT_HANDLING&&ws(O.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(H.tagNameCheck=O.CUSTOM_ELEMENT_HANDLING.tagNameCheck),O.CUSTOM_ELEMENT_HANDLING&&ws(O.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(H.attributeNameCheck=O.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),O.CUSTOM_ELEMENT_HANDLING&&typeof O.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(H.allowCustomizedBuiltInElements=O.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Te&&(xe=!1),De&&(gt=!0),mt&&($=de({},Ur),Z=[],mt.html===!0&&(de($,Br),de(Z,zr)),mt.svg===!0&&(de($,Cn),de(Z,Rn),de(Z,Zs)),mt.svgFilters===!0&&(de($,xn),de(Z,Rn),de(Z,Zs)),mt.mathMl===!0&&(de($,In),de(Z,qr),de(Z,Zs))),O.ADD_TAGS&&(typeof O.ADD_TAGS=="function"?fe.tagCheck=O.ADD_TAGS:($===L&&($=Xt($)),de($,O.ADD_TAGS,Ne))),O.ADD_ATTR&&(typeof O.ADD_ATTR=="function"?fe.attributeCheck=O.ADD_ATTR:(Z===se&&(Z=Xt(Z)),de(Z,O.ADD_ATTR,Ne))),O.ADD_URI_SAFE_ATTR&&de(ce,O.ADD_URI_SAFE_ATTR,Ne),O.FORBID_CONTENTS&&(Ke===yt&&(Ke=Xt(Ke)),de(Ke,O.FORBID_CONTENTS,Ne)),qe&&($["#text"]=!0),Fe&&de($,["html","head","body"]),$.table&&(de($,["tbody"]),delete le.tbody),O.TRUSTED_TYPES_POLICY){if(typeof O.TRUSTED_TYPES_POLICY.createHTML!="function")throw Is('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof O.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Is('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');A=O.TRUSTED_TYPES_POLICY,S=A.createHTML("")}else A===void 0&&(A=sc(d,r)),A!==null&&typeof S=="string"&&(S=A.createHTML(""));ut&&ut(O),It=O}},ss=de({},[...Cn,...xn,...$o]),Es=de({},[...In,...Go]),js=function(O){let X=E(O);(!X||!X.tagName)&&(X={namespaceURI:Ae,tagName:"template"});const ie=nn(O.tagName),Ce=nn(X.tagName);return xt[O.namespaceURI]?O.namespaceURI===Lt?X.namespaceURI===he?ie==="svg":X.namespaceURI===wt?ie==="svg"&&(Ce==="annotation-xml"||Ve[Ce]):!!ss[ie]:O.namespaceURI===wt?X.namespaceURI===he?ie==="math":X.namespaceURI===Lt?ie==="math"&&tt[Ce]:!!Es[ie]:O.namespaceURI===he?X.namespaceURI===Lt&&!tt[Ce]||X.namespaceURI===wt&&!Ve[Ce]?!1:!Es[ie]&&(Ht[ie]||!ss[ie]):!!(st==="application/xhtml+xml"&&xt[O.namespaceURI]):!1},Mt=function(O){Cs(e.removed,{element:O});try{E(O).removeChild(O)}catch{g(O)}},ns=function(O,X){try{Cs(e.removed,{attribute:X.getAttributeNode(O),from:X})}catch{Cs(e.removed,{attribute:null,from:X})}if(X.removeAttribute(O),O==="is")if(gt||De)try{Mt(X)}catch{}else try{X.setAttribute(O,"")}catch{}},pr=function(O){let X=null,ie=null;if(Vt)O="<remove></remove>"+O;else{const Le=Tn(O,/^[\r\n\t ]+/);ie=Le&&Le[0]}st==="application/xhtml+xml"&&Ae===he&&(O='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+O+"</body></html>");const Ce=A?A.createHTML(O):O;if(Ae===he)try{X=new _().parseFromString(Ce,st)}catch{}if(!X||!X.documentElement){X=C.createDocument(Ae,"template",null);try{X.documentElement.innerHTML=Et?S:Ce}catch{}}const Qe=X.body||X.documentElement;return O&&ie&&Qe.insertBefore(t.createTextNode(ie),Qe.childNodes[0]||null),Ae===he?D.call(X,Fe?"html":"body")[0]:Fe?X.documentElement:Qe},gr=function(O){return x.call(O.ownerDocument||O,O,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT|c.SHOW_PROCESSING_INSTRUCTION|c.SHOW_CDATA_SECTION,null)},_n=function(O){return O instanceof m&&(typeof O.nodeName!="string"||typeof O.textContent!="string"||typeof O.removeChild!="function"||!(O.attributes instanceof f)||typeof O.removeAttribute!="function"||typeof O.setAttribute!="function"||typeof O.namespaceURI!="string"||typeof O.insertBefore!="function"||typeof O.hasChildNodes!="function")},mr=function(O){return typeof a=="function"&&O instanceof a};function Gt(ae,O,X){Ys(ae,ie=>{ie.call(e,O,X,It)})}const vr=function(O){let X=null;if(Gt(M.beforeSanitizeElements,O,null),_n(O))return Mt(O),!0;const ie=Ne(O.nodeName);if(Gt(M.uponSanitizeElement,O,{tagName:ie,allowedTags:$}),Oe&&O.hasChildNodes()&&!mr(O.firstElementChild)&&nt(/<[/\w!]/g,O.innerHTML)&&nt(/<[/\w!]/g,O.textContent)||O.nodeType===Os.progressingInstruction||Oe&&O.nodeType===Os.comment&&nt(/<[/\w]/g,O.data))return Mt(O),!0;if(!(fe.tagCheck instanceof Function&&fe.tagCheck(ie))&&(!$[ie]||le[ie])){if(!le[ie]&&br(ie)&&(H.tagNameCheck instanceof RegExp&&nt(H.tagNameCheck,ie)||H.tagNameCheck instanceof Function&&H.tagNameCheck(ie)))return!1;if(qe&&!Ke[ie]){const Ce=E(O)||O.parentNode,Qe=p(O)||O.childNodes;if(Qe&&Ce){const Le=Qe.length;for(let vt=Le-1;vt>=0;--vt){const Wt=b(Qe[vt],!0);Wt.__removalCount=(O.__removalCount||0)+1,Ce.insertBefore(Wt,T(O))}}}return Mt(O),!0}return O instanceof o&&!js(O)||(ie==="noscript"||ie==="noembed"||ie==="noframes")&&nt(/<\/no(script|embed|frames)/i,O.innerHTML)?(Mt(O),!0):(Te&&O.nodeType===Os.text&&(X=O.textContent,Ys([z,V,q],Ce=>{X=xs(X,Ce," ")}),O.textContent!==X&&(Cs(e.removed,{element:O.cloneNode()}),O.textContent=X)),Gt(M.afterSanitizeElements,O,null),!1)},_r=function(O,X,ie){if(Ft&&(X==="id"||X==="name")&&(ie in t||ie in hs))return!1;if(!(xe&&!ue[X]&&nt(te,X))){if(!(Pe&&nt(U,X))){if(!(fe.attributeCheck instanceof Function&&fe.attributeCheck(X,O))){if(!Z[X]||ue[X]){if(!(br(O)&&(H.tagNameCheck instanceof RegExp&&nt(H.tagNameCheck,O)||H.tagNameCheck instanceof Function&&H.tagNameCheck(O))&&(H.attributeNameCheck instanceof RegExp&&nt(H.attributeNameCheck,X)||H.attributeNameCheck instanceof Function&&H.attributeNameCheck(X,O))||X==="is"&&H.allowCustomizedBuiltInElements&&(H.tagNameCheck instanceof RegExp&&nt(H.tagNameCheck,ie)||H.tagNameCheck instanceof Function&&H.tagNameCheck(ie))))return!1}else if(!ce[X]){if(!nt(Y,xs(ie,W,""))){if(!((X==="src"||X==="xlink:href"||X==="href")&&O!=="script"&&qo(ie,"data:")===0&&Ct[O])){if(!(Se&&!nt(B,xs(ie,W,"")))){if(ie)return!1}}}}}}}return!0},br=function(O){return O!=="annotation-xml"&&Tn(O,G)},kr=function(O){Gt(M.beforeSanitizeAttributes,O,null);const{attributes:X}=O;if(!X||_n(O))return;const ie={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Z,forceKeepAttr:void 0};let Ce=X.length;for(;Ce--;){const Qe=X[Ce],{name:Le,namespaceURI:vt,value:Wt}=Qe,ps=Ne(Le),bn=Wt;let We=Le==="value"?bn:Vo(bn);if(ie.attrName=ps,ie.attrValue=We,ie.keepAttr=!0,ie.forceKeepAttr=void 0,Gt(M.uponSanitizeAttribute,O,ie),We=ie.attrValue,bt&&(ps==="id"||ps==="name")&&(ns(Le,O),We=ze+We),Oe&&nt(/((--!?|])>)|<\/(style|title|textarea)/i,We)){ns(Le,O);continue}if(ps==="attributename"&&Tn(We,"href")){ns(Le,O);continue}if(ie.forceKeepAttr)continue;if(!ie.keepAttr){ns(Le,O);continue}if(!$e&&nt(/\/>/i,We)){ns(Le,O);continue}Te&&Ys([z,V,q],wr=>{We=xs(We,wr," ")});const yr=Ne(O.nodeName);if(!_r(yr,ps,We)){ns(Le,O);continue}if(A&&typeof d=="object"&&typeof d.getAttributeType=="function"&&!vt)switch(d.getAttributeType(yr,ps)){case"TrustedHTML":{We=A.createHTML(We);break}case"TrustedScriptURL":{We=A.createScriptURL(We);break}}if(We!==bn)try{vt?O.setAttributeNS(vt,Le,We):O.setAttribute(Le,We),_n(O)?Mt(O):Mr(e.removed)}catch{ns(Le,O)}}Gt(M.afterSanitizeAttributes,O,null)},Wa=function ae(O){let X=null;const ie=gr(O);for(Gt(M.beforeSanitizeShadowDOM,O,null);X=ie.nextNode();)Gt(M.uponSanitizeShadowNode,X,null),vr(X),kr(X),X.content instanceof i&&ae(X.content);Gt(M.afterSanitizeShadowDOM,O,null)};return e.sanitize=function(ae){let O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},X=null,ie=null,Ce=null,Qe=null;if(Et=!ae,Et&&(ae="<!-->"),typeof ae!="string"&&!mr(ae))if(typeof ae.toString=="function"){if(ae=ae.toString(),typeof ae!="string")throw Is("dirty is not a string, aborting")}else throw Is("toString is not a function");if(!e.isSupported)return ae;if(Ue||Jt(O),e.removed=[],typeof ae=="string"&&(kt=!1),kt){if(ae.nodeName){const Wt=Ne(ae.nodeName);if(!$[Wt]||le[Wt])throw Is("root node is forbidden and cannot be sanitized in-place")}}else if(ae instanceof a)X=pr("<!---->"),ie=X.ownerDocument.importNode(ae,!0),ie.nodeType===Os.element&&ie.nodeName==="BODY"||ie.nodeName==="HTML"?X=ie:X.appendChild(ie);else{if(!gt&&!Te&&!Fe&&ae.indexOf("<")===-1)return A&&et?A.createHTML(ae):ae;if(X=pr(ae),!X)return gt?null:et?S:""}X&&Vt&&Mt(X.firstChild);const Le=gr(kt?ae:X);for(;Ce=Le.nextNode();)vr(Ce),kr(Ce),Ce.content instanceof i&&Wa(Ce.content);if(kt)return ae;if(gt){if(De)for(Qe=R.call(X.ownerDocument);X.firstChild;)Qe.appendChild(X.firstChild);else Qe=X;return(Z.shadowroot||Z.shadowrootmode)&&(Qe=F.call(s,Qe,!0)),Qe}let vt=Fe?X.outerHTML:X.innerHTML;return Fe&&$["!doctype"]&&X.ownerDocument&&X.ownerDocument.doctype&&X.ownerDocument.doctype.name&&nt(Da,X.ownerDocument.doctype.name)&&(vt="<!DOCTYPE "+X.ownerDocument.doctype.name+`>
`+vt),Te&&Ys([z,V,q],Wt=>{vt=xs(vt,Wt," ")}),A&&et?A.createHTML(vt):vt},e.setConfig=function(){let ae=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Jt(ae),Ue=!0},e.clearConfig=function(){It=null,Ue=!1},e.isValidAttribute=function(ae,O,X){It||Jt({});const ie=Ne(ae),Ce=Ne(O);return _r(ie,Ce,X)},e.addHook=function(ae,O){typeof O=="function"&&Cs(M[ae],O)},e.removeHook=function(ae,O){if(O!==void 0){const X=Uo(M[ae],O);return X===-1?void 0:zo(M[ae],X,1)[0]}return Mr(M[ae])},e.removeHooks=function(ae){M[ae]=[]},e.removeAllHooks=function(){M=Hr()},e}var nc=Na();Prism.languages.javascript=Prism.languages.extend("clike",{"class-name":[Prism.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/});Prism.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/;Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:Prism.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:Prism.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/});Prism.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:Prism.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}});Prism.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}});Prism.languages.markup&&(Prism.languages.markup.tag.addInlined("script","javascript"),Prism.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript"));Prism.languages.js=Prism.languages.javascript;(function(n){n.languages.typescript=n.languages.extend("javascript",{"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|type)\s+)(?!keyof\b)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?:\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>)?/,lookbehind:!0,greedy:!0,inside:null},builtin:/\b(?:Array|Function|Promise|any|boolean|console|never|number|string|symbol|unknown)\b/}),n.languages.typescript.keyword.push(/\b(?:abstract|declare|is|keyof|readonly|require)\b/,/\b(?:asserts|infer|interface|module|namespace|type)\b(?=\s*(?:[{_$a-zA-Z\xA0-\uFFFF]|$))/,/\btype\b(?=\s*(?:[\{*]|$))/),delete n.languages.typescript.parameter,delete n.languages.typescript["literal-property"];var e=n.languages.extend("typescript",{});delete e["class-name"],n.languages.typescript["class-name"].inside=e,n.languages.insertBefore("typescript","function",{decorator:{pattern:/@[$\w\xA0-\uFFFF]+/,inside:{at:{pattern:/^@/,alias:"operator"},function:/^[\s\S]+/}},"generic-function":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>(?=\s*\()/,greedy:!0,inside:{function:/^#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:e}}}}),n.languages.ts=n.languages.typescript})(Prism);Prism.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0,greedy:!0},"string-interpolation":{pattern:/(?:f|fr|rf)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:\{\{)*)\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}])+\})+\})+\}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=\}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|br|rb)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|br|rb)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^[\t ]*)@\w+(?:\.\w+)*/m,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:_(?=\s*:)|and|as|assert|async|await|break|case|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|match|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:False|None|True)\b/,number:/\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\b|(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:e[+-]?\d+(?:_\d+)*)?j?(?!\w)/i,operator:/[-+%=]=?|!=|:=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/};Prism.languages.python["string-interpolation"].inside.interpolation.inside.rest=Prism.languages.python;Prism.languages.py=Prism.languages.python;(function(n){var e=/\b(?:abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|exports|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|module|native|new|non-sealed|null|open|opens|package|permits|private|protected|provides|public|record(?!\s*[(){}[\]<>=%~.:,;?+\-*/&|^])|requires|return|sealed|short|static|strictfp|super|switch|synchronized|this|throw|throws|to|transient|transitive|try|uses|var|void|volatile|while|with|yield)\b/,t=/(?:[a-z]\w*\s*\.\s*)*(?:[A-Z]\w*\s*\.\s*)*/.source,s={pattern:RegExp(/(^|[^\w.])/.source+t+/[A-Z](?:[\d_A-Z]*[a-z]\w*)?\b/.source),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}},punctuation:/\./}};n.languages.java=n.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"/,lookbehind:!0,greedy:!0},"class-name":[s,{pattern:RegExp(/(^|[^\w.])/.source+t+/[A-Z]\w*(?=\s+\w+\s*[;,=()]|\s*(?:\[[\s,]*\]\s*)?::\s*new\b)/.source),lookbehind:!0,inside:s.inside},{pattern:RegExp(/(\b(?:class|enum|extends|implements|instanceof|interface|new|record|throws)\s+)/.source+t+/[A-Z]\w*\b/.source),lookbehind:!0,inside:s.inside}],keyword:e,function:[n.languages.clike.function,{pattern:/(::\s*)[a-z_]\w*/,lookbehind:!0}],number:/\b0b[01][01_]*L?\b|\b0x(?:\.[\da-f_p+-]+|[\da-f_]+(?:\.[\da-f_p+-]+)?)\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfl]?/i,operator:{pattern:/(^|[^.])(?:<<=?|>>>?=?|->|--|\+\+|&&|\|\||::|[?:~]|[-+*/%&|^!=<>]=?)/m,lookbehind:!0},constant:/\b[A-Z][A-Z_\d]+\b/}),n.languages.insertBefore("java","string",{"triple-quoted-string":{pattern:/"""[ \t]*[\r\n](?:(?:"|"")?(?:\\.|[^"\\]))*"""/,greedy:!0,alias:"string"},char:{pattern:/'(?:\\.|[^'\\\r\n]){1,6}'/,greedy:!0}}),n.languages.insertBefore("java","class-name",{annotation:{pattern:/(^|[^.])@\w+(?:\s*\.\s*\w+)*/,lookbehind:!0,alias:"punctuation"},generics:{pattern:/<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&))*>)*>)*>)*>/,inside:{"class-name":s,keyword:e,punctuation:/[<>(),.:]/,operator:/[?&|]/}},import:[{pattern:RegExp(/(\bimport\s+)/.source+t+/(?:[A-Z]\w*|\*)(?=\s*;)/.source),lookbehind:!0,inside:{namespace:s.inside.namespace,punctuation:/\./,operator:/\*/,"class-name":/\w+/}},{pattern:RegExp(/(\bimport\s+static\s+)/.source+t+/(?:\w+|\*)(?=\s*;)/.source),lookbehind:!0,alias:"static",inside:{namespace:s.inside.namespace,static:/\b\w+$/,punctuation:/\./,operator:/\*/,"class-name":/\w+/}}],namespace:{pattern:RegExp(/(\b(?:exports|import(?:\s+static)?|module|open|opens|package|provides|requires|to|transitive|uses|with)\s+)(?!<keyword>)[a-z]\w*(?:\.[a-z]\w*)*\.?/.source.replace(/<keyword>/g,function(){return e.source})),lookbehind:!0,inside:{punctuation:/\./}}})})(Prism);Prism.languages.c=Prism.languages.extend("clike",{comment:{pattern:/\/\/(?:[^\r\n\\]|\\(?:\r\n?|\n|(?![\r\n])))*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},"class-name":{pattern:/(\b(?:enum|struct)\s+(?:__attribute__\s*\(\([\s\S]*?\)\)\s*)?)\w+|\b[a-z]\w*_t\b/,lookbehind:!0},keyword:/\b(?:_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|__attribute__|asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|inline|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|typeof|union|unsigned|void|volatile|while)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/});Prism.languages.insertBefore("c","string",{char:{pattern:/'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n]){0,32}'/,greedy:!0}});Prism.languages.insertBefore("c","string",{macro:{pattern:/(^[\t ]*)#\s*[a-z](?:[^\r\n\\/]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{string:[{pattern:/^(#\s*include\s*)<[^>]+>/,lookbehind:!0},Prism.languages.c.string],char:Prism.languages.c.char,comment:Prism.languages.c.comment,"macro-name":[{pattern:/(^#\s*define\s+)\w+\b(?!\()/i,lookbehind:!0},{pattern:/(^#\s*define\s+)\w+\b(?=\()/i,lookbehind:!0,alias:"function"}],directive:{pattern:/^(#\s*)[a-z]+/,lookbehind:!0,alias:"keyword"},"directive-hash":/^#/,punctuation:/##|\\(?=[\r\n])/,expression:{pattern:/\S[\s\S]*/,inside:Prism.languages.c}}}});Prism.languages.insertBefore("c","function",{constant:/\b(?:EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|__DATE__|__FILE__|__LINE__|__TIMESTAMP__|__TIME__|__func__|stderr|stdin|stdout)\b/});delete Prism.languages.c.boolean;(function(n){var e=/\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char16_t|char32_t|char8_t|class|co_await|co_return|co_yield|compl|concept|const|const_cast|consteval|constexpr|constinit|continue|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|final|float|for|friend|goto|if|import|inline|int|int16_t|int32_t|int64_t|int8_t|long|module|mutable|namespace|new|noexcept|nullptr|operator|override|private|protected|public|register|reinterpret_cast|requires|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|uint16_t|uint32_t|uint64_t|uint8_t|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,t=/\b(?!<keyword>)\w+(?:\s*\.\s*\w+)*\b/.source.replace(/<keyword>/g,function(){return e.source});n.languages.cpp=n.languages.extend("c",{"class-name":[{pattern:RegExp(/(\b(?:class|concept|enum|struct|typename)\s+)(?!<keyword>)\w+/.source.replace(/<keyword>/g,function(){return e.source})),lookbehind:!0},/\b[A-Z]\w*(?=\s*::\s*\w+\s*\()/,/\b[A-Z_]\w*(?=\s*::\s*~\w+\s*\()/i,/\b\w+(?=\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>\s*::\s*\w+\s*\()/],keyword:e,number:{pattern:/(?:\b0b[01']+|\b0x(?:[\da-f']+(?:\.[\da-f']*)?|\.[\da-f']+)(?:p[+-]?[\d']+)?|(?:\b[\d']+(?:\.[\d']*)?|\B\.[\d']+)(?:e[+-]?[\d']+)?)[ful]{0,4}/i,greedy:!0},operator:/>>=?|<<=?|->|--|\+\+|&&|\|\||[?:~]|<=>|[-+*/%&|^!=<>]=?|\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/,boolean:/\b(?:false|true)\b/}),n.languages.insertBefore("cpp","string",{module:{pattern:RegExp(/(\b(?:import|module)\s+)/.source+"(?:"+/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|<[^<>\r\n]*>/.source+"|"+/<mod-name>(?:\s*:\s*<mod-name>)?|:\s*<mod-name>/.source.replace(/<mod-name>/g,function(){return t})+")"),lookbehind:!0,greedy:!0,inside:{string:/^[<"][\s\S]+/,operator:/:/,punctuation:/\./}},"raw-string":{pattern:/R"([^()\\ ]{0,16})\([\s\S]*?\)\1"/,alias:"string",greedy:!0}}),n.languages.insertBefore("cpp","keyword",{"generic-function":{pattern:/\b(?!operator\b)[a-z_]\w*\s*<(?:[^<>]|<[^<>]*>)*>(?=\s*\()/i,inside:{function:/^\w+/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:n.languages.cpp}}}}),n.languages.insertBefore("cpp","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}}),n.languages.insertBefore("cpp","class-name",{"base-clause":{pattern:/(\b(?:class|struct)\s+\w+\s*:\s*)[^;{}"'\s]+(?:\s+[^;{}"'\s]+)*(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:n.languages.extend("cpp",{})}}),n.languages.insertBefore("inside","double-colon",{"class-name":/\b[a-z_]\w*\b(?!\s*::)/i},n.languages.cpp["base-clause"])})(Prism);(function(n){function e(G,Y){return G.replace(/<<(\d+)>>/g,function($,L){return"(?:"+Y[+L]+")"})}function t(G,Y,$){return RegExp(e(G,Y),"")}function s(G,Y){for(var $=0;$<Y;$++)G=G.replace(/<<self>>/g,function(){return"(?:"+G+")"});return G.replace(/<<self>>/g,"[^\\s\\S]")}var r={type:"bool byte char decimal double dynamic float int long object sbyte short string uint ulong ushort var void",typeDeclaration:"class enum interface record struct",contextual:"add alias and ascending async await by descending from(?=\\s*(?:\\w|$)) get global group into init(?=\\s*;) join let nameof not notnull on or orderby partial remove select set unmanaged value when where with(?=\\s*{)",other:"abstract as base break case catch checked const continue default delegate do else event explicit extern finally fixed for foreach goto if implicit in internal is lock namespace new null operator out override params private protected public readonly ref return sealed sizeof stackalloc static switch this throw try typeof unchecked unsafe using virtual volatile while yield"};function i(G){return"\\b(?:"+G.trim().replace(/ /g,"|")+")\\b"}var l=i(r.typeDeclaration),a=RegExp(i(r.type+" "+r.typeDeclaration+" "+r.contextual+" "+r.other)),o=i(r.typeDeclaration+" "+r.contextual+" "+r.other),c=i(r.type+" "+r.typeDeclaration+" "+r.other),f=s(/<(?:[^<>;=+\-*/%&|^]|<<self>>)*>/.source,2),m=s(/\((?:[^()]|<<self>>)*\)/.source,2),_=/@?\b[A-Za-z_]\w*\b/.source,d=e(/<<0>>(?:\s*<<1>>)?/.source,[_,f]),v=e(/(?!<<0>>)<<1>>(?:\s*\.\s*<<1>>)*/.source,[o,d]),b=/\[\s*(?:,\s*)*\]/.source,g=e(/<<0>>(?:\s*(?:\?\s*)?<<1>>)*(?:\s*\?)?/.source,[v,b]),T=e(/[^,()<>[\];=+\-*/%&|^]|<<0>>|<<1>>|<<2>>/.source,[f,m,b]),p=e(/\(<<0>>+(?:,<<0>>+)+\)/.source,[T]),E=e(/(?:<<0>>|<<1>>)(?:\s*(?:\?\s*)?<<2>>)*(?:\s*\?)?/.source,[p,v,b]),A={keyword:a,punctuation:/[<>()?,.:[\]]/},S=/'(?:[^\r\n'\\]|\\.|\\[Uux][\da-fA-F]{1,8})'/.source,C=/"(?:\\.|[^\\"\r\n])*"/.source,x=/@"(?:""|\\[\s\S]|[^\\"])*"(?!")/.source;n.languages.csharp=n.languages.extend("clike",{string:[{pattern:t(/(^|[^$\\])<<0>>/.source,[x]),lookbehind:!0,greedy:!0},{pattern:t(/(^|[^@$\\])<<0>>/.source,[C]),lookbehind:!0,greedy:!0}],"class-name":[{pattern:t(/(\busing\s+static\s+)<<0>>(?=\s*;)/.source,[v]),lookbehind:!0,inside:A},{pattern:t(/(\busing\s+<<0>>\s*=\s*)<<1>>(?=\s*;)/.source,[_,E]),lookbehind:!0,inside:A},{pattern:t(/(\busing\s+)<<0>>(?=\s*=)/.source,[_]),lookbehind:!0},{pattern:t(/(\b<<0>>\s+)<<1>>/.source,[l,d]),lookbehind:!0,inside:A},{pattern:t(/(\bcatch\s*\(\s*)<<0>>/.source,[v]),lookbehind:!0,inside:A},{pattern:t(/(\bwhere\s+)<<0>>/.source,[_]),lookbehind:!0},{pattern:t(/(\b(?:is(?:\s+not)?|as)\s+)<<0>>/.source,[g]),lookbehind:!0,inside:A},{pattern:t(/\b<<0>>(?=\s+(?!<<1>>|with\s*\{)<<2>>(?:\s*[=,;:{)\]]|\s+(?:in|when)\b))/.source,[E,c,_]),inside:A}],keyword:a,number:/(?:\b0(?:x[\da-f_]*[\da-f]|b[01_]*[01])|(?:\B\.\d+(?:_+\d+)*|\b\d+(?:_+\d+)*(?:\.\d+(?:_+\d+)*)?)(?:e[-+]?\d+(?:_+\d+)*)?)(?:[dflmu]|lu|ul)?\b/i,operator:/>>=?|<<=?|[-=]>|([-+&|])\1|~|\?\?=?|[-+*/%&|^!=<>]=?/,punctuation:/\?\.?|::|[{}[\];(),.:]/}),n.languages.insertBefore("csharp","number",{range:{pattern:/\.\./,alias:"operator"}}),n.languages.insertBefore("csharp","punctuation",{"named-parameter":{pattern:t(/([(,]\s*)<<0>>(?=\s*:)/.source,[_]),lookbehind:!0,alias:"punctuation"}}),n.languages.insertBefore("csharp","class-name",{namespace:{pattern:t(/(\b(?:namespace|using)\s+)<<0>>(?:\s*\.\s*<<0>>)*(?=\s*[;{])/.source,[_]),lookbehind:!0,inside:{punctuation:/\./}},"type-expression":{pattern:t(/(\b(?:default|sizeof|typeof)\s*\(\s*(?!\s))(?:[^()\s]|\s(?!\s)|<<0>>)*(?=\s*\))/.source,[m]),lookbehind:!0,alias:"class-name",inside:A},"return-type":{pattern:t(/<<0>>(?=\s+(?:<<1>>\s*(?:=>|[({]|\.\s*this\s*\[)|this\s*\[))/.source,[E,v]),inside:A,alias:"class-name"},"constructor-invocation":{pattern:t(/(\bnew\s+)<<0>>(?=\s*[[({])/.source,[E]),lookbehind:!0,inside:A,alias:"class-name"},"generic-method":{pattern:t(/<<0>>\s*<<1>>(?=\s*\()/.source,[_,f]),inside:{function:t(/^<<0>>/.source,[_]),generic:{pattern:RegExp(f),alias:"class-name",inside:A}}},"type-list":{pattern:t(/\b((?:<<0>>\s+<<1>>|record\s+<<1>>\s*<<5>>|where\s+<<2>>)\s*:\s*)(?:<<3>>|<<4>>|<<1>>\s*<<5>>|<<6>>)(?:\s*,\s*(?:<<3>>|<<4>>|<<6>>))*(?=\s*(?:where|[{;]|=>|$))/.source,[l,d,_,E,a.source,m,/\bnew\s*\(\s*\)/.source]),lookbehind:!0,inside:{"record-arguments":{pattern:t(/(^(?!new\s*\()<<0>>\s*)<<1>>/.source,[d,m]),lookbehind:!0,greedy:!0,inside:n.languages.csharp},keyword:a,"class-name":{pattern:RegExp(E),greedy:!0,inside:A},punctuation:/[,()]/}},preprocessor:{pattern:/(^[\t ]*)#.*/m,lookbehind:!0,alias:"property",inside:{directive:{pattern:/(#)\b(?:define|elif|else|endif|endregion|error|if|line|nullable|pragma|region|undef|warning)\b/,lookbehind:!0,alias:"keyword"}}}});var R=C+"|"+S,D=e(/\/(?![*/])|\/\/[^\r\n]*[\r\n]|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>/.source,[R]),F=s(e(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[D]),2),M=/\b(?:assembly|event|field|method|module|param|property|return|type)\b/.source,z=e(/<<0>>(?:\s*\(<<1>>*\))?/.source,[v,F]);n.languages.insertBefore("csharp","class-name",{attribute:{pattern:t(/((?:^|[^\s\w>)?])\s*\[\s*)(?:<<0>>\s*:\s*)?<<1>>(?:\s*,\s*<<1>>)*(?=\s*\])/.source,[M,z]),lookbehind:!0,greedy:!0,inside:{target:{pattern:t(/^<<0>>(?=\s*:)/.source,[M]),alias:"keyword"},"attribute-arguments":{pattern:t(/\(<<0>>*\)/.source,[F]),inside:n.languages.csharp},"class-name":{pattern:RegExp(v),inside:{punctuation:/\./}},punctuation:/[:,]/}}});var V=/:[^}\r\n]+/.source,q=s(e(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[D]),2),te=e(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[q,V]),U=s(e(/[^"'/()]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>|\(<<self>>*\)/.source,[R]),2),B=e(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[U,V]);function W(G,Y){return{interpolation:{pattern:t(/((?:^|[^{])(?:\{\{)*)<<0>>/.source,[G]),lookbehind:!0,inside:{"format-string":{pattern:t(/(^\{(?:(?![}:])<<0>>)*)<<1>>(?=\}$)/.source,[Y,V]),lookbehind:!0,inside:{punctuation:/^:/}},punctuation:/^\{|\}$/,expression:{pattern:/[\s\S]+/,alias:"language-csharp",inside:n.languages.csharp}}},string:/[\s\S]+/}}n.languages.insertBefore("csharp","string",{"interpolation-string":[{pattern:t(/(^|[^\\])(?:\$@|@\$)"(?:""|\\[\s\S]|\{\{|<<0>>|[^\\{"])*"/.source,[te]),lookbehind:!0,greedy:!0,inside:W(te,q)},{pattern:t(/(^|[^@\\])\$"(?:\\.|\{\{|<<0>>|[^\\"{])*"/.source,[B]),lookbehind:!0,greedy:!0,inside:W(B,U)}],char:{pattern:RegExp(S),greedy:!0}}),n.languages.dotnet=n.languages.cs=n.languages.csharp})(Prism);Prism.languages.go=Prism.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"|`[^`]*`/,lookbehind:!0,greedy:!0},keyword:/\b(?:break|case|chan|const|continue|default|defer|else|fallthrough|for|func|go(?:to)?|if|import|interface|map|package|range|return|select|struct|switch|type|var)\b/,boolean:/\b(?:_|false|iota|nil|true)\b/,number:[/\b0(?:b[01_]+|o[0-7_]+)i?\b/i,/\b0x(?:[a-f\d_]+(?:\.[a-f\d_]*)?|\.[a-f\d_]+)(?:p[+-]?\d+(?:_\d+)*)?i?(?!\w)/i,/(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?[\d_]+)?i?(?!\w)/i],operator:/[*\/%^!=]=?|\+[=+]?|-[=-]?|\|[=|]?|&(?:=|&|\^=?)?|>(?:>=?|=)?|<(?:<=?|=|-)?|:=|\.\.\./,builtin:/\b(?:append|bool|byte|cap|close|complex|complex(?:64|128)|copy|delete|error|float(?:32|64)|u?int(?:8|16|32|64)?|imag|len|make|new|panic|print(?:ln)?|real|recover|rune|string|uintptr)\b/});Prism.languages.insertBefore("go","string",{char:{pattern:/'(?:\\.|[^'\\\r\n]){0,10}'/,greedy:!0}});delete Prism.languages.go["class-name"];(function(n){for(var e=/\/\*(?:[^*/]|\*(?!\/)|\/(?!\*)|<self>)*\*\//.source,t=0;t<2;t++)e=e.replace(/<self>/g,function(){return e});e=e.replace(/<self>/g,function(){return/[^\s\S]/.source}),n.languages.rust={comment:[{pattern:RegExp(/(^|[^\\])/.source+e),lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/b?"(?:\\[\s\S]|[^\\"])*"|b?r(#*)"(?:[^"]|"(?!\1))*"\1/,greedy:!0},char:{pattern:/b?'(?:\\(?:x[0-7][\da-fA-F]|u\{(?:[\da-fA-F]_*){1,6}\}|.)|[^\\\r\n\t'])'/,greedy:!0},attribute:{pattern:/#!?\[(?:[^\[\]"]|"(?:\\[\s\S]|[^\\"])*")*\]/,greedy:!0,alias:"attr-name",inside:{string:null}},"closure-params":{pattern:/([=(,:]\s*|\bmove\s*)\|[^|]*\||\|[^|]*\|(?=\s*(?:\{|->))/,lookbehind:!0,greedy:!0,inside:{"closure-punctuation":{pattern:/^\||\|$/,alias:"punctuation"},rest:null}},"lifetime-annotation":{pattern:/'\w+/,alias:"symbol"},"fragment-specifier":{pattern:/(\$\w+:)[a-z]+/,lookbehind:!0,alias:"punctuation"},variable:/\$\w+/,"function-definition":{pattern:/(\bfn\s+)\w+/,lookbehind:!0,alias:"function"},"type-definition":{pattern:/(\b(?:enum|struct|trait|type|union)\s+)\w+/,lookbehind:!0,alias:"class-name"},"module-declaration":[{pattern:/(\b(?:crate|mod)\s+)[a-z][a-z_\d]*/,lookbehind:!0,alias:"namespace"},{pattern:/(\b(?:crate|self|super)\s*)::\s*[a-z][a-z_\d]*\b(?:\s*::(?:\s*[a-z][a-z_\d]*\s*::)*)?/,lookbehind:!0,alias:"namespace",inside:{punctuation:/::/}}],keyword:[/\b(?:Self|abstract|as|async|await|become|box|break|const|continue|crate|do|dyn|else|enum|extern|final|fn|for|if|impl|in|let|loop|macro|match|mod|move|mut|override|priv|pub|ref|return|self|static|struct|super|trait|try|type|typeof|union|unsafe|unsized|use|virtual|where|while|yield)\b/,/\b(?:bool|char|f(?:32|64)|[ui](?:8|16|32|64|128|size)|str)\b/],function:/\b[a-z_]\w*(?=\s*(?:::\s*<|\())/,macro:{pattern:/\b\w+!/,alias:"property"},constant:/\b[A-Z_][A-Z_\d]+\b/,"class-name":/\b[A-Z]\w*\b/,namespace:{pattern:/(?:\b[a-z][a-z_\d]*\s*::\s*)*\b[a-z][a-z_\d]*\s*::(?!\s*<)/,inside:{punctuation:/::/}},number:/\b(?:0x[\dA-Fa-f](?:_?[\dA-Fa-f])*|0o[0-7](?:_?[0-7])*|0b[01](?:_?[01])*|(?:(?:\d(?:_?\d)*)?\.)?\d(?:_?\d)*(?:[Ee][+-]?\d+)?)(?:_?(?:f32|f64|[iu](?:8|16|32|64|size)?))?\b/,boolean:/\b(?:false|true)\b/,punctuation:/->|\.\.=|\.{1,3}|::|[{}[\];(),:]/,operator:/[-+*\/%!^]=?|=[=>]?|&[&=]?|\|[|=]?|<<?=?|>>?=?|[@?]/},n.languages.rust["closure-params"].inside.rest=n.languages.rust,n.languages.rust.attribute.inside.string=n.languages.rust.string})(Prism);(function(n){n.languages.ruby=n.languages.extend("clike",{comment:{pattern:/#.*|^=begin\s[\s\S]*?^=end/m,greedy:!0},"class-name":{pattern:/(\b(?:class|module)\s+|\bcatch\s+\()[\w.\\]+|\b[A-Z_]\w*(?=\s*\.\s*new\b)/,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:BEGIN|END|alias|and|begin|break|case|class|def|define_method|defined|do|each|else|elsif|end|ensure|extend|for|if|in|include|module|new|next|nil|not|or|prepend|private|protected|public|raise|redo|require|rescue|retry|return|self|super|then|throw|undef|unless|until|when|while|yield)\b/,operator:/\.{2,3}|&\.|===|<?=>|[!=]?~|(?:&&|\|\||<<|>>|\*\*|[+\-*/%<>!^&|=])=?|[?:]/,punctuation:/[(){}[\].,;]/}),n.languages.insertBefore("ruby","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}});var e={pattern:/((?:^|[^\\])(?:\\{2})*)#\{(?:[^{}]|\{[^{}]*\})*\}/,lookbehind:!0,inside:{content:{pattern:/^(#\{)[\s\S]+(?=\}$)/,lookbehind:!0,inside:n.languages.ruby},delimiter:{pattern:/^#\{|\}$/,alias:"punctuation"}}};delete n.languages.ruby.function;var t="(?:"+[/([^a-zA-Z0-9\s{(\[<=])(?:(?!\1)[^\\]|\\[\s\S])*\1/.source,/\((?:[^()\\]|\\[\s\S]|\((?:[^()\\]|\\[\s\S])*\))*\)/.source,/\{(?:[^{}\\]|\\[\s\S]|\{(?:[^{}\\]|\\[\s\S])*\})*\}/.source,/\[(?:[^\[\]\\]|\\[\s\S]|\[(?:[^\[\]\\]|\\[\s\S])*\])*\]/.source,/<(?:[^<>\\]|\\[\s\S]|<(?:[^<>\\]|\\[\s\S])*>)*>/.source].join("|")+")",s=/(?:"(?:\\.|[^"\\\r\n])*"|(?:\b[a-zA-Z_]\w*|[^\s\0-\x7F]+)[?!]?|\$.)/.source;n.languages.insertBefore("ruby","keyword",{"regex-literal":[{pattern:RegExp(/%r/.source+t+/[egimnosux]{0,6}/.source),greedy:!0,inside:{interpolation:e,regex:/[\s\S]+/}},{pattern:/(^|[^/])\/(?!\/)(?:\[[^\r\n\]]+\]|\\.|[^[/\\\r\n])+\/[egimnosux]{0,6}(?=\s*(?:$|[\r\n,.;})#]))/,lookbehind:!0,greedy:!0,inside:{interpolation:e,regex:/[\s\S]+/}}],variable:/[@$]+[a-zA-Z_]\w*(?:[?!]|\b)/,symbol:[{pattern:RegExp(/(^|[^:]):/.source+s),lookbehind:!0,greedy:!0},{pattern:RegExp(/([\r\n{(,][ \t]*)/.source+s+/(?=:(?!:))/.source),lookbehind:!0,greedy:!0}],"method-definition":{pattern:/(\bdef\s+)\w+(?:\s*\.\s*\w+)?/,lookbehind:!0,inside:{function:/\b\w+$/,keyword:/^self\b/,"class-name":/^\w+/,punctuation:/\./}}}),n.languages.insertBefore("ruby","string",{"string-literal":[{pattern:RegExp(/%[qQiIwWs]?/.source+t),greedy:!0,inside:{interpolation:e,string:/[\s\S]+/}},{pattern:/("|')(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|(?!\1)[^\\#\r\n])*\1/,greedy:!0,inside:{interpolation:e,string:/[\s\S]+/}},{pattern:/<<[-~]?([a-z_]\w*)[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?[a-z_]\w*|\b[a-z_]\w*$/i,inside:{symbol:/\b\w+/,punctuation:/^<<[-~]?/}},interpolation:e,string:/[\s\S]+/}},{pattern:/<<[-~]?'([a-z_]\w*)'[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?'[a-z_]\w*'|\b[a-z_]\w*$/i,inside:{symbol:/\b\w+/,punctuation:/^<<[-~]?'|'$/}},string:/[\s\S]+/}}],"command-literal":[{pattern:RegExp(/%x/.source+t),greedy:!0,inside:{interpolation:e,command:{pattern:/[\s\S]+/,alias:"string"}}},{pattern:/`(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|[^\\`#\r\n])*`/,greedy:!0,inside:{interpolation:e,command:{pattern:/[\s\S]+/,alias:"string"}}}]}),delete n.languages.ruby.string,n.languages.insertBefore("ruby","number",{builtin:/\b(?:Array|Bignum|Binding|Class|Continuation|Dir|Exception|FalseClass|File|Fixnum|Float|Hash|IO|Integer|MatchData|Method|Module|NilClass|Numeric|Object|Proc|Range|Regexp|Stat|String|Struct|Symbol|TMS|Thread|ThreadGroup|Time|TrueClass)\b/,constant:/\b[A-Z][A-Z0-9_]*(?:[?!]|\b)/}),n.languages.rb=n.languages.ruby})(Prism);(function(n){var e="\\b(?:BASH|BASHOPTS|BASH_ALIASES|BASH_ARGC|BASH_ARGV|BASH_CMDS|BASH_COMPLETION_COMPAT_DIR|BASH_LINENO|BASH_REMATCH|BASH_SOURCE|BASH_VERSINFO|BASH_VERSION|COLORTERM|COLUMNS|COMP_WORDBREAKS|DBUS_SESSION_BUS_ADDRESS|DEFAULTS_PATH|DESKTOP_SESSION|DIRSTACK|DISPLAY|EUID|GDMSESSION|GDM_LANG|GNOME_KEYRING_CONTROL|GNOME_KEYRING_PID|GPG_AGENT_INFO|GROUPS|HISTCONTROL|HISTFILE|HISTFILESIZE|HISTSIZE|HOME|HOSTNAME|HOSTTYPE|IFS|INSTANCE|JOB|LANG|LANGUAGE|LC_ADDRESS|LC_ALL|LC_IDENTIFICATION|LC_MEASUREMENT|LC_MONETARY|LC_NAME|LC_NUMERIC|LC_PAPER|LC_TELEPHONE|LC_TIME|LESSCLOSE|LESSOPEN|LINES|LOGNAME|LS_COLORS|MACHTYPE|MAILCHECK|MANDATORY_PATH|NO_AT_BRIDGE|OLDPWD|OPTERR|OPTIND|ORBIT_SOCKETDIR|OSTYPE|PAPERSIZE|PATH|PIPESTATUS|PPID|PS1|PS2|PS3|PS4|PWD|RANDOM|REPLY|SECONDS|SELINUX_INIT|SESSION|SESSIONTYPE|SESSION_MANAGER|SHELL|SHELLOPTS|SHLVL|SSH_AUTH_SOCK|TERM|UID|UPSTART_EVENTS|UPSTART_INSTANCE|UPSTART_JOB|UPSTART_SESSION|USER|WINDOWID|XAUTHORITY|XDG_CONFIG_DIRS|XDG_CURRENT_DESKTOP|XDG_DATA_DIRS|XDG_GREETER_DATA_DIR|XDG_MENU_PREFIX|XDG_RUNTIME_DIR|XDG_SEAT|XDG_SEAT_PATH|XDG_SESSION_DESKTOP|XDG_SESSION_ID|XDG_SESSION_PATH|XDG_SESSION_TYPE|XDG_VTNR|XMODIFIERS)\\b",t={pattern:/(^(["']?)\w+\2)[ \t]+\S.*/,lookbehind:!0,alias:"punctuation",inside:null},s={bash:t,environment:{pattern:RegExp("\\$"+e),alias:"constant"},variable:[{pattern:/\$?\(\([\s\S]+?\)\)/,greedy:!0,inside:{variable:[{pattern:/(^\$\(\([\s\S]+)\)\)/,lookbehind:!0},/^\$\(\(/],number:/\b0x[\dA-Fa-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee]-?\d+)?/,operator:/--|\+\+|\*\*=?|<<=?|>>=?|&&|\|\||[=!+\-*/%<>^&|]=?|[?~:]/,punctuation:/\(\(?|\)\)?|,|;/}},{pattern:/\$\((?:\([^)]+\)|[^()])+\)|`[^`]+`/,greedy:!0,inside:{variable:/^\$\(|^`|\)$|`$/}},{pattern:/\$\{[^}]+\}/,greedy:!0,inside:{operator:/:[-=?+]?|[!\/]|##?|%%?|\^\^?|,,?/,punctuation:/[\[\]]/,environment:{pattern:RegExp("(\\{)"+e),lookbehind:!0,alias:"constant"}}},/\$(?:\w+|[#?*!@$])/],entity:/\\(?:[abceEfnrtv\\"]|O?[0-7]{1,3}|U[0-9a-fA-F]{8}|u[0-9a-fA-F]{4}|x[0-9a-fA-F]{1,2})/};n.languages.bash={shebang:{pattern:/^#!\s*\/.*/,alias:"important"},comment:{pattern:/(^|[^"{\\$])#.*/,lookbehind:!0},"function-name":[{pattern:/(\bfunction\s+)[\w-]+(?=(?:\s*\(?:\s*\))?\s*\{)/,lookbehind:!0,alias:"function"},{pattern:/\b[\w-]+(?=\s*\(\s*\)\s*\{)/,alias:"function"}],"for-or-select":{pattern:/(\b(?:for|select)\s+)\w+(?=\s+in\s)/,alias:"variable",lookbehind:!0},"assign-left":{pattern:/(^|[\s;|&]|[<>]\()\w+(?:\.\w+)*(?=\+?=)/,inside:{environment:{pattern:RegExp("(^|[\\s;|&]|[<>]\\()"+e),lookbehind:!0,alias:"constant"}},alias:"variable",lookbehind:!0},parameter:{pattern:/(^|\s)-{1,2}(?:\w+:[+-]?)?\w+(?:\.\w+)*(?=[=\s]|$)/,alias:"variable",lookbehind:!0},string:[{pattern:/((?:^|[^<])<<-?\s*)(\w+)\s[\s\S]*?(?:\r?\n|\r)\2/,lookbehind:!0,greedy:!0,inside:s},{pattern:/((?:^|[^<])<<-?\s*)(["'])(\w+)\2\s[\s\S]*?(?:\r?\n|\r)\3/,lookbehind:!0,greedy:!0,inside:{bash:t}},{pattern:/(^|[^\\](?:\\\\)*)"(?:\\[\s\S]|\$\([^)]+\)|\$(?!\()|`[^`]+`|[^"\\`$])*"/,lookbehind:!0,greedy:!0,inside:s},{pattern:/(^|[^$\\])'[^']*'/,lookbehind:!0,greedy:!0},{pattern:/\$'(?:[^'\\]|\\[\s\S])*'/,greedy:!0,inside:{entity:s.entity}}],environment:{pattern:RegExp("\\$?"+e),alias:"constant"},variable:s.variable,function:{pattern:/(^|[\s;|&]|[<>]\()(?:add|apropos|apt|apt-cache|apt-get|aptitude|aspell|automysqlbackup|awk|basename|bash|bc|bconsole|bg|bzip2|cal|cargo|cat|cfdisk|chgrp|chkconfig|chmod|chown|chroot|cksum|clear|cmp|column|comm|composer|cp|cron|crontab|csplit|curl|cut|date|dc|dd|ddrescue|debootstrap|df|diff|diff3|dig|dir|dircolors|dirname|dirs|dmesg|docker|docker-compose|du|egrep|eject|env|ethtool|expand|expect|expr|fdformat|fdisk|fg|fgrep|file|find|fmt|fold|format|free|fsck|ftp|fuser|gawk|git|gparted|grep|groupadd|groupdel|groupmod|groups|grub-mkconfig|gzip|halt|head|hg|history|host|hostname|htop|iconv|id|ifconfig|ifdown|ifup|import|install|ip|java|jobs|join|kill|killall|less|link|ln|locate|logname|logrotate|look|lpc|lpr|lprint|lprintd|lprintq|lprm|ls|lsof|lynx|make|man|mc|mdadm|mkconfig|mkdir|mke2fs|mkfifo|mkfs|mkisofs|mknod|mkswap|mmv|more|most|mount|mtools|mtr|mutt|mv|nano|nc|netstat|nice|nl|node|nohup|notify-send|npm|nslookup|op|open|parted|passwd|paste|pathchk|ping|pkill|pnpm|podman|podman-compose|popd|pr|printcap|printenv|ps|pushd|pv|quota|quotacheck|quotactl|ram|rar|rcp|reboot|remsync|rename|renice|rev|rm|rmdir|rpm|rsync|scp|screen|sdiff|sed|sendmail|seq|service|sftp|sh|shellcheck|shuf|shutdown|sleep|slocate|sort|split|ssh|stat|strace|su|sudo|sum|suspend|swapon|sync|sysctl|tac|tail|tar|tee|time|timeout|top|touch|tr|traceroute|tsort|tty|umount|uname|unexpand|uniq|units|unrar|unshar|unzip|update-grub|uptime|useradd|userdel|usermod|users|uudecode|uuencode|v|vcpkg|vdir|vi|vim|virsh|vmstat|wait|watch|wc|wget|whereis|which|who|whoami|write|xargs|xdg-open|yarn|yes|zenity|zip|zsh|zypper)(?=$|[)\s;|&])/,lookbehind:!0},keyword:{pattern:/(^|[\s;|&]|[<>]\()(?:case|do|done|elif|else|esac|fi|for|function|if|in|select|then|until|while)(?=$|[)\s;|&])/,lookbehind:!0},builtin:{pattern:/(^|[\s;|&]|[<>]\()(?:\.|:|alias|bind|break|builtin|caller|cd|command|continue|declare|echo|enable|eval|exec|exit|export|getopts|hash|help|let|local|logout|mapfile|printf|pwd|read|readarray|readonly|return|set|shift|shopt|source|test|times|trap|type|typeset|ulimit|umask|unalias|unset)(?=$|[)\s;|&])/,lookbehind:!0,alias:"class-name"},boolean:{pattern:/(^|[\s;|&]|[<>]\()(?:false|true)(?=$|[)\s;|&])/,lookbehind:!0},"file-descriptor":{pattern:/\B&\d\b/,alias:"important"},operator:{pattern:/\d?<>|>\||\+=|=[=~]?|!=?|<<[<-]?|[&\d]?>>|\d[<>]&?|[<>][&=]?|&[>&]?|\|[&|]?/,inside:{"file-descriptor":{pattern:/^\d/,alias:"important"}}},punctuation:/\$?\(\(?|\)\)?|\.\.|[{}[\];\\]/,number:{pattern:/(^|\s)(?:[1-9]\d*|0)(?:[.,]\d+)?\b/,lookbehind:!0}},t.inside=n.languages.bash;for(var r=["comment","function-name","for-or-select","assign-left","parameter","string","environment","function","keyword","builtin","boolean","file-descriptor","operator","punctuation","number"],i=s.variable[1].inside,l=0;l<r.length;l++)i[r[l]]=n.languages.bash[r[l]];n.languages.sh=n.languages.bash,n.languages.shell=n.languages.bash})(Prism);Prism.languages.json={property:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?=\s*:)/,lookbehind:!0,greedy:!0},string:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?!\s*:)/,lookbehind:!0,greedy:!0},comment:{pattern:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},number:/-?\b\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,punctuation:/[{}[\],]/,operator:/:/,boolean:/\b(?:false|true)\b/,null:{pattern:/\bnull\b/,alias:"keyword"}};Prism.languages.webmanifest=Prism.languages.json;(function(n){var e=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;n.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+e.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+e.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+e.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+e.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:e,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},n.languages.css.atrule.inside.rest=n.languages.css;var t=n.languages.markup;t&&(t.tag.addInlined("style","css"),t.tag.addAttribute("style","css"))})(Prism);const Bs=new Map;ve.setOptions({breaks:!0,gfm:!0});const jr={js:"javascript",ts:"typescript",py:"python",rb:"ruby",sh:"bash",yml:"yaml",md:"markdown","c++":"cpp",csharp:"csharp","c#":"csharp",golang:"go",rs:"rust"},rc={code(n){const e=n.text;let t=n.lang;if(t&&jr[t.toLowerCase()]&&(t=jr[t.toLowerCase()]),t&&Sn.languages[t])try{const r=Sn.highlight(e,Sn.languages[t],t);return`<pre class="language-${t}"><code class="language-${t}">${r}</code></pre>`}catch(r){console.error("Prism highlighting failed for",t,":",r);const i=e.replace(/</g,"&lt;").replace(/>/g,"&gt;");return`<pre class="language-${t}"><code class="language-${t}">${i}</code></pre>`}return`<pre><code>${e.replace(/</g,"&lt;").replace(/>/g,"&gt;")}</code></pre>`}};ve.use({renderer:rc});function cn(n){n=n.replace(/```(\w+)\n([\s\S]*?)```/g,(s,r,i)=>i.endsWith(`
`)?s:"```"+r+`
`+i+"\n```");let e;try{const s=ve.parse(n,{async:!1});e=typeof s=="string"?s:String(s)}catch(s){console.error("Markdown parse error:",s),e=n}return e=e.replace(/:([a-zA-Z0-9_]+):/g,(s,r)=>{const i=Bs.get(r);return i?`<img src="${i.url}" alt=":${r}:" class="emote ${i.type==="animated"?"emote-animated":""}" title=":${r}:">`:s}),nc.sanitize(e,{ALLOWED_TAGS:["p","br","strong","em","u","s","del","code","pre","a","img","blockquote","ul","ol","li","h1","h2","h3","h4","h5","h6","hr","span"],ALLOWED_ATTR:["href","src","alt","class","title","target","rel"],FORBID_TAGS:["style","script"],FORBID_ATTR:["style","onerror","onload"]})}function ic(n){Bs.set(n.name,n)}function ac(n){Bs.delete(n)}function lc(n){Bs.clear(),n.forEach(e=>{Bs.set(e.name,e)})}class oc{constructor(){be(this,"rotationPeriod","month");be(this,"maxArchives",4);this.loadSettings()}loadSettings(){const e=localStorage.getItem("rotationPeriod");e&&(this.rotationPeriod=e);const t=localStorage.getItem("maxArchives");t&&(this.maxArchives=parseInt(t))}setRotationPeriod(e){this.rotationPeriod=e,localStorage.setItem("rotationPeriod",e)}setMaxArchives(e){this.maxArchives=e,localStorage.setItem("maxArchives",e.toString()),this.rotateArchives()}getRotationPeriod(){return this.rotationPeriod}getMaxArchives(){return this.maxArchives}getPeriodKey(){const e=new Date,t=e.getFullYear();switch(this.rotationPeriod){case"week":{const s=this.getWeekNumber(e);return`${t}-W${String(s).padStart(2,"0")}`}case"month":{const s=e.getMonth()+1;return`${t}-${String(s).padStart(2,"0")}`}case"half-year":{const s=e.getMonth()<6?"H1":"H2";return`${t}-${s}`}case"year":return`${t}`}}getWeekNumber(e){const t=new Date(e.getFullYear(),0,1),s=Math.floor((e.getTime()-t.getTime())/(24*60*60*1e3));return Math.ceil((s+t.getDay()+1)/7)}isEnabled(){return localStorage.getItem("saveHistory")==="true"}setEnabled(e){localStorage.setItem("saveHistory",e.toString())}saveMessage(e,t){if(!this.isEnabled())return;const r=`wabi-messages-${this.getPeriodKey()}`,i=JSON.parse(localStorage.getItem(r)||"{}");i[e]||(i[e]=[]),i[e].push(t);try{localStorage.setItem(r,JSON.stringify(i)),this.rotateArchives()}catch(l){console.error("Failed to save message to localStorage:",l),this.rotateArchives()}}rotateArchives(){const e=Object.keys(localStorage).filter(t=>t.startsWith("wabi-messages-")).sort().reverse();e.length>this.maxArchives&&e.slice(this.maxArchives).forEach(s=>{console.log(`ðŸ—‘ï¸ Auto-deleting old archive: ${s}`),localStorage.removeItem(s)})}loadAllMessages(){if(!this.isEnabled())return{};const e={};return Object.keys(localStorage).filter(t=>t.startsWith("wabi-messages-")).forEach(t=>{const s=JSON.parse(localStorage.getItem(t)||"{}");Object.entries(s).forEach(([r,i])=>{e[r]||(e[r]=[]),e[r].push(...i)})}),Object.keys(e).forEach(t=>{e[t].sort((s,r)=>s.timestamp-r.timestamp)}),e}deleteArchive(e){const t=`wabi-messages-${e}`;localStorage.removeItem(t),console.log(`ðŸ—‘ï¸ Deleted archive: ${e}`)}clearAllHistory(){Object.keys(localStorage).filter(e=>e.startsWith("wabi-messages-")).forEach(e=>localStorage.removeItem(e)),console.log("ðŸ—‘ï¸ Cleared all chat history")}exportArchives(){const e=Object.keys(localStorage).filter(t=>t.startsWith("wabi-messages-")).sort();if(e.length===0){alert("No archives to export");return}e.forEach(t=>{const s=t.replace("wabi-messages-",""),r=localStorage.getItem(t)||"{}",i=new Blob([r],{type:"application/json"}),l=URL.createObjectURL(i),a=document.createElement("a");a.href=l,a.download=`wabi-chat-${s}.json`,a.click(),URL.revokeObjectURL(l)})}exportArchive(e){const t=`wabi-messages-${e}`,s=localStorage.getItem(t);if(!s){alert("Archive not found");return}const r=new Blob([s],{type:"application/json"}),i=URL.createObjectURL(r),l=document.createElement("a");l.href=i,l.download=`wabi-chat-${e}.json`,l.click(),URL.revokeObjectURL(i)}getStats(){const e=Object.keys(localStorage).filter(r=>r.startsWith("wabi-messages-")).map(r=>{const i=localStorage.getItem(r)||"{}",l=new Blob([i]).size,a=r.replace("wabi-messages-",""),o=JSON.parse(i),c=Object.values(o).reduce((f,m)=>f+m.length,0);return{period:a,size:l,messageCount:c}}).sort((r,i)=>i.period.localeCompare(r.period)),t=e.reduce((r,i)=>r+i.size,0),s=e.reduce((r,i)=>r+i.messageCount,0);return{archives:e,totalSize:t,totalMessages:s}}}const rt=new oc,ys=Xe(null),rn=Xe([]),qs=Xe("general"),Bt=Xe({general:[]}),Kt=Xe([]),Pa=Xe([]),os=Xe(null),$r=Xe(!1),Fa=Xe(0),ur=Xe(null);let ne=null;function cc(n){ne=sn("http://localhost:3000"),ys.set(ne);const t=rt.loadAllMessages();return Object.keys(t).length>0&&Bt.set(t),ne.on("connect",()=>{console.log("Connected to server"),$r.set(!0),ne==null||ne.emit("join",n)}),ne.on("disconnect",()=>{console.log("Disconnected from server"),$r.set(!1)}),ne.on("init",s=>{rn.set(s.channels),Kt.set(s.users),s.emotes&&lc(s.emotes);const r=s.users.find(i=>i.id===(ne==null?void 0:ne.id));r&&os.set(r),ne==null||ne.emit("join-channel","general")}),ne.on("channel-messages",s=>{Bt.update(r=>({...r,[s.channelId]:s.messages}))}),ne.on("message",s=>{Bt.update(i=>({...i,[s.channelId]:[...i[s.channelId]||[],s.message]})),rt.saveMessage(s.channelId,s.message);const r=s.message.userId===(ne==null?void 0:ne.id);Zl(s.message,r),!r&&document.hidden&&Fa.update(i=>(i===0&&ur.set(s.message.id),i+1))}),ne.on("user-joined",s=>{Kt.update(r=>[...r,s])}),ne.on("user-left",s=>{Kt.update(r=>r.filter(i=>i.id!==s.id))}),ne.on("typing",s=>{Pa.set(s)}),ne.on("profile-updated",s=>{Kt.update(r=>r.map(i=>i.id===s.id?s:i)),os.update(r=>r&&r.id===s.id?s:r)}),ne.on("message-edited",s=>{Bt.update(r=>({...r,[s.channelId]:(r[s.channelId]||[]).map(i=>i.id===s.messageId?{...i,text:s.newText,isEdited:!0}:i)}))}),ne.on("message-deleted",s=>{Bt.update(r=>({...r,[s.channelId]:(r[s.channelId]||[]).filter(i=>i.id!==s.messageId)}))}),ne.on("message-pin-toggled",s=>{Bt.update(r=>({...r,[s.channelId]:(r[s.channelId]||[]).map(i=>i.id===s.messageId?{...i,isPinned:s.isPinned}:i)}))}),ne.on("channel-created",s=>{rn.update(r=>[...r,s]),Bt.update(r=>({...r,[s.id]:[]}))}),ne.on("channel-deleted",s=>{rn.update(r=>r.filter(i=>i.id!==s)),Bt.update(r=>{const i={...r};return delete i[s],i}),qs.update(r=>r===s?"general":r)}),ne.on("channel-error",s=>{console.error("Channel error:",s),alert(s)}),ne.on("emote-added",s=>{ic(s)}),ne.on("emote-deleted",s=>{ac(s)}),ne.on("emote-error",s=>{console.error("Emote error:",s),alert(s)}),ne}function uc(n){ne==null||ne.emit("join-channel",n),qs.set(n)}function fc(n){ne==null||ne.emit("create-channel",n)}function dc(n){ne==null||ne.emit("delete-channel",n)}function On(n,e,t="text",s){ne==null||ne.emit("message",{channelId:n,text:e,type:t,...s})}function La(n,e,t){ne==null||ne.emit("edit-message",{channelId:n,messageId:e,newText:t})}function hc(n,e){ne==null||ne.emit("delete-message",{channelId:n,messageId:e})}function Ma(n,e){ne==null||ne.emit("toggle-pin-message",{channelId:n,messageId:e})}function Dn(n){ne==null||ne.emit("typing",n)}function Gr(n,e){ne==null||ne.emit("update-profile",{status:n,profilePicture:e})}function pc(){ne==null||ne.disconnect(),ys.set(null),ne=null}function gc(){Fa.set(0),ur.set(null)}let Xs;const mc=new Uint8Array(16);function vc(){if(!Xs&&(Xs=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Xs))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Xs(mc)}const Ye=[];for(let n=0;n<256;++n)Ye.push((n+256).toString(16).slice(1));function _c(n,e=0){return Ye[n[e+0]]+Ye[n[e+1]]+Ye[n[e+2]]+Ye[n[e+3]]+"-"+Ye[n[e+4]]+Ye[n[e+5]]+"-"+Ye[n[e+6]]+Ye[n[e+7]]+"-"+Ye[n[e+8]]+Ye[n[e+9]]+"-"+Ye[n[e+10]]+Ye[n[e+11]]+Ye[n[e+12]]+Ye[n[e+13]]+Ye[n[e+14]]+Ye[n[e+15]]}const bc=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Wr={randomUUID:bc};function kc(n,e,t){if(Wr.randomUUID&&!n)return Wr.randomUUID();n=n||{};const s=n.random||(n.rng||vc)();return s[6]=s[6]&15|64,s[8]=s[8]&63|128,_c(s)}typeof window<"u"&&typeof location<"u"&&location.search.indexOf("giphy-debug");var rs="",Ba=16,yc=()=>{let n="";const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=e.length;for(let s=0;s<Ba;s++)n+=e.charAt(Math.floor(Math.random()*t));return n},wc=()=>{if(!rs){try{rs=sessionStorage.getItem("giphyPingbackId")}catch{}if(!rs){const n=new Date().getTime().toString(16);try{rs=`${n}${kc().replace(/-/g,"")}`.substring(0,Ba)}catch{rs=yc()}try{sessionStorage.setItem("giphyPingbackId",rs)}catch{}}}return rs},Ec=wc,Ks=null;new Promise(n=>{typeof Image>"u"&&n(!1);const e=new Image;e.onload=()=>{Ks=!0,n(Ks)},e.onerror=()=>{Ks=!1,n(Ks)},e.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"});var Ps=(typeof window<"u"?window:global)||{};Ps._GIPHY_SDK_HEADERS_=Ps._GIPHY_SDK_HEADERS_||(Ps.Headers?new Ps.Headers({"X-GIPHY-SDK-PLATFORM":"web"}):void 0);var Ua=()=>Ps._GIPHY_SDK_HEADERS_,Yr=(n,e)=>{var t;return(t=Ua())==null?void 0:t.set(n,e)},Sc=Object.defineProperty,Ac=Object.defineProperties,Tc=Object.getOwnPropertyDescriptors,Cc=Object.getOwnPropertyNames,Zr=Object.getOwnPropertySymbols,xc=Object.prototype.hasOwnProperty,Ic=Object.prototype.propertyIsEnumerable,Xr=(n,e,t)=>e in n?Sc(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Ut=(n,e)=>{for(var t in e||(e={}))xc.call(e,t)&&Xr(n,t,e[t]);if(Zr)for(var t of Zr(e))Ic.call(e,t)&&Xr(n,t,e[t]);return n},Nn=(n,e)=>Ac(n,Tc(e)),Rc=(n=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(n,{get:(e,t)=>(typeof require<"u"?require:e)[t]}):n)(function(n){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+n+'" is not supported')}),Oc=(n,e)=>function(){return e||(0,n[Cc(n)[0]])((e={exports:{}}).exports,e),e.exports},Dc=(n,e,t)=>new Promise((s,r)=>{var i=o=>{try{a(t.next(o))}catch(c){r(c)}},l=o=>{try{a(t.throw(o))}catch(c){r(c)}},a=o=>o.done?s(o.value):Promise.resolve(o.value).then(i,l);a((t=t.apply(n,e)).next())}),Nc=Oc({"package.json"(n,e){e.exports={scripts:{lint:"run -T eslint . --ext .ts,.tsx",clean:"rm -rf ./dist",dev:"parcel public/test.html",docs:"typedoc src/index.ts",build:"run -T tsup src/index.ts --format cjs,esm --dts && run -T publint",prepublish:"npm run clean && npm run build",test:"run -T jest --config ./jestconfig.js","test:watch":"run -T jest --config ./jestconfig.js --watchAll"},name:"@giphy/js-fetch-api",version:"5.7.0",description:"Javascript API to fetch gifs and stickers from the GIPHY API.",homepage:"https://github.com/Giphy/giphy-js/tree/master/packages/fetch-api",main:"dist/index.cjs",types:"dist/index.d.ts",module:"dist/index.js",type:"module",sideEffects:!1,exports:{".":{types:"./dist/index.d.ts",import:"./dist/index.js",require:"./dist/index.cjs"},"./package.json":"./package.json"},files:["dist/","src/**/*"],license:"MIT",publishConfig:{access:"public"},dependencies:{"@giphy/js-types":"*","@giphy/js-util":"*"},devDependencies:{"jest-fetch-mock":"^3.0.3","parcel-bundler":"latest",typedoc:"^0.20.37","typedoc-thunder-theme":"^0.0.3",typescript:"^5.0.4"}}}}),Pc=["is_anonymous","is_community","is_featured","is_hidden","is_indexable","is_preserve_size","is_realtime","is_removed","is_sticker","is_dynamic"],Fc=["suppress_chrome","is_public","is_verified"],Kr=n=>e=>n[e]=!!n[e],Lc=n=>typeof n=="string"?n:n.text,za=(n,e="")=>{const t=Ut({},n);t.id=String(t.id),t.tags=(t.tags||[]).map(Lc),t.bottle_data||(t.bottle_data={}),t.response_id=e,Pc.forEach(Kr(t)),Object.keys(t.images||{}).forEach(r=>{const i=t.images[r];i.width=parseInt(i.width),i.height=parseInt(i.height)});const{user:s}=t;if(s){const r=Ut({},s);Fc.forEach(Kr(r)),t.user=r}return t},Qr=n=>{const{response_id:e}=n.meta;return n.data=za(n.data,e),n},Yt=n=>{const{response_id:e}=n.meta;return n.data=n.data.map(t=>za(t,e)),n},Mc=(typeof window<"u"?window:global)||{},Bc=Mc.GIPHY_API_URL||"https://api.giphy.com/v1/",qa=class extends Error{constructor(n,e,t=0,s=""){super(n),this.url=e,this.status=t,this.statusText=s}},Uc=class extends qa{},Jr=qa,zc="@giphy/js-fetch-api: ",qc="Error fetching",Vc=n=>n,Dt={},Hc=6e4,jc=6e3,$c=()=>{const n=Date.now();Object.keys(Dt).forEach(e=>{const t=Dt[e].isError?jc:Hc;n-Dt[e].ts>=t&&delete Dt[e]})};function Gc(n,e={}){const{apiVersion:t=1,noCache:s=!1,normalizer:r=Vc}=e,i=Bc.replace(/\/v\d+\/$/,`/v${t}/`);if($c(),!Dt[n]||s){const l=`${i}${n}`,a=()=>Dc(this,null,function*(){var o,c;let f;try{const m=yield fetch(l,{method:"get"});if(m.ok){const _=yield m.json();if((o=_.meta)!=null&&o.response_id)return r(_);throw{message:"synthetic response"}}else{let _=qc;try{const v=yield m.json();v.message&&(_=v.message),(c=v.meta)!=null&&c.msg&&(_=v.meta.msg)}catch{}Dt[n]&&(Dt[n].isError=!0);let d=Jr;_==="This content is not available in your location"&&(d=Uc),f=new d(`${zc}${_}`,l,m.status,m.statusText)}}catch(m){f=new Jr(m.message,l),Dt[n]&&(Dt[n].isError=!0)}throw f});Dt[n]={request:a(),ts:Date.now()}}return Dt[n].request}var _t=Gc,Pn=n=>n&&n.type?n.type:"gifs",Wc=class{constructor(n,e={}){this.getQS=(t={})=>new URLSearchParams(Ut(Nn(Ut({},t),{api_key:this.apiKey,pingback_id:Ec()}),this.qsParams)).toString(),this.apiKey=n,this.qsParams=e}categories(n){return _t(`gifs/categories?${this.getQS(n)}`)}gif(n,e){const t=e!=null&&e.internal?"internal/":"";return _t(`${t}gifs/${n}?${this.getQS()}`,{normalizer:Qr})}gifs(n,e){return Array.isArray(n)?_t(`gifs?${this.getQS({ids:n.join(",")})}`,{normalizer:Yt}):_t(`gifs/categories/${n}/${e}?${this.getQS()}`,{normalizer:Yt})}emoji(n){return _t(`emoji?${this.getQS(n)}`,{normalizer:Yt})}emojiDefaultVariations(n){return _t(`emoji?${this.getQS(n)}`,{apiVersion:2,normalizer:Yt})}emojiVariations(n){return _t(`emoji/${n}/variations?${this.getQS()}`,{apiVersion:2,normalizer:Yt})}animate(n,e={}){const t=this.getQS(Nn(Ut({},e),{m:n}));return _t(`text/animate?${t}`,{normalizer:Yt})}search(n,e={}){const t=e.channel?`@${e.channel} ${n}`:n;let s;e.type==="text"&&(s=!0);const r=this.getQS(Nn(Ut({rating:"pg-13"},e),{q:t,excludeDynamicResults:s}));return _t(`${Pn(e)}/search?${r}`,{normalizer:Yt})}subcategories(n,e){return _t(`gifs/categories/${n}?${this.getQS(e)}`)}trending(n={}){return _t(`${Pn(n)}/trending?${this.getQS(Ut({rating:"pg-13"},n))}`,{normalizer:Yt})}random(n){return _t(`${Pn(n)}/random?${this.getQS(Ut({rating:"pg-13"},n))}`,{noCache:!0,normalizer:Qr})}related(n,e={}){const{type:t="gifs"}=e;return _t(`${t}/related?${this.getQS(Ut({gif_id:n,rating:"pg-13"},e))}`,{normalizer:Yt})}channels(n,e={}){return _t(`channels/search?${this.getQS(Ut({q:n,rating:"pg-13"},e))}`)}},Yc=Wc,ei;if(typeof Rc<"u"){const{version:n}=Nc();(ei=Ua())!=null&&ei.get("X-GIPHY-SDK-NAME")||(Yr("X-GIPHY-SDK-NAME","FetchAPI"),Yr("X-GIPHY-SDK-VERSION",n))}function ti(n,e,t){const s=n.slice();return s[11]=e[t],s}function Zc(n){let e=[],t=new Map,s,r=Je(n[1]);const i=l=>l[11].id;for(let l=0;l<r.length;l+=1){let a=ti(n,r,l),o=i(a);t.set(o,e[l]=si(o,a))}return{c(){for(let l=0;l<e.length;l+=1)e[l].c();s=Be()},l(l){for(let a=0;a<e.length;a+=1)e[a].l(l);s=Be()},m(l,a){for(let o=0;o<e.length;o+=1)e[o]&&e[o].m(l,a);j(l,s,a)},p(l,a){a&34&&(r=Je(l[1]),e=fs(e,a,i,1,l,r,t,s.parentNode,us,si,s,ti))},d(l){l&&k(s);for(let a=0;a<e.length;a+=1)e[a].d(l)}}}function Xc(n){let e,t="No GIFs found";return{c(){e=w("div"),e.textContent=t,this.h()},l(s){e=y(s,"DIV",{class:!0,"data-svelte-h":!0}),K(e)!=="svelte-1db6zr7"&&(e.textContent=t),this.h()},h(){h(e,"class","no-results svelte-1t262zs")},m(s,r){j(s,e,r)},p:_e,d(s){s&&k(e)}}}function Kc(n){let e,t="Loading...";return{c(){e=w("div"),e.textContent=t,this.h()},l(s){e=y(s,"DIV",{class:!0,"data-svelte-h":!0}),K(e)!=="svelte-1f5y80z"&&(e.textContent=t),this.h()},h(){h(e,"class","loading svelte-1t262zs")},m(s,r){j(s,e,r)},p:_e,d(s){s&&k(e)}}}function si(n,e){let t,s,r,i,l,a,o;function c(){return e[8](e[11])}return{key:n,first:null,c(){t=w("button"),s=w("img"),l=P(),this.h()},l(f){t=y(f,"BUTTON",{class:!0});var m=I(t);s=y(m,"IMG",{src:!0,alt:!0,class:!0}),l=N(m),m.forEach(k),this.h()},h(){Ze(s.src,r=e[11].images.fixed_height_small.url)||h(s,"src",r),h(s,"alt",i=e[11].title),h(s,"class","svelte-1t262zs"),h(t,"class","gif-item svelte-1t262zs"),this.first=t},m(f,m){j(f,t,m),u(t,s),u(t,l),a||(o=ee(t,"click",c),a=!0)},p(f,m){e=f,m&2&&!Ze(s.src,r=e[11].images.fixed_height_small.url)&&h(s,"src",r),m&2&&i!==(i=e[11].title)&&h(s,"alt",i)},d(f){f&&k(t),a=!1,o()}}}function Qc(n){let e,t,s,r,i,l="âœ•",a,o,c,f;function m(v,b){return v[2]?Kc:v[1].length===0?Xc:Zc}let _=m(n),d=_(n);return{c(){e=w("div"),t=w("div"),s=w("input"),r=P(),i=w("button"),i.textContent=l,a=P(),o=w("div"),d.c(),this.h()},l(v){e=y(v,"DIV",{class:!0});var b=I(e);t=y(b,"DIV",{class:!0});var g=I(t);s=y(g,"INPUT",{type:!0,placeholder:!0,class:!0}),r=N(g),i=y(g,"BUTTON",{class:!0,"data-svelte-h":!0}),K(i)!=="svelte-xkwxcu"&&(i.textContent=l),g.forEach(k),a=N(b),o=y(b,"DIV",{class:!0});var T=I(o);d.l(T),T.forEach(k),b.forEach(k),this.h()},h(){h(s,"type","text"),h(s,"placeholder","Search GIFs..."),h(s,"class","svelte-1t262zs"),h(i,"class","close-btn svelte-1t262zs"),h(t,"class","giphy-header svelte-1t262zs"),h(o,"class","gif-grid svelte-1t262zs"),h(e,"class","giphy-picker svelte-1t262zs")},m(v,b){j(v,e,b),u(e,t),u(t,s),He(s,n[0]),u(t,r),u(t,i),u(e,a),u(e,o),d.m(o,null),c||(f=[ee(s,"input",n[6]),ee(s,"input",n[4]),ee(i,"click",n[7])],c=!0)},p(v,[b]){b&1&&s.value!==v[0]&&He(s,v[0]),_===(_=m(v))&&d?d.p(v,b):(d.d(1),d=_(v),d&&(d.c(),d.m(o,null)))},i:_e,o:_e,d(v){v&&k(e),d.d(),c=!1,Re(f)}}}function Jc(n,e,t){const s=ea();let r="",i=[],l=!1;const a=new Yc("sXpGFDGZs0Dv1mmNFvYaGUvYwKX0PWIh");async function o(){if(!r.trim()){c();return}t(2,l=!0);try{const{data:v}=await a.search(r,{limit:20});t(1,i=v)}catch(v){console.error("Error fetching GIFs:",v)}t(2,l=!1)}async function c(){t(2,l=!0);try{const{data:v}=await a.trending({limit:20});t(1,i=v)}catch(v){console.error("Error fetching trending GIFs:",v)}t(2,l=!1)}function f(v){s("select",v.images.fixed_height.url)}cs(()=>{c()});function m(){r=this.value,t(0,r)}return[r,i,l,s,o,f,m,()=>s("close"),v=>f(v)]}class eu extends ht{constructor(e){super(),pt(this,e,Jc,Qc,dt,{})}}function ni(n){let e,t,s,r,i=(n[2]?"Your Profile":n[1].username)+"",l,a,o,c="Ã—",f,m,_,d,v,b,g,T,p,E="Username:",A,S,C=n[1].username+"",x,R,D,F,M,z;function V(L,Z){return L[4]||L[1].profilePicture?su:tu}let q=V(n),te=q(n),U=n[2]&&ri(n),B=!n[2]&&ii(n);function W(L,Z){return L[2]?lu:au}let G=W(n),Y=G(n),$=n[2]&&li(n);return{c(){e=w("div"),t=w("div"),s=w("div"),r=w("h2"),l=J(i),a=P(),o=w("button"),o.textContent=c,f=P(),m=w("div"),_=w("div"),d=w("div"),te.c(),v=P(),U&&U.c(),b=P(),g=w("div"),T=w("div"),p=w("span"),p.textContent=E,A=P(),S=w("span"),x=J(C),R=P(),B&&B.c(),D=P(),Y.c(),F=P(),$&&$.c(),this.h()},l(L){e=y(L,"DIV",{class:!0});var Z=I(e);t=y(Z,"DIV",{class:!0});var se=I(t);s=y(se,"DIV",{class:!0});var H=I(s);r=y(H,"H2",{class:!0});var le=I(r);l=Q(le,i),le.forEach(k),a=N(H),o=y(H,"BUTTON",{class:!0,"data-svelte-h":!0}),K(o)!=="svelte-12zniqk"&&(o.textContent=c),H.forEach(k),f=N(se),m=y(se,"DIV",{class:!0});var ue=I(m);_=y(ue,"DIV",{class:!0});var fe=I(_);d=y(fe,"DIV",{class:!0});var Pe=I(d);te.l(Pe),Pe.forEach(k),v=N(fe),U&&U.l(fe),fe.forEach(k),b=N(ue),g=y(ue,"DIV",{class:!0});var xe=I(g);T=y(xe,"DIV",{class:!0});var Se=I(T);p=y(Se,"SPAN",{class:!0,"data-svelte-h":!0}),K(p)!=="svelte-1fffgfa"&&(p.textContent=E),A=N(Se),S=y(Se,"SPAN",{class:!0});var $e=I(S);x=Q($e,C),$e.forEach(k),Se.forEach(k),xe.forEach(k),R=N(ue),B&&B.l(ue),D=N(ue),Y.l(ue),ue.forEach(k),F=N(se),$&&$.l(se),se.forEach(k),Z.forEach(k),this.h()},h(){h(r,"class","svelte-1gfq969"),h(o,"class","close-btn svelte-1gfq969"),h(s,"class","modal-header svelte-1gfq969"),h(d,"class","profile-picture-container svelte-1gfq969"),h(_,"class","profile-picture-section svelte-1gfq969"),h(p,"class","info-label svelte-1gfq969"),h(S,"class","info-value svelte-1gfq969"),h(T,"class","info-row svelte-1gfq969"),h(g,"class","user-info svelte-1gfq969"),h(m,"class","modal-body svelte-1gfq969"),h(t,"class","modal-content svelte-1gfq969"),h(e,"class","modal-overlay svelte-1gfq969")},m(L,Z){j(L,e,Z),u(e,t),u(t,s),u(s,r),u(r,l),u(s,a),u(s,o),u(t,f),u(t,m),u(m,_),u(_,d),te.m(d,null),u(_,v),U&&U.m(_,null),u(m,b),u(m,g),u(g,T),u(T,p),u(T,A),u(T,S),u(S,x),u(m,R),B&&B.m(m,null),u(m,D),Y.m(m,null),u(t,F),$&&$.m(t,null),M||(z=[ee(o,"click",n[9]),ee(t,"click",Us(n[12])),ee(e,"click",n[9])],M=!0)},p(L,Z){Z&6&&i!==(i=(L[2]?"Your Profile":L[1].username)+"")&&re(l,i),q===(q=V(L))&&te?te.p(L,Z):(te.d(1),te=q(L),te&&(te.c(),te.m(d,null))),L[2]?U?U.p(L,Z):(U=ri(L),U.c(),U.m(_,null)):U&&(U.d(1),U=null),Z&2&&C!==(C=L[1].username+"")&&re(x,C),L[2]?B&&(B.d(1),B=null):B?B.p(L,Z):(B=ii(L),B.c(),B.m(m,D)),G===(G=W(L))&&Y?Y.p(L,Z):(Y.d(1),Y=G(L),Y&&(Y.c(),Y.m(m,null))),L[2]?$?$.p(L,Z):($=li(L),$.c(),$.m(t,null)):$&&($.d(1),$=null)},d(L){L&&k(e),te.d(),U&&U.d(),B&&B.d(),Y.d(),$&&$.d(),M=!1,Re(z)}}}function tu(n){let e,t=n[1].username.charAt(0).toUpperCase()+"",s;return{c(){e=w("div"),s=J(t),this.h()},l(r){e=y(r,"DIV",{class:!0,style:!0});var i=I(e);s=Q(i,t),i.forEach(k),this.h()},h(){h(e,"class","profile-picture-placeholder svelte-1gfq969"),ke(e,"background-color",n[1].color)},m(r,i){j(r,e,i),u(e,s)},p(r,i){i&2&&t!==(t=r[1].username.charAt(0).toUpperCase()+"")&&re(s,t),i&2&&ke(e,"background-color",r[1].color)},d(r){r&&k(e)}}}function su(n){let e,t,s;return{c(){e=w("img"),this.h()},l(r){e=y(r,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){Ze(e.src,t=n[4]||n[1].profilePicture)||h(e,"src",t),h(e,"alt",s=n[1].username),h(e,"class","profile-picture svelte-1gfq969")},m(r,i){j(r,e,i)},p(r,i){i&18&&!Ze(e.src,t=r[4]||r[1].profilePicture)&&h(e,"src",t),i&2&&s!==(s=r[1].username)&&h(e,"alt",s)},d(r){r&&k(e)}}}function ri(n){let e,t,s=n[4]||n[1].profilePicture?"Change Picture":"Upload Picture",r,i,l,a,o;return{c(){e=w("div"),t=w("label"),r=J(s),i=P(),l=w("input"),this.h()},l(c){e=y(c,"DIV",{class:!0});var f=I(e);t=y(f,"LABEL",{for:!0,class:!0});var m=I(t);r=Q(m,s),m.forEach(k),i=N(f),l=y(f,"INPUT",{id:!0,type:!0,accept:!0,class:!0}),f.forEach(k),this.h()},h(){h(t,"for","profile-picture"),h(t,"class","upload-label svelte-1gfq969"),h(l,"id","profile-picture"),h(l,"type","file"),h(l,"accept","image/*"),h(l,"class","file-input svelte-1gfq969"),h(e,"class","upload-section svelte-1gfq969")},m(c,f){j(c,e,f),u(e,t),u(t,r),u(e,i),u(e,l),a||(o=ee(l,"change",n[10]),a=!0)},p(c,f){f&18&&s!==(s=c[4]||c[1].profilePicture?"Change Picture":"Upload Picture")&&re(r,s)},d(c){c&&k(e),a=!1,o()}}}function ii(n){let e,t,s,r="Personal Notes:",i,l,a=!n[6]&&ai(n);function o(m,_){return m[6]?iu:m[5]?ru:nu}let c=o(n),f=c(n);return{c(){e=w("div"),t=w("div"),s=w("label"),s.textContent=r,i=P(),a&&a.c(),l=P(),f.c(),this.h()},l(m){e=y(m,"DIV",{class:!0});var _=I(e);t=y(_,"DIV",{class:!0});var d=I(t);s=y(d,"LABEL",{class:!0,"data-svelte-h":!0}),K(s)!=="svelte-1vz1uda"&&(s.textContent=r),i=N(d),a&&a.l(d),d.forEach(k),l=N(_),f.l(_),_.forEach(k),this.h()},h(){h(s,"class","notes-label svelte-1gfq969"),h(t,"class","notes-header svelte-1gfq969"),h(e,"class","notes-section svelte-1gfq969")},m(m,_){j(m,e,_),u(e,t),u(t,s),u(t,i),a&&a.m(t,null),u(e,l),f.m(e,null)},p(m,_){m[6]?a&&(a.d(1),a=null):a?a.p(m,_):(a=ai(m),a.c(),a.m(t,null)),c===(c=o(m))&&f?f.p(m,_):(f.d(1),f=c(m),f&&(f.c(),f.m(e,null)))},d(m){m&&k(e),a&&a.d(),f.d()}}}function ai(n){let e,t=n[5]?"Edit":"Add Note",s,r,i;return{c(){e=w("button"),s=J(t),this.h()},l(l){e=y(l,"BUTTON",{class:!0});var a=I(e);s=Q(a,t),a.forEach(k),this.h()},h(){h(e,"class","edit-note-btn svelte-1gfq969")},m(l,a){j(l,e,a),u(e,s),r||(i=ee(e,"click",n[13]),r=!0)},p(l,a){a&32&&t!==(t=l[5]?"Edit":"Add Note")&&re(s,t)},d(l){l&&k(e),r=!1,i()}}}function nu(n){let e,t='No notes yet. Click "Add Note" to remember details about this user.';return{c(){e=w("div"),e.textContent=t,this.h()},l(s){e=y(s,"DIV",{class:!0,"data-svelte-h":!0}),K(e)!=="svelte-t39qdr"&&(e.textContent=t),this.h()},h(){h(e,"class","note-placeholder svelte-1gfq969")},m(s,r){j(s,e,r)},p:_e,d(s){s&&k(e)}}}function ru(n){let e,t;return{c(){e=w("div"),t=J(n[5]),this.h()},l(s){e=y(s,"DIV",{class:!0});var r=I(e);t=Q(r,n[5]),r.forEach(k),this.h()},h(){h(e,"class","note-display svelte-1gfq969")},m(s,r){j(s,e,r),u(e,t)},p(s,r){r&32&&re(t,s[5])},d(s){s&&k(e)}}}function iu(n){let e,t,s,r,i="Cancel",l,a,o="Save Note",c,f;return{c(){e=w("textarea"),t=P(),s=w("div"),r=w("button"),r.textContent=i,l=P(),a=w("button"),a.textContent=o,this.h()},l(m){e=y(m,"TEXTAREA",{placeholder:!0,class:!0,rows:!0}),I(e).forEach(k),t=N(m),s=y(m,"DIV",{class:!0});var _=I(s);r=y(_,"BUTTON",{class:!0,"data-svelte-h":!0}),K(r)!=="svelte-hulrz8"&&(r.textContent=i),l=N(_),a=y(_,"BUTTON",{class:!0,"data-svelte-h":!0}),K(a)!=="svelte-9d2dbm"&&(a.textContent=o),_.forEach(k),this.h()},h(){h(e,"placeholder","Add personal notes (e.g., nickname, birthday, interests...)"),h(e,"class","note-textarea svelte-1gfq969"),h(e,"rows","3"),h(r,"class","cancel-note-btn svelte-1gfq969"),h(a,"class","save-note-btn svelte-1gfq969"),h(s,"class","note-actions svelte-1gfq969")},m(m,_){j(m,e,_),He(e,n[5]),j(m,t,_),j(m,s,_),u(s,r),u(s,l),u(s,a),c||(f=[ee(e,"input",n[14]),ee(r,"click",n[15]),ee(a,"click",n[8])],c=!0)},p(m,_){_&32&&He(e,m[5])},d(m){m&&(k(e),k(t),k(s)),c=!1,Re(f)}}}function au(n){let e,t,s,r,i=n[1].status.charAt(0).toUpperCase()+n[1].status.slice(1)+"",l;return{c(){e=w("div"),t=w("span"),s=P(),r=w("span"),l=J(i),this.h()},l(a){e=y(a,"DIV",{class:!0});var o=I(e);t=y(o,"SPAN",{class:!0,style:!0}),I(t).forEach(k),s=N(o),r=y(o,"SPAN",{class:!0});var c=I(r);l=Q(c,i),c.forEach(k),o.forEach(k),this.h()},h(){h(t,"class","status-dot svelte-1gfq969"),ke(t,"background-color",Ls(n[1].status)),h(r,"class","status-text svelte-1gfq969"),h(e,"class","status-display svelte-1gfq969")},m(a,o){j(a,e,o),u(e,t),u(e,s),u(e,r),u(r,l)},p(a,o){o&2&&ke(t,"background-color",Ls(a[1].status)),o&2&&i!==(i=a[1].status.charAt(0).toUpperCase()+a[1].status.slice(1)+"")&&re(l,i)},d(a){a&&k(e)}}}function lu(n){let e,t,s="Status:",r,i,l,a,o,c,f,m,_,d,v,b,g,T,p,E,A,S;return{c(){e=w("div"),t=w("label"),t.textContent=s,r=P(),i=w("div"),l=w("button"),a=w("span"),o=J(`\r
								Active`),f=P(),m=w("button"),_=w("span"),d=J(`\r
								Away`),b=P(),g=w("button"),T=w("span"),p=J(`\r
								Busy`),this.h()},l(C){e=y(C,"DIV",{class:!0});var x=I(e);t=y(x,"LABEL",{class:!0,"data-svelte-h":!0}),K(t)!=="svelte-138t5u0"&&(t.textContent=s),r=N(x),i=y(x,"DIV",{class:!0});var R=I(i);l=y(R,"BUTTON",{class:!0});var D=I(l);a=y(D,"SPAN",{class:!0,style:!0}),I(a).forEach(k),o=Q(D,`\r
								Active`),D.forEach(k),f=N(R),m=y(R,"BUTTON",{class:!0});var F=I(m);_=y(F,"SPAN",{class:!0,style:!0}),I(_).forEach(k),d=Q(F,`\r
								Away`),F.forEach(k),b=N(R),g=y(R,"BUTTON",{class:!0});var M=I(g);T=y(M,"SPAN",{class:!0,style:!0}),I(T).forEach(k),p=Q(M,`\r
								Busy`),M.forEach(k),R.forEach(k),x.forEach(k),this.h()},h(){h(t,"class","status-label svelte-1gfq969"),h(a,"class","status-dot svelte-1gfq969"),ke(a,"background-color",Ls("active")),h(l,"class",c="status-btn "+(n[3]==="active"?"selected":"")+" svelte-1gfq969"),h(_,"class","status-dot svelte-1gfq969"),ke(_,"background-color",Ls("away")),h(m,"class",v="status-btn "+(n[3]==="away"?"selected":"")+" svelte-1gfq969"),h(T,"class","status-dot svelte-1gfq969"),ke(T,"background-color",Ls("busy")),h(g,"class",E="status-btn "+(n[3]==="busy"?"selected":"")+" svelte-1gfq969"),h(i,"class","status-options svelte-1gfq969"),h(e,"class","status-section svelte-1gfq969")},m(C,x){j(C,e,x),u(e,t),u(e,r),u(e,i),u(i,l),u(l,a),u(l,o),u(i,f),u(i,m),u(m,_),u(m,d),u(i,b),u(i,g),u(g,T),u(g,p),A||(S=[ee(l,"click",n[16]),ee(m,"click",n[17]),ee(g,"click",n[18])],A=!0)},p(C,x){x&8&&c!==(c="status-btn "+(C[3]==="active"?"selected":"")+" svelte-1gfq969")&&h(l,"class",c),x&8&&v!==(v="status-btn "+(C[3]==="away"?"selected":"")+" svelte-1gfq969")&&h(m,"class",v),x&8&&E!==(E="status-btn "+(C[3]==="busy"?"selected":"")+" svelte-1gfq969")&&h(g,"class",E)},d(C){C&&k(e),A=!1,Re(S)}}}function li(n){let e,t,s="Cancel",r,i,l="Save Changes",a,o;return{c(){e=w("div"),t=w("button"),t.textContent=s,r=P(),i=w("button"),i.textContent=l,this.h()},l(c){e=y(c,"DIV",{class:!0});var f=I(e);t=y(f,"BUTTON",{class:!0,"data-svelte-h":!0}),K(t)!=="svelte-2pqgi7"&&(t.textContent=s),r=N(f),i=y(f,"BUTTON",{class:!0,"data-svelte-h":!0}),K(i)!=="svelte-2yi6cr"&&(i.textContent=l),f.forEach(k),this.h()},h(){h(t,"class","cancel-btn svelte-1gfq969"),h(i,"class","save-btn svelte-1gfq969"),h(e,"class","modal-footer svelte-1gfq969")},m(c,f){j(c,e,f),u(e,t),u(e,r),u(e,i),a||(o=[ee(t,"click",n[9]),ee(i,"click",n[11])],a=!0)},p:_e,d(c){c&&k(e),a=!1,Re(o)}}}function ou(n){let e,t=n[0]&&n[1]&&ni(n);return{c(){t&&t.c(),e=Be()},l(s){t&&t.l(s),e=Be()},m(s,r){t&&t.m(s,r),j(s,e,r)},p(s,[r]){s[0]&&s[1]?t?t.p(s,r):(t=ni(s),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:_e,o:_e,d(s){s&&k(e),t&&t.d(s)}}}function Ls(n){switch(n){case"active":return"#10b981";case"away":return"#f59e0b";case"busy":return"#ef4444";default:return"#6b7280"}}function cu(n,e,t){let{isOpen:s=!1}=e,{user:r=null}=e,{isOwnProfile:i=!1}=e,l=(r==null?void 0:r.status)||"active";r!=null&&r.profilePicture;let a=null,o=null,c="",f=!1;function m(){if(!r)return;const x=JSON.parse(localStorage.getItem("userNotes")||"{}");t(5,c=x[r.id]||"")}function _(){if(!r)return;const x=JSON.parse(localStorage.getItem("userNotes")||"{}");c.trim()?x[r.id]=c:delete x[r.id],localStorage.setItem("userNotes",JSON.stringify(x)),t(6,f=!1)}function d(){t(0,s=!1),a=null,t(4,o=null),t(6,f=!1)}function v(x){var F;const D=(F=x.target.files)==null?void 0:F[0];if(D&&D.type.startsWith("image/")){a=D;const M=new FileReader;M.onload=z=>{var V;t(4,o=(V=z.target)==null?void 0:V.result)},M.readAsDataURL(D)}}function b(){i&&(a&&o?Gr(l,o):l!==(r==null?void 0:r.status)&&Gr(l,void 0),d())}function g(x){dn.call(this,n,x)}const T=()=>t(6,f=!0);function p(){c=this.value,t(5,c)}const E=()=>{t(6,f=!1),m()},A=()=>t(3,l="active"),S=()=>t(3,l="away"),C=()=>t(3,l="busy");return n.$$set=x=>{"isOpen"in x&&t(0,s=x.isOpen),"user"in x&&t(1,r=x.user),"isOwnProfile"in x&&t(2,i=x.isOwnProfile)},n.$$.update=()=>{n.$$.dirty&2&&r&&(t(3,l=r.status),r.profilePicture,m())},[s,r,i,l,o,c,f,m,_,d,v,b,g,T,p,E,A,S,C]}class Va extends ht{constructor(e){super(),pt(this,e,cu,ou,dt,{isOpen:0,user:1,isOwnProfile:2})}}function oi(n){let e,t,s,r=`<span class="menu-icon svelte-1tp94fk">ðŸ’¬</span>
				Reply`,i,l,a,o,c=n[1].isPinned?"ðŸ“Œ":"ðŸ“",f,m,_=n[1].isPinned?"Unpin":"Pin",d,v,b,g,T=`<span class="menu-icon svelte-1tp94fk">ðŸ“‹</span>
				Copy Text`,p,E,A,S=n[8]&&ci(n),C=n[8]&&ui(n);return{c(){e=w("div"),t=w("div"),s=w("button"),s.innerHTML=r,i=P(),S&&S.c(),l=P(),a=w("button"),o=w("span"),f=J(c),m=P(),d=J(_),v=J(" Message"),b=P(),g=w("button"),g.innerHTML=T,p=P(),C&&C.c(),this.h()},l(x){e=y(x,"DIV",{class:!0});var R=I(e);t=y(R,"DIV",{class:!0,style:!0});var D=I(t);s=y(D,"BUTTON",{class:!0,"data-svelte-h":!0}),K(s)!=="svelte-1bhlhgs"&&(s.innerHTML=r),i=N(D),S&&S.l(D),l=N(D),a=y(D,"BUTTON",{class:!0});var F=I(a);o=y(F,"SPAN",{class:!0});var M=I(o);f=Q(M,c),M.forEach(k),m=N(F),d=Q(F,_),v=Q(F," Message"),F.forEach(k),b=N(D),g=y(D,"BUTTON",{class:!0,"data-svelte-h":!0}),K(g)!=="svelte-pkfnng"&&(g.innerHTML=T),p=N(D),C&&C.l(D),D.forEach(k),R.forEach(k),this.h()},h(){h(s,"class","menu-item svelte-1tp94fk"),h(o,"class","menu-icon svelte-1tp94fk"),h(a,"class","menu-item svelte-1tp94fk"),h(g,"class","menu-item copy svelte-1tp94fk"),h(t,"class","context-menu svelte-1tp94fk"),ke(t,"top",n[3]+"px"),ke(t,"left",n[2]+"px"),h(e,"class","context-menu-overlay svelte-1tp94fk")},m(x,R){j(x,e,R),u(e,t),u(t,s),u(t,i),S&&S.m(t,null),u(t,l),u(t,a),u(a,o),u(o,f),u(a,m),u(a,d),u(a,v),u(t,b),u(t,g),u(t,p),C&&C.m(t,null),E||(A=[ee(s,"click",function(){Ms(n[7])&&n[7].apply(this,arguments)}),ee(a,"click",function(){Ms(n[6])&&n[6].apply(this,arguments)}),ee(g,"click",n[11]),ee(t,"click",Us(n[10])),ee(e,"click",n[12])],E=!0)},p(x,R){n=x,n[8]?S?S.p(n,R):(S=ci(n),S.c(),S.m(t,l)):S&&(S.d(1),S=null),R&2&&c!==(c=n[1].isPinned?"ðŸ“Œ":"ðŸ“")&&re(f,c),R&2&&_!==(_=n[1].isPinned?"Unpin":"Pin")&&re(d,_),n[8]?C?C.p(n,R):(C=ui(n),C.c(),C.m(t,null)):C&&(C.d(1),C=null),R&8&&ke(t,"top",n[3]+"px"),R&4&&ke(t,"left",n[2]+"px")},d(x){x&&k(e),S&&S.d(),C&&C.d(),E=!1,Re(A)}}}function ci(n){let e,t=`<span class="menu-icon svelte-1tp94fk">âœï¸</span>
					Edit Message`,s,r;return{c(){e=w("button"),e.innerHTML=t,this.h()},l(i){e=y(i,"BUTTON",{class:!0,"data-svelte-h":!0}),K(e)!=="svelte-8fvj6d"&&(e.innerHTML=t),this.h()},h(){h(e,"class","menu-item svelte-1tp94fk")},m(i,l){j(i,e,l),s||(r=ee(e,"click",function(){Ms(n[4])&&n[4].apply(this,arguments)}),s=!0)},p(i,l){n=i},d(i){i&&k(e),s=!1,r()}}}function ui(n){let e,t,s,r=`<span class="menu-icon svelte-1tp94fk">ðŸ—‘ï¸</span>
					Delete Message`,i,l;return{c(){e=w("div"),t=P(),s=w("button"),s.innerHTML=r,this.h()},l(a){e=y(a,"DIV",{class:!0}),I(e).forEach(k),t=N(a),s=y(a,"BUTTON",{class:!0,"data-svelte-h":!0}),K(s)!=="svelte-g8outl"&&(s.innerHTML=r),this.h()},h(){h(e,"class","menu-divider svelte-1tp94fk"),h(s,"class","menu-item delete svelte-1tp94fk")},m(a,o){j(a,e,o),j(a,t,o),j(a,s,o),i||(l=ee(s,"click",function(){Ms(n[5])&&n[5].apply(this,arguments)}),i=!0)},p(a,o){n=a},d(a){a&&(k(e),k(t),k(s)),i=!1,l()}}}function uu(n){let e,t=n[0]&&oi(n);return{c(){t&&t.c(),e=Be()},l(s){t&&t.l(s),e=Be()},m(s,r){t&&t.m(s,r),j(s,e,r)},p(s,[r]){s[0]?t?t.p(s,r):(t=oi(s),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:_e,o:_e,d(s){s&&k(e),t&&t.d(s)}}}function fu(n,e,t){let s,r;ye(n,os,g=>t(9,r=g));let{message:i}=e,{x:l=0}=e,{y:a=0}=e,{visible:o=!1}=e,{onEdit:c}=e,{onDelete:f}=e,{onPin:m}=e,{onReply:_}=e;function d(g){dn.call(this,n,g)}const v=()=>{navigator.clipboard.writeText(i.text),t(0,o=!1)},b=()=>t(0,o=!1);return n.$$set=g=>{"message"in g&&t(1,i=g.message),"x"in g&&t(2,l=g.x),"y"in g&&t(3,a=g.y),"visible"in g&&t(0,o=g.visible),"onEdit"in g&&t(4,c=g.onEdit),"onDelete"in g&&t(5,f=g.onDelete),"onPin"in g&&t(6,m=g.onPin),"onReply"in g&&t(7,_=g.onReply)},n.$$.update=()=>{n.$$.dirty&514&&t(8,s=i.userId===(r==null?void 0:r.id))},[o,i,l,a,c,f,m,_,s,r,d,v,b]}class du extends ht{constructor(e){super(),pt(this,e,fu,uu,dt,{message:1,x:2,y:3,visible:0,onEdit:4,onDelete:5,onPin:6,onReply:7})}}function fi(n,e,t){const s=n.slice();s[38]=e[t];const r=s[12](s[38].user);s[39]=r;const i=s[22](s[38].replyTo);return s[40]=i,s}function di(n){let e,t="<span>New Messages</span>";return{c(){e=w("div"),e.innerHTML=t,this.h()},l(s){e=y(s,"DIV",{class:!0,"data-svelte-h":!0}),K(e)!=="svelte-1uzyipm"&&(e.innerHTML=t),this.h()},h(){h(e,"class","new-messages-divider svelte-11mcmev")},m(s,r){j(s,e,r)},d(s){s&&k(e)}}}function hu(n){let e,t=n[38].user.charAt(0).toUpperCase()+"",s;return{c(){e=w("div"),s=J(t),this.h()},l(r){e=y(r,"DIV",{class:!0,style:!0});var i=I(e);s=Q(i,t),i.forEach(k),this.h()},h(){h(e,"class","avatar-placeholder svelte-11mcmev"),ke(e,"background-color",n[13](n[38].user))},m(r,i){j(r,e,i),u(e,s)},p(r,i){i[0]&1&&t!==(t=r[38].user.charAt(0).toUpperCase()+"")&&re(s,t),i[0]&1&&ke(e,"background-color",r[13](r[38].user))},d(r){r&&k(e)}}}function pu(n){let e,t,s;return{c(){e=w("img"),this.h()},l(r){e=y(r,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){Ze(e.src,t=n[39].profilePicture)||h(e,"src",t),h(e,"alt",s=n[38].user),h(e,"class","avatar svelte-11mcmev")},m(r,i){j(r,e,i)},p(r,i){i[0]&1&&!Ze(e.src,t=r[39].profilePicture)&&h(e,"src",t),i[0]&1&&s!==(s=r[38].user)&&h(e,"alt",s)},d(r){r&&k(e)}}}function gu(n){let e,t=n[38].user+"",s;return{c(){e=w("span"),s=J(t),this.h()},l(r){e=y(r,"SPAN",{class:!0,style:!0});var i=I(e);s=Q(i,t),i.forEach(k),this.h()},h(){h(e,"class","username svelte-11mcmev"),ke(e,"color",n[13](n[38].user))},m(r,i){j(r,e,i),u(e,s)},p(r,i){i[0]&1&&t!==(t=r[38].user+"")&&re(s,t),i[0]&1&&ke(e,"color",r[13](r[38].user))},d(r){r&&k(e)}}}function mu(n){let e,t=n[38].user+"",s,r,i;function l(){return n[27](n[39])}return{c(){e=w("button"),s=J(t),this.h()},l(a){e=y(a,"BUTTON",{class:!0,style:!0});var o=I(e);s=Q(o,t),o.forEach(k),this.h()},h(){h(e,"class","username svelte-11mcmev"),ke(e,"color",n[13](n[38].user))},m(a,o){j(a,e,o),u(e,s),r||(i=ee(e,"click",l),r=!0)},p(a,o){n=a,o[0]&1&&t!==(t=n[38].user+"")&&re(s,t),o[0]&1&&ke(e,"color",n[13](n[38].user))},d(a){a&&k(e),r=!1,i()}}}function hi(n){let e,t="ðŸ“Œ";return{c(){e=w("span"),e.textContent=t,this.h()},l(s){e=y(s,"SPAN",{class:!0,title:!0,"data-svelte-h":!0}),K(e)!=="svelte-cawwa1"&&(e.textContent=t),this.h()},h(){h(e,"class","pin-badge svelte-11mcmev"),h(e,"title","Pinned message")},m(s,r){j(s,e,r)},d(s){s&&k(e)}}}function pi(n){let e,t="(edited)";return{c(){e=w("span"),e.textContent=t,this.h()},l(s){e=y(s,"SPAN",{class:!0,title:!0,"data-svelte-h":!0}),K(e)!=="svelte-13y41lm"&&(e.textContent=t),this.h()},h(){h(e,"class","edited-badge svelte-11mcmev"),h(e,"title","Edited")},m(s,r){j(s,e,r)},d(s){s&&k(e)}}}function gi(n){let e,t,s,r,i,l=n[40].user+"",a,o,c,f=n[40].text.substring(0,100)+"",m,_=n[40].text.length>100?"...":"",d;return{c(){e=w("div"),t=w("div"),s=P(),r=w("div"),i=w("span"),a=J(l),o=P(),c=w("span"),m=J(f),d=J(_),this.h()},l(v){e=y(v,"DIV",{class:!0});var b=I(e);t=y(b,"DIV",{class:!0}),I(t).forEach(k),s=N(b),r=y(b,"DIV",{class:!0});var g=I(r);i=y(g,"SPAN",{class:!0,style:!0});var T=I(i);a=Q(T,l),T.forEach(k),o=N(g),c=y(g,"SPAN",{class:!0});var p=I(c);m=Q(p,f),d=Q(p,_),p.forEach(k),g.forEach(k),b.forEach(k),this.h()},h(){h(t,"class","reply-line svelte-11mcmev"),h(i,"class","reply-username svelte-11mcmev"),ke(i,"color",n[13](n[40].user)),h(c,"class","reply-text svelte-11mcmev"),h(r,"class","reply-content svelte-11mcmev"),h(e,"class","reply-preview svelte-11mcmev")},m(v,b){j(v,e,b),u(e,t),u(e,s),u(e,r),u(r,i),u(i,a),u(r,o),u(r,c),u(c,m),u(c,d)},p(v,b){b[0]&1&&l!==(l=v[40].user+"")&&re(a,l),b[0]&1&&ke(i,"color",v[13](v[40].user)),b[0]&1&&f!==(f=v[40].text.substring(0,100)+"")&&re(m,f),b[0]&1&&_!==(_=v[40].text.length>100?"...":"")&&re(d,_)},d(v){v&&k(e)}}}function vu(n){let e;function t(i,l){return i[38].type==="gif"&&i[38].gifUrl?yu:i[38].type==="file"&&i[38].fileUrl?ku:bu}let s=t(n),r=s(n);return{c(){e=w("div"),r.c(),this.h()},l(i){e=y(i,"DIV",{class:!0});var l=I(e);r.l(l),l.forEach(k),this.h()},h(){h(e,"class","message-content")},m(i,l){j(i,e,l),r.m(e,null)},p(i,l){s===(s=t(i))&&r?r.p(i,l):(r.d(1),r=s(i),r&&(r.c(),r.m(e,null)))},d(i){i&&k(e),r.d()}}}function _u(n){let e,t,s,r,i,l="Cancel",a,o,c="Save",f,m;function _(){return n[29](n[38])}return{c(){e=w("div"),t=w("textarea"),s=P(),r=w("div"),i=w("button"),i.textContent=l,a=P(),o=w("button"),o.textContent=c,this.h()},l(d){e=y(d,"DIV",{class:!0});var v=I(e);t=y(v,"TEXTAREA",{class:!0,rows:!0}),I(t).forEach(k),s=N(v),r=y(v,"DIV",{class:!0});var b=I(r);i=y(b,"BUTTON",{class:!0,"data-svelte-h":!0}),K(i)!=="svelte-1czerce"&&(i.textContent=l),a=N(b),o=y(b,"BUTTON",{class:!0,"data-svelte-h":!0}),K(o)!=="svelte-w3glyi"&&(o.textContent=c),b.forEach(k),v.forEach(k),this.h()},h(){h(t,"class","edit-textarea svelte-11mcmev"),h(t,"rows","3"),h(i,"class","edit-cancel svelte-11mcmev"),h(o,"class","edit-save svelte-11mcmev"),h(r,"class","edit-actions svelte-11mcmev"),h(e,"class","edit-mode svelte-11mcmev")},m(d,v){j(d,e,v),u(e,t),He(t,n[10]),u(e,s),u(e,r),u(r,i),u(r,a),u(r,o),f||(m=[ee(t,"input",n[28]),ee(i,"click",n[18]),ee(o,"click",_)],f=!0)},p(d,v){n=d,v[0]&1024&&He(t,n[10])},d(d){d&&k(e),f=!1,Re(m)}}}function bu(n){let e,t,s=cn(n[38].text)+"";return{c(){e=w("div"),t=new sa(!1),this.h()},l(r){e=y(r,"DIV",{class:!0});var i=I(e);t=ta(i,!1),i.forEach(k),this.h()},h(){t.a=null,h(e,"class","markdown-content svelte-11mcmev")},m(r,i){j(r,e,i),t.m(s,e)},p(r,i){i[0]&1&&s!==(s=cn(r[38].text)+"")&&t.p(s)},d(r){r&&k(e)}}}function ku(n){let e,t,s,r;function i(c,f){return f[0]&1&&(e=null),f[0]&1&&(t=null),e==null&&(e=!!Tu(c[38].fileName)),e?Su:(t==null&&(t=!!Cu(c[38].fileName)),t?Eu:wu)}let l=i(n,[-1,-1]),a=l(n),o=n[38].text&&n[38].text!==`Shared: ${n[38].fileName}`&&mi(n);return{c(){a.c(),s=P(),o&&o.c(),r=Be()},l(c){a.l(c),s=N(c),o&&o.l(c),r=Be()},m(c,f){a.m(c,f),j(c,s,f),o&&o.m(c,f),j(c,r,f)},p(c,f){l===(l=i(c,f))&&a?a.p(c,f):(a.d(1),a=l(c),a&&(a.c(),a.m(s.parentNode,s))),c[38].text&&c[38].text!==`Shared: ${c[38].fileName}`?o?o.p(c,f):(o=mi(c),o.c(),o.m(r.parentNode,r)):o&&(o.d(1),o=null)},d(c){c&&(k(s),k(r)),a.d(c),o&&o.d(c)}}}function yu(n){let e,t;return{c(){e=w("img"),this.h()},l(s){e=y(s,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){Ze(e.src,t=n[38].gifUrl)||h(e,"src",t),h(e,"alt","GIF"),h(e,"class","gif svelte-11mcmev")},m(s,r){j(s,e,r)},p(s,r){r[0]&1&&!Ze(e.src,t=s[38].gifUrl)&&h(e,"src",t)},d(s){s&&k(e)}}}function wu(n){let e,t,s=_s(n[38].fileName)+"",r,i,l,a,o=n[38].fileName+"",c,f,m,_=vs(n[38].fileSize)+"",d,v,b;return{c(){e=w("a"),t=w("span"),r=J(s),i=P(),l=w("div"),a=w("span"),c=J(o),f=P(),m=w("span"),d=J(_),this.h()},l(g){e=y(g,"A",{href:!0,download:!0,class:!0});var T=I(e);t=y(T,"SPAN",{class:!0});var p=I(t);r=Q(p,s),p.forEach(k),i=N(T),l=y(T,"DIV",{class:!0});var E=I(l);a=y(E,"SPAN",{class:!0});var A=I(a);c=Q(A,o),A.forEach(k),f=N(E),m=y(E,"SPAN",{class:!0});var S=I(m);d=Q(S,_),S.forEach(k),E.forEach(k),T.forEach(k),this.h()},h(){h(t,"class","file-icon svelte-11mcmev"),h(a,"class","file-name svelte-11mcmev"),h(m,"class","file-size svelte-11mcmev"),h(l,"class","file-info svelte-11mcmev"),h(e,"href",v=n[38].fileUrl),h(e,"download",b=n[38].fileName),h(e,"class","file-attachment svelte-11mcmev")},m(g,T){j(g,e,T),u(e,t),u(t,r),u(e,i),u(e,l),u(l,a),u(a,c),u(l,f),u(l,m),u(m,d)},p(g,T){T[0]&1&&s!==(s=_s(g[38].fileName)+"")&&re(r,s),T[0]&1&&o!==(o=g[38].fileName+"")&&re(c,o),T[0]&1&&_!==(_=vs(g[38].fileSize)+"")&&re(d,_),T[0]&1&&v!==(v=g[38].fileUrl)&&h(e,"href",v),T[0]&1&&b!==(b=g[38].fileName)&&h(e,"download",b)},d(g){g&&k(e)}}}function Eu(n){let e,t,s,r,i,l,a,o,c,f=_s(n[38].fileName)+"",m,_,d=n[38].fileName+"",v,b,g,T,p=vs(n[38].fileSize)+"",E,A,S,C;return{c(){e=w("div"),t=w("video"),s=w("source"),l=J(`\r
									Your browser does not support the video tag.`),a=P(),o=w("a"),c=w("span"),m=J(f),_=P(),v=J(d),b=P(),g=w("span"),T=J("("),E=J(p),A=J(")"),this.h()},l(x){e=y(x,"DIV",{class:!0});var R=I(e);t=y(R,"VIDEO",{class:!0});var D=I(t);s=y(D,"SOURCE",{src:!0,type:!0}),l=Q(D,`\r
									Your browser does not support the video tag.`),D.forEach(k),a=N(R),o=y(R,"A",{href:!0,download:!0,class:!0});var F=I(o);c=y(F,"SPAN",{class:!0});var M=I(c);m=Q(M,f),M.forEach(k),_=N(F),v=Q(F,d),b=N(F),g=y(F,"SPAN",{class:!0});var z=I(g);T=Q(z,"("),E=Q(z,p),A=Q(z,")"),z.forEach(k),F.forEach(k),R.forEach(k),this.h()},h(){var x;Ze(s.src,r=n[38].fileUrl)||h(s,"src",r),h(s,"type",i="video/"+((x=n[38].fileName)==null?void 0:x.split(".").pop())),t.controls=!0,h(t,"class","inline-video svelte-11mcmev"),h(c,"class","file-icon svelte-11mcmev"),h(g,"class","file-size svelte-11mcmev"),h(o,"href",S=n[38].fileUrl),h(o,"download",C=n[38].fileName),h(o,"class","video-download-link svelte-11mcmev"),h(e,"class","video-container svelte-11mcmev")},m(x,R){j(x,e,R),u(e,t),u(t,s),u(t,l),u(e,a),u(e,o),u(o,c),u(c,m),u(o,_),u(o,v),u(o,b),u(o,g),u(g,T),u(g,E),u(g,A)},p(x,R){var D;R[0]&1&&!Ze(s.src,r=x[38].fileUrl)&&h(s,"src",r),R[0]&1&&i!==(i="video/"+((D=x[38].fileName)==null?void 0:D.split(".").pop()))&&h(s,"type",i),R[0]&1&&f!==(f=_s(x[38].fileName)+"")&&re(m,f),R[0]&1&&d!==(d=x[38].fileName+"")&&re(v,d),R[0]&1&&p!==(p=vs(x[38].fileSize)+"")&&re(E,p),R[0]&1&&S!==(S=x[38].fileUrl)&&h(o,"href",S),R[0]&1&&C!==(C=x[38].fileName)&&h(o,"download",C)},d(x){x&&k(e)}}}function Su(n){let e,t,s,r,i,l,a,o=_s(n[38].fileName)+"",c,f,m=n[38].fileName+"",_,d,v,b,g=vs(n[38].fileSize)+"",T,p,E,A,S,C;function x(){return n[30](n[38])}return{c(){e=w("div"),t=w("img"),i=P(),l=w("a"),a=w("span"),c=J(o),f=P(),_=J(m),d=P(),v=w("span"),b=J("("),T=J(g),p=J(")"),this.h()},l(R){e=y(R,"DIV",{class:!0});var D=I(e);t=y(D,"IMG",{src:!0,alt:!0,class:!0,title:!0}),i=N(D),l=y(D,"A",{href:!0,download:!0,class:!0});var F=I(l);a=y(F,"SPAN",{class:!0});var M=I(a);c=Q(M,o),M.forEach(k),f=N(F),_=Q(F,m),d=N(F),v=y(F,"SPAN",{class:!0});var z=I(v);b=Q(z,"("),T=Q(z,g),p=Q(z,")"),z.forEach(k),F.forEach(k),D.forEach(k),this.h()},h(){Ze(t.src,s=n[38].fileUrl)||h(t,"src",s),h(t,"alt",r=n[38].fileName),h(t,"class","inline-image svelte-11mcmev"),h(t,"title","Click to enlarge"),h(a,"class","file-icon svelte-11mcmev"),h(v,"class","file-size svelte-11mcmev"),h(l,"href",E=n[38].fileUrl),h(l,"download",A=n[38].fileName),h(l,"class","image-download-link svelte-11mcmev"),h(e,"class","image-container svelte-11mcmev")},m(R,D){j(R,e,D),u(e,t),u(e,i),u(e,l),u(l,a),u(a,c),u(l,f),u(l,_),u(l,d),u(l,v),u(v,b),u(v,T),u(v,p),S||(C=ee(t,"click",x),S=!0)},p(R,D){n=R,D[0]&1&&!Ze(t.src,s=n[38].fileUrl)&&h(t,"src",s),D[0]&1&&r!==(r=n[38].fileName)&&h(t,"alt",r),D[0]&1&&o!==(o=_s(n[38].fileName)+"")&&re(c,o),D[0]&1&&m!==(m=n[38].fileName+"")&&re(_,m),D[0]&1&&g!==(g=vs(n[38].fileSize)+"")&&re(T,g),D[0]&1&&E!==(E=n[38].fileUrl)&&h(l,"href",E),D[0]&1&&A!==(A=n[38].fileName)&&h(l,"download",A)},d(R){R&&k(e),S=!1,C()}}}function mi(n){let e,t,s=cn(n[38].text)+"";return{c(){e=w("div"),t=new sa(!1),this.h()},l(r){e=y(r,"DIV",{class:!0});var i=I(e);t=ta(i,!1),i.forEach(k),this.h()},h(){t.a=null,h(e,"class","markdown-content svelte-11mcmev")},m(r,i){j(r,e,i),t.m(s,e)},p(r,i){i[0]&1&&s!==(s=cn(r[38].text)+"")&&t.p(s)},d(r){r&&k(e)}}}function vi(n,e){let t,s,r,i,l,a,o,c,f,m,_,d,v=ki(e[38].timestamp)+"",b,g,T,p,E,A,S=e[1]===e[38].id&&di();function C(G,Y){var $;return($=G[39])!=null&&$.profilePicture?pu:hu}let x=C(e),R=x(e);function D(G,Y){return G[39]?mu:gu}let F=D(e),M=F(e),z=e[38].isPinned&&hi(),V=e[38].isEdited&&pi(),q=e[40]&&gi(e);function te(G,Y){return G[9]===G[38].id?_u:vu}let U=te(e),B=U(e);function W(...G){return e[31](e[38],...G)}return{key:n,first:null,c(){t=Be(),S&&S.c(),s=P(),r=w("div"),i=w("div"),R.c(),l=P(),a=w("div"),o=w("div"),c=w("div"),M.c(),f=P(),z&&z.c(),m=P(),V&&V.c(),_=P(),d=w("span"),b=J(v),g=P(),q&&q.c(),T=P(),B.c(),this.h()},l(G){t=Be(),S&&S.l(G),s=N(G),r=y(G,"DIV",{class:!0});var Y=I(r);i=y(Y,"DIV",{class:!0});var $=I(i);R.l($),$.forEach(k),l=N(Y),a=y(Y,"DIV",{class:!0});var L=I(a);o=y(L,"DIV",{class:!0});var Z=I(o);c=y(Z,"DIV",{class:!0});var se=I(c);M.l(se),f=N(se),z&&z.l(se),m=N(se),V&&V.l(se),se.forEach(k),_=N(Z),d=y(Z,"SPAN",{class:!0});var H=I(d);b=Q(H,v),H.forEach(k),Z.forEach(k),g=N(L),q&&q.l(L),T=N(L),B.l(L),L.forEach(k),Y.forEach(k),this.h()},h(){h(i,"class","message-avatar svelte-11mcmev"),h(c,"class","header-left svelte-11mcmev"),h(d,"class","timestamp svelte-11mcmev"),h(o,"class","message-header svelte-11mcmev"),h(a,"class","message-body svelte-11mcmev"),h(r,"class",p="message "+(e[38].isPinned?"pinned":"")+" svelte-11mcmev"),this.first=t},m(G,Y){j(G,t,Y),S&&S.m(G,Y),j(G,s,Y),j(G,r,Y),u(r,i),R.m(i,null),u(r,l),u(r,a),u(a,o),u(o,c),M.m(c,null),u(c,f),z&&z.m(c,null),u(c,m),V&&V.m(c,null),u(o,_),u(o,d),u(d,b),u(a,g),q&&q.m(a,null),u(a,T),B.m(a,null),E||(A=ee(r,"contextmenu",W),E=!0)},p(G,Y){e=G,e[1]===e[38].id?S||(S=di(),S.c(),S.m(s.parentNode,s)):S&&(S.d(1),S=null),x===(x=C(e))&&R?R.p(e,Y):(R.d(1),R=x(e),R&&(R.c(),R.m(i,null))),F===(F=D(e))&&M?M.p(e,Y):(M.d(1),M=F(e),M&&(M.c(),M.m(c,f))),e[38].isPinned?z||(z=hi(),z.c(),z.m(c,m)):z&&(z.d(1),z=null),e[38].isEdited?V||(V=pi(),V.c(),V.m(c,null)):V&&(V.d(1),V=null),Y[0]&1&&v!==(v=ki(e[38].timestamp)+"")&&re(b,v),e[40]?q?q.p(e,Y):(q=gi(e),q.c(),q.m(a,T)):q&&(q.d(1),q=null),U===(U=te(e))&&B?B.p(e,Y):(B.d(1),B=U(e),B&&(B.c(),B.m(a,null))),Y[0]&1&&p!==(p="message "+(e[38].isPinned?"pinned":"")+" svelte-11mcmev")&&h(r,"class",p)},d(G){G&&(k(t),k(s),k(r)),S&&S.d(G),R.d(),M.d(),z&&z.d(),V&&V.d(),q&&q.d(),B.d(),E=!1,A()}}}function _i(n){let e,t,s;function r(l){n[34](l)}let i={message:n[8],x:n[6],y:n[7],onEdit:n[16],onDelete:n[19],onPin:n[20],onReply:n[21]};return n[5]!==void 0&&(i.visible=n[5]),e=new du({props:i}),St.push(()=>as(e,"visible",r)),{c(){ct(e.$$.fragment)},l(l){ot(e.$$.fragment,l)},m(l,a){lt(e,l,a),s=!0},p(l,a){const o={};a[0]&256&&(o.message=l[8]),a[0]&64&&(o.x=l[6]),a[0]&128&&(o.y=l[7]),!t&&a[0]&32&&(t=!0,o.visible=l[5],is(()=>t=!1)),e.$set(o)},i(l){s||(ge(e.$$.fragment,l),s=!0)},o(l){Ee(e.$$.fragment,l),s=!1},d(l){at(e,l)}}}function bi(n){let e,t,s,r,i,l="âœ•",a,o,c,f,m;return{c(){e=w("div"),t=w("img"),r=P(),i=w("button"),i.textContent=l,a=P(),o=w("a"),c=J("Open in new tab"),this.h()},l(_){e=y(_,"DIV",{class:!0});var d=I(e);t=y(d,"IMG",{src:!0,alt:!0,class:!0}),r=N(d),i=y(d,"BUTTON",{class:!0,"data-svelte-h":!0}),K(i)!=="svelte-cyanf1"&&(i.textContent=l),a=N(d),o=y(d,"A",{href:!0,target:!0,rel:!0,class:!0});var v=I(o);c=Q(v,"Open in new tab"),v.forEach(k),d.forEach(k),this.h()},h(){Ze(t.src,s=n[11])||h(t,"src",s),h(t,"alt","Enlarged"),h(t,"class","enlarged-image svelte-11mcmev"),h(i,"class","close-modal svelte-11mcmev"),h(o,"href",n[11]),h(o,"target","_blank"),h(o,"rel","noopener noreferrer"),h(o,"class","open-new-tab svelte-11mcmev"),h(e,"class","image-modal svelte-11mcmev")},m(_,d){j(_,e,d),u(e,t),u(e,r),u(e,i),u(e,a),u(e,o),u(o,c),f||(m=[ee(t,"click",Us(n[26])),ee(i,"click",n[24]),ee(e,"click",n[24])],f=!0)},p(_,d){d[0]&2048&&!Ze(t.src,s=_[11])&&h(t,"src",s),d[0]&2048&&h(o,"href",_[11])},d(_){_&&k(e),f=!1,Re(m)}}}function Au(n){let e=[],t=new Map,s,r,i,l,a,o,c,f,m=Je(n[0]);const _=p=>p[38].id;for(let p=0;p<m.length;p+=1){let E=fi(n,m,p),A=_(E);t.set(A,e[p]=vi(A,E))}function d(p){n[32](p)}function v(p){n[33](p)}let b={isOwnProfile:n[4]};n[2]!==void 0&&(b.isOpen=n[2]),n[3]!==void 0&&(b.user=n[3]),r=new Va({props:b}),St.push(()=>as(r,"isOpen",d)),St.push(()=>as(r,"user",v));let g=n[8]&&_i(n),T=n[11]&&bi(n);return{c(){for(let p=0;p<e.length;p+=1)e[p].c();s=P(),ct(r.$$.fragment),a=P(),g&&g.c(),o=P(),T&&T.c(),c=Be()},l(p){for(let E=0;E<e.length;E+=1)e[E].l(p);s=N(p),ot(r.$$.fragment,p),a=N(p),g&&g.l(p),o=N(p),T&&T.l(p),c=Be()},m(p,E){for(let A=0;A<e.length;A+=1)e[A]&&e[A].m(p,E);j(p,s,E),lt(r,p,E),j(p,a,E),g&&g.m(p,E),j(p,o,E),T&&T.m(p,E),j(p,c,E),f=!0},p(p,E){E[0]&13039107&&(m=Je(p[0]),e=fs(e,E,_,1,p,m,t,s.parentNode,us,vi,s,fi));const A={};E[0]&16&&(A.isOwnProfile=p[4]),!i&&E[0]&4&&(i=!0,A.isOpen=p[2],is(()=>i=!1)),!l&&E[0]&8&&(l=!0,A.user=p[3],is(()=>l=!1)),r.$set(A),p[8]?g?(g.p(p,E),E[0]&256&&ge(g,1)):(g=_i(p),g.c(),ge(g,1),g.m(o.parentNode,o)):g&&(gs(),Ee(g,1,1,()=>{g=null}),ms()),p[11]?T?T.p(p,E):(T=bi(p),T.c(),T.m(c.parentNode,c)):T&&(T.d(1),T=null)},i(p){f||(ge(r.$$.fragment,p),ge(g),f=!0)},o(p){Ee(r.$$.fragment,p),Ee(g),f=!1},d(p){p&&(k(s),k(a),k(o),k(c));for(let E=0;E<e.length;E+=1)e[E].d(p);at(r,p),g&&g.d(p),T&&T.d(p)}}}function ki(n){return new Date(n).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})}function vs(n){return n?n<1024?n+" B":n<1024*1024?(n/1024).toFixed(1)+" KB":(n/(1024*1024)).toFixed(1)+" MB":""}function _s(n){if(!n)return"ðŸ“Ž";const e=n.toLowerCase().split(".").pop()||"";return{jpg:"ðŸ–¼ï¸",jpeg:"ðŸ–¼ï¸",png:"ðŸ–¼ï¸",gif:"ðŸ–¼ï¸",bmp:"ðŸ–¼ï¸",svg:"ðŸ–¼ï¸",webp:"ðŸ–¼ï¸",mp4:"ðŸŽ¬",mov:"ðŸŽ¬",avi:"ðŸŽ¬",mkv:"ðŸŽ¬",webm:"ðŸŽ¬",flv:"ðŸŽ¬",mp3:"ðŸŽµ",wav:"ðŸŽµ",ogg:"ðŸŽµ",flac:"ðŸŽµ",pdf:"ðŸ“„",doc:"ðŸ“",docx:"ðŸ“",txt:"ðŸ“",rtf:"ðŸ“",xls:"ðŸ“Š",xlsx:"ðŸ“Š",csv:"ðŸ“Š",ppt:"ðŸ“½ï¸",pptx:"ðŸ“½ï¸",zip:"ðŸ“¦",rar:"ðŸ“¦","7z":"ðŸ“¦",tar:"ðŸ“¦",gz:"ðŸ“¦",js:"ðŸ’»",ts:"ðŸ’»",py:"ðŸ’»",java:"ðŸ’»",cpp:"ðŸ’»",c:"ðŸ’»",cs:"ðŸ’»",html:"ðŸ’»",css:"ðŸ’»",json:"ðŸ’»",blend:"ðŸŽ¨",fbx:"ðŸŽ¨",obj:"ðŸŽ¨",stl:"ðŸŽ¨",psd:"ðŸŽ¨",ai:"ðŸŽ¨",sketch:"ðŸŽ¨"}[e]||"ðŸ“Ž"}function Tu(n){if(!n)return!1;const e=n.toLowerCase().split(".").pop()||"";return["jpg","jpeg","png","gif","bmp","svg","webp"].includes(e)}function Cu(n){if(!n)return!1;const e=n.toLowerCase().split(".").pop()||"";return["mp4","mov","avi","mkv","webm","flv"].includes(e)}function xu(n,e,t){let s,r,i;ye(n,qs,H=>t(35,s=H)),ye(n,os,H=>t(36,r=H)),ye(n,Kt,H=>t(37,i=H));let{messages:l}=e,{onReply:a=()=>{}}=e,{firstUnreadMessageId:o=null}=e,c=!1,f=null,m=!1,_=!1,d=0,v=0,b=null,g=null,T="";function p(H){return i.find(le=>le.username===H)}function E(H){const le=p(H);return(le==null?void 0:le.color)||"#6b7280"}function A(H){t(3,f=H),t(4,m=H.id===(r==null?void 0:r.id)),t(2,c=!0)}function S(H,le){H.preventDefault(),t(8,b=le),t(6,d=H.clientX),t(7,v=H.clientY),t(5,_=!0)}function C(){b&&(t(9,g=b.id),t(10,T=b.text),t(5,_=!1))}function x(H){T.trim()&&La(s,H,T.trim()),t(9,g=null),t(10,T="")}function R(){t(9,g=null),t(10,T="")}function D(){b&&(confirm("Are you sure you want to delete this message?")&&hc(s,b.id),t(5,_=!1))}function F(){b&&(Ma(s,b.id),t(5,_=!1))}function M(){b&&(a(b),t(5,_=!1))}function z(H){if(H)return l.find(le=>le.id===H)}let V=null;function q(H){t(11,V=H)}function te(){t(11,V=null)}function U(H){dn.call(this,n,H)}const B=H=>A(H);function W(){T=this.value,t(10,T)}const G=H=>x(H.id),Y=H=>H.fileUrl&&q(H.fileUrl),$=(H,le)=>S(le,H);function L(H){c=H,t(2,c)}function Z(H){f=H,t(3,f)}function se(H){_=H,t(5,_)}return n.$$set=H=>{"messages"in H&&t(0,l=H.messages),"onReply"in H&&t(25,a=H.onReply),"firstUnreadMessageId"in H&&t(1,o=H.firstUnreadMessageId)},[l,o,c,f,m,_,d,v,b,g,T,V,p,E,A,S,C,x,R,D,F,M,z,q,te,a,U,B,W,G,Y,$,L,Z,se]}class Iu extends ht{constructor(e){super(),pt(this,e,xu,Au,dt,{messages:0,onReply:25,firstUnreadMessageId:1},null,[-1,-1])}}function yi(n,e,t){const s=n.slice();return s[6]=e[t],s}function wi(n){let e,t,s,r="ðŸ“Œ",i,l,a="Pinned Messages",o,c,f,m=n[0].length+"",_,d,v,b,g=[],T=new Map,p=Je(n[0]);const E=A=>A[6].id;for(let A=0;A<p.length;A+=1){let S=yi(n,p,A),C=E(S);T.set(C,g[A]=Ei(C,S))}return{c(){e=w("div"),t=w("div"),s=w("span"),s.textContent=r,i=P(),l=w("span"),l.textContent=a,o=P(),c=w("span"),f=J("("),_=J(m),d=J(")"),v=P(),b=w("div");for(let A=0;A<g.length;A+=1)g[A].c();this.h()},l(A){e=y(A,"DIV",{class:!0});var S=I(e);t=y(S,"DIV",{class:!0});var C=I(t);s=y(C,"SPAN",{class:!0,"data-svelte-h":!0}),K(s)!=="svelte-73xtmc"&&(s.textContent=r),i=N(C),l=y(C,"SPAN",{class:!0,"data-svelte-h":!0}),K(l)!=="svelte-123zvdk"&&(l.textContent=a),o=N(C),c=y(C,"SPAN",{class:!0});var x=I(c);f=Q(x,"("),_=Q(x,m),d=Q(x,")"),x.forEach(k),C.forEach(k),v=N(S),b=y(S,"DIV",{class:!0});var R=I(b);for(let D=0;D<g.length;D+=1)g[D].l(R);R.forEach(k),S.forEach(k),this.h()},h(){h(s,"class","pinned-icon svelte-1ivhp56"),h(l,"class","pinned-title svelte-1ivhp56"),h(c,"class","pinned-count svelte-1ivhp56"),h(t,"class","pinned-header svelte-1ivhp56"),h(b,"class","pinned-messages svelte-1ivhp56"),h(e,"class","pinned-container svelte-1ivhp56")},m(A,S){j(A,e,S),u(e,t),u(t,s),u(t,i),u(t,l),u(t,o),u(t,c),u(c,f),u(c,_),u(c,d),u(e,v),u(e,b);for(let C=0;C<g.length;C+=1)g[C]&&g[C].m(b,null)},p(A,S){S&1&&m!==(m=A[0].length+"")&&re(_,m),S&7&&(p=Je(A[0]),g=fs(g,S,E,1,A,p,T,b,us,Ei,null,yi))},d(A){A&&k(e);for(let S=0;S<g.length;S+=1)g[S].d()}}}function Ei(n,e){let t,s,r,i=e[6].user+"",l,a,o,c=e[6].text.substring(0,100)+"",f,m=e[6].text.length>100?"...":"",_,d,v,b=Si(e[6].timestamp)+"",g,T,p,E="Ã—",A,S,C;function x(){return e[3](e[6])}return{key:n,first:null,c(){t=w("div"),s=w("div"),r=w("span"),l=J(i),a=P(),o=w("span"),f=J(c),_=J(m),d=P(),v=w("span"),g=J(b),T=P(),p=w("button"),p.textContent=E,A=P(),this.h()},l(R){t=y(R,"DIV",{class:!0});var D=I(t);s=y(D,"DIV",{class:!0});var F=I(s);r=y(F,"SPAN",{class:!0,style:!0});var M=I(r);l=Q(M,i),M.forEach(k),a=N(F),o=y(F,"SPAN",{class:!0});var z=I(o);f=Q(z,c),_=Q(z,m),z.forEach(k),d=N(F),v=y(F,"SPAN",{class:!0});var V=I(v);g=Q(V,b),V.forEach(k),F.forEach(k),T=N(D),p=y(D,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),K(p)!=="svelte-87szfn"&&(p.textContent=E),A=N(D),D.forEach(k),this.h()},h(){h(r,"class","pinned-user svelte-1ivhp56"),ke(r,"color",e[1](e[6].user)),h(o,"class","pinned-text svelte-1ivhp56"),h(v,"class","pinned-time svelte-1ivhp56"),h(s,"class","pinned-message-content svelte-1ivhp56"),h(p,"class","unpin-btn svelte-1ivhp56"),h(p,"title","Unpin message"),h(t,"class","pinned-message svelte-1ivhp56"),this.first=t},m(R,D){j(R,t,D),u(t,s),u(s,r),u(r,l),u(s,a),u(s,o),u(o,f),u(o,_),u(s,d),u(s,v),u(v,g),u(t,T),u(t,p),u(t,A),S||(C=ee(p,"click",x),S=!0)},p(R,D){e=R,D&1&&i!==(i=e[6].user+"")&&re(l,i),D&1&&ke(r,"color",e[1](e[6].user)),D&1&&c!==(c=e[6].text.substring(0,100)+"")&&re(f,c),D&1&&m!==(m=e[6].text.length>100?"...":"")&&re(_,m),D&1&&b!==(b=Si(e[6].timestamp)+"")&&re(g,b)},d(R){R&&k(t),S=!1,C()}}}function Ru(n){let e,t=n[0].length>0&&wi(n);return{c(){t&&t.c(),e=Be()},l(s){t&&t.l(s),e=Be()},m(s,r){t&&t.m(s,r),j(s,e,r)},p(s,[r]){s[0].length>0?t?t.p(s,r):(t=wi(s),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:_e,o:_e,d(s){s&&k(e),t&&t.d(s)}}}function Si(n){return new Date(n).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})}function Ou(n,e,t){let s;ye(n,Kt,c=>t(4,s=c));let{pinnedMessages:r}=e;function i(c){return s.find(f=>f.username===c)}function l(c){const f=i(c);return(f==null?void 0:f.color)||"#6b7280"}function a(c){Ma(c)}const o=c=>a(c.id);return n.$$set=c=>{"pinnedMessages"in c&&t(0,r=c.pinnedMessages)},[r,l,a,o]}class Du extends ht{constructor(e){super(),pt(this,e,Ou,Ru,dt,{pinnedMessages:0})}}function Ai(n){let e,t,s,r,i=n[10].join(", ")+"",l,a,o=n[10].length===1?"is":"are",c,f;return{c(){e=w("div"),t=w("span"),s=P(),r=w("span"),l=J(i),a=P(),c=J(o),f=J(" typing..."),this.h()},l(m){e=y(m,"DIV",{class:!0});var _=I(e);t=y(_,"SPAN",{class:!0}),I(t).forEach(k),s=N(_),r=y(_,"SPAN",{});var d=I(r);l=Q(d,i),a=N(d),c=Q(d,o),f=Q(d," typing..."),d.forEach(k),_.forEach(k),this.h()},h(){h(t,"class","typing-dots svelte-6120j0"),h(e,"class","typing-indicator svelte-6120j0")},m(m,_){j(m,e,_),u(e,t),u(e,s),u(e,r),u(r,l),u(r,a),u(r,c),u(r,f)},p(m,_){_&1024&&i!==(i=m[10].join(", ")+"")&&re(l,i),_&1024&&o!==(o=m[10].length===1?"is":"are")&&re(c,o)},d(m){m&&k(e)}}}function Ti(n){let e,t;return e=new eu({}),e.$on("select",n[15]),e.$on("close",n[21]),{c(){ct(e.$$.fragment)},l(s){ot(e.$$.fragment,s)},m(s,r){lt(e,s,r),t=!0},p:_e,i(s){t||(ge(e.$$.fragment,s),t=!0)},o(s){Ee(e.$$.fragment,s),t=!1},d(s){at(e,s)}}}function Nu(n){let e,t,s,r,i=n[5].user+"",l,a,o,c,f=n[5].text.substring(0,50)+"",m,_=n[5].text.length>50?"...":"",d,v,b,g="âœ•",T,p;return{c(){e=w("div"),t=w("div"),s=w("span"),r=J("Replying to "),l=J(i),a=J(":"),o=P(),c=w("span"),m=J(f),d=J(_),v=P(),b=w("button"),b.textContent=g,this.h()},l(E){e=y(E,"DIV",{class:!0});var A=I(e);t=y(A,"DIV",{class:!0});var S=I(t);s=y(S,"SPAN",{class:!0});var C=I(s);r=Q(C,"Replying to "),l=Q(C,i),a=Q(C,":"),C.forEach(k),o=N(S),c=y(S,"SPAN",{class:!0});var x=I(c);m=Q(x,f),d=Q(x,_),x.forEach(k),S.forEach(k),v=N(A),b=y(A,"BUTTON",{class:!0,"data-svelte-h":!0}),K(b)!=="svelte-1av190j"&&(b.textContent=g),A.forEach(k),this.h()},h(){h(s,"class","reply-label svelte-6120j0"),h(c,"class","reply-preview svelte-6120j0"),h(t,"class","reply-info svelte-6120j0"),h(b,"class","cancel-reply svelte-6120j0"),h(e,"class","reply-bar svelte-6120j0")},m(E,A){j(E,e,A),u(e,t),u(t,s),u(s,r),u(s,l),u(s,a),u(t,o),u(t,c),u(c,m),u(c,d),u(e,v),u(e,b),T||(p=ee(b,"click",n[17]),T=!0)},p(E,A){A&32&&i!==(i=E[5].user+"")&&re(l,i),A&32&&f!==(f=E[5].text.substring(0,50)+"")&&re(m,f),A&32&&_!==(_=E[5].text.length>50?"...":"")&&re(d,_)},d(E){E&&k(e),T=!1,p()}}}function Pu(n){let e,t,s='<span class="edit-label svelte-6120j0">Editing message</span> <span class="edit-hint svelte-6120j0">Press Escape to cancel</span>',r,i,l="âœ•",a,o;return{c(){e=w("div"),t=w("div"),t.innerHTML=s,r=P(),i=w("button"),i.textContent=l,this.h()},l(c){e=y(c,"DIV",{class:!0});var f=I(e);t=y(f,"DIV",{class:!0,"data-svelte-h":!0}),K(t)!=="svelte-1kwfa7y"&&(t.innerHTML=s),r=N(f),i=y(f,"BUTTON",{class:!0,"data-svelte-h":!0}),K(i)!=="svelte-1anw7a5"&&(i.textContent=l),f.forEach(k),this.h()},h(){h(t,"class","edit-info svelte-6120j0"),h(i,"class","cancel-edit svelte-6120j0"),h(e,"class","edit-bar svelte-6120j0")},m(c,f){j(c,e,f),u(e,t),u(e,r),u(e,i),a||(o=ee(i,"click",n[14]),a=!0)},p:_e,d(c){c&&k(e),a=!1,o()}}}function Fu(n){let e,t,s,r,i,l,a,o,c,f,m,_,d,v,b,g,T,p,E="ðŸ“Ž",A,S,C="GIF",x,R,D,F,M,z,V,q,te;o=new Du({props:{pinnedMessages:n[8]}}),f=new Iu({props:{messages:n[0],onReply:n[16],firstUnreadMessageId:n[9]}});let U=n[10].length>0&&Ai(n),B=n[4]&&Ti(n);function W($,L){if($[7])return Pu;if($[5])return Nu}let G=W(n),Y=G&&G(n);return{c(){e=w("div"),t=w("div"),s=w("h2"),r=J("#"),i=J(n[1]),l=P(),a=w("div"),ct(o.$$.fragment),c=P(),ct(f.$$.fragment),m=P(),U&&U.c(),_=P(),B&&B.c(),d=P(),Y&&Y.c(),v=P(),b=w("div"),g=w("input"),T=P(),p=w("button"),p.textContent=E,A=P(),S=w("button"),S.textContent=C,x=P(),R=w("textarea"),D=P(),F=w("button"),M=J("Send"),this.h()},l($){e=y($,"DIV",{class:!0});var L=I(e);t=y(L,"DIV",{class:!0});var Z=I(t);s=y(Z,"H2",{class:!0});var se=I(s);r=Q(se,"#"),i=Q(se,n[1]),se.forEach(k),Z.forEach(k),l=N(L),a=y(L,"DIV",{class:!0});var H=I(a);ot(o.$$.fragment,H),c=N(H),ot(f.$$.fragment,H),m=N(H),U&&U.l(H),H.forEach(k),_=N(L),B&&B.l(L),d=N(L),Y&&Y.l(L),v=N(L),b=y(L,"DIV",{class:!0});var le=I(b);g=y(le,"INPUT",{type:!0,style:!0,class:!0}),T=N(le),p=y(le,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),K(p)!=="svelte-1d6va1m"&&(p.textContent=E),A=N(le),S=y(le,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),K(S)!=="svelte-1ldwpg2"&&(S.textContent=C),x=N(le),R=y(le,"TEXTAREA",{placeholder:!0,maxlength:!0,rows:!0,class:!0}),I(R).forEach(k),D=N(le),F=y(le,"BUTTON",{});var ue=I(F);M=Q(ue,"Send"),ue.forEach(k),le.forEach(k),L.forEach(k),this.h()},h(){h(s,"class","svelte-6120j0"),h(t,"class","chat-header svelte-6120j0"),h(a,"class","messages svelte-6120j0"),h(g,"type","file"),ke(g,"display","none"),h(g,"class","svelte-6120j0"),h(p,"class","attachment-button svelte-6120j0"),h(p,"title","Attach file"),h(S,"class","gif-button svelte-6120j0"),h(S,"title","Add GIF"),h(R,"placeholder","Type a message... (Shift+Enter for new line)"),h(R,"maxlength","2000"),h(R,"rows","1"),h(R,"class","svelte-6120j0"),F.disabled=z=!n[2].trim(),h(b,"class","input-container svelte-6120j0"),h(e,"class","chat-container svelte-6120j0")},m($,L){j($,e,L),u(e,t),u(t,s),u(s,r),u(s,i),u(e,l),u(e,a),lt(o,a,null),u(a,c),lt(f,a,null),u(a,m),U&&U.m(a,null),n[20](a),u(e,_),B&&B.m(e,null),u(e,d),Y&&Y.m(e,null),u(e,v),u(e,b),u(b,g),n[22](g),u(b,T),u(b,p),u(b,A),u(b,S),u(b,x),u(b,R),He(R,n[2]),u(b,D),u(b,F),u(F,M),V=!0,q||(te=[ee(g,"change",n[18]),ee(p,"click",n[23]),ee(S,"click",n[24]),ee(R,"input",n[25]),ee(R,"input",n[11]),ee(R,"keydown",n[12]),ee(F,"click",n[13])],q=!0)},p($,[L]){(!V||L&2)&&re(i,$[1]);const Z={};L&256&&(Z.pinnedMessages=$[8]),o.$set(Z);const se={};L&1&&(se.messages=$[0]),L&512&&(se.firstUnreadMessageId=$[9]),f.$set(se),$[10].length>0?U?U.p($,L):(U=Ai($),U.c(),U.m(a,null)):U&&(U.d(1),U=null),$[4]?B?(B.p($,L),L&16&&ge(B,1)):(B=Ti($),B.c(),ge(B,1),B.m(e,d)):B&&(gs(),Ee(B,1,1,()=>{B=null}),ms()),G===(G=W($))&&Y?Y.p($,L):(Y&&Y.d(1),Y=G&&G($),Y&&(Y.c(),Y.m(e,v))),L&4&&He(R,$[2]),(!V||L&4&&z!==(z=!$[2].trim()))&&(F.disabled=z)},i($){V||(ge(o.$$.fragment,$),ge(f.$$.fragment,$),ge(B),V=!0)},o($){Ee(o.$$.fragment,$),Ee(f.$$.fragment,$),Ee(B),V=!1},d($){$&&k(e),at(o),at(f),U&&U.d(),n[20](null),B&&B.d(),Y&&Y.d(),n[22](null),q=!1,Re(te)}}}function Lu(n,e,t){let s,r,i,l,a,o,c;ye(n,qs,U=>t(1,i=U)),ye(n,os,U=>t(27,l=U)),ye(n,Bt,U=>t(19,a=U)),ye(n,ur,U=>t(9,o=U)),ye(n,Pa,U=>t(10,c=U));let f="",m,_,d=!1,v=null,b,g=null;async function T(){await na(),m&&t(3,m.scrollTop=m.scrollHeight,m)}function p(){Dn(!0),_&&clearTimeout(_),_=setTimeout(()=>{Dn(!1)},1e3)}function E(U){if(U.key==="ArrowUp"&&!f.trim()&&!g){U.preventDefault();const B=s.filter(W=>W.userId===(l==null?void 0:l.id));if(B.length>0){const W=B[B.length-1];t(7,g=W),t(2,f=W.text)}}else U.key==="Escape"&&g?(U.preventDefault(),S()):U.key==="Enter"&&!U.shiftKey&&(U.preventDefault(),A())}function A(){f.trim()&&(g?(La(i,g.id,f.trim()),t(7,g=null)):(On(i,f.trim(),"text",{replyTo:v==null?void 0:v.id}),t(5,v=null)),t(2,f=""),Dn(!1),_&&clearTimeout(_))}function S(){t(7,g=null),t(2,f="")}function C(U){On(i,"","gif",{gifUrl:U.detail,replyTo:v==null?void 0:v.id}),t(5,v=null),t(4,d=!1)}function x(U){t(5,v=U);const B=document.querySelector('input[type="text"]');B==null||B.focus()}function R(){t(5,v=null)}function D(U){var G;const B=U.target,W=(G=B.files)==null?void 0:G[0];if(W){console.log("File selected:",W.name,W.size,W.type);const Y=50*1024*1024;if(W.size>Y){alert(`File too large! Maximum size is 50MB. Your file is ${(W.size/1024/1024).toFixed(2)}MB`),B.value="";return}const $=new FileReader;$.onload=L=>{var se;const Z=(se=L.target)==null?void 0:se.result;console.log("File converted to base64, length:",Z.length),console.log("Sending file message to channel:",i),On(i,f.trim()||`Shared: ${W.name}`,"file",{fileUrl:Z,fileName:W.name,fileSize:W.size,replyTo:v==null?void 0:v.id}),console.log("File message sent"),t(2,f=""),t(5,v=null)},$.onerror=L=>{console.error("Error reading file:",L)},$.readAsDataURL(W)}else console.log("No file selected");B.value=""}cs(()=>{T()});function F(U){St[U?"unshift":"push"](()=>{m=U,t(3,m)})}const M=()=>t(4,d=!1);function z(U){St[U?"unshift":"push"](()=>{b=U,t(6,b)})}const V=()=>b==null?void 0:b.click(),q=()=>t(4,d=!d);function te(){f=this.value,t(2,f)}return n.$$.update=()=>{n.$$.dirty&524290&&t(0,s=a[i]||[]),n.$$.dirty&1&&t(8,r=s.filter(U=>U.isPinned)),n.$$.dirty&1&&s.length&&T()},[s,i,f,m,d,v,b,g,r,o,c,p,E,A,S,C,x,R,D,a,F,M,z,V,q,te]}class Mu extends ht{constructor(e){super(),pt(this,e,Lu,Fu,dt,{})}}function Bu(n){let e,t,s,r,i,l,a,o,c,f="Join Chat",m,_;return{c(){e=w("div"),t=w("div"),s=w("img"),i=P(),l=w("form"),a=w("input"),o=P(),c=w("button"),c.textContent=f,this.h()},l(d){e=y(d,"DIV",{class:!0});var v=I(e);t=y(v,"DIV",{class:!0});var b=I(t);s=y(b,"IMG",{src:!0,alt:!0,class:!0}),i=N(b),l=y(b,"FORM",{class:!0});var g=I(l);a=y(g,"INPUT",{type:!0,placeholder:!0,maxlength:!0,class:!0}),o=N(g),c=y(g,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),K(c)!=="svelte-1oym1t5"&&(c.textContent=f),g.forEach(k),b.forEach(k),v.forEach(k),this.h()},h(){Ze(s.src,r="/wabi-logo.png")||h(s,"src",r),h(s,"alt","Wabi"),h(s,"class","logo svelte-okaquc"),h(a,"type","text"),h(a,"placeholder","Enter your username"),h(a,"maxlength","20"),a.required=!0,a.autofocus=!0,h(a,"class","svelte-okaquc"),h(c,"type","submit"),h(c,"class","svelte-okaquc"),h(l,"class","svelte-okaquc"),h(t,"class","login-box svelte-okaquc"),h(e,"class","login-container svelte-okaquc")},m(d,v){j(d,e,v),u(e,t),u(t,s),u(t,i),u(t,l),u(l,a),He(a,n[0]),u(l,o),u(l,c),a.focus(),m||(_=[ee(a,"input",n[2]),ee(l,"submit",Xa(n[1]))],m=!0)},p(d,[v]){v&1&&a.value!==d[0]&&He(a,d[0])},i:_e,o:_e,d(d){d&&k(e),m=!1,Re(_)}}}function Uu(n,e,t){const s=ea();let r="";function i(){r.trim()&&s("login",r.trim())}function l(){r=this.value,t(0,r)}return[r,i,l]}class zu extends ht{constructor(e){super(),pt(this,e,Uu,Bu,dt,{})}}function Ci(n,e,t){const s=n.slice();return s[17]=e[t],s}function xi(n){let e,t,s,r="Total Messages",i,l,a=n[3].totalMessages.toLocaleString()+"",o,c,f,m,_="Storage Used",d,v,b=un(n[3].totalSize)+"",g,T,p,E,A="Archives",S,C,x=n[3].archives.length+"",R,D,F,M,z,V="Rotation Period",q,te,U,B="Weekly",W,G="Monthly",Y,$="Every 6 Months",L,Z="Yearly",se,H,le="How often to create a new archive file (like changing batteries)",ue,fe,Pe,xe,Se="Keep Last",$e,Te,Oe,Fe,Ue,Vt="archives",gt,De,et="Older archives are automatically deleted to save space",Ft,bt,ze,qe,kt="ðŸ—‘ï¸ Clear All History",mt,Ke;function yt(ce,oe){return ce[3].archives.length>0?Vu:qu}let Ct=yt(n),Ie=Ct(n);return{c(){e=w("div"),t=w("div"),s=w("div"),s.textContent=r,i=P(),l=w("div"),o=J(a),c=P(),f=w("div"),m=w("div"),m.textContent=_,d=P(),v=w("div"),g=J(b),T=P(),p=w("div"),E=w("div"),E.textContent=A,S=P(),C=w("div"),R=J(x),D=P(),F=w("div"),M=w("label"),z=w("span"),z.textContent=V,q=P(),te=w("select"),U=w("option"),U.textContent=B,W=w("option"),W.textContent=G,Y=w("option"),Y.textContent=$,L=w("option"),L.textContent=Z,se=P(),H=w("p"),H.textContent=le,ue=P(),fe=w("div"),Pe=w("label"),xe=w("span"),xe.textContent=Se,$e=P(),Te=w("div"),Oe=w("input"),Fe=P(),Ue=w("span"),Ue.textContent=Vt,gt=P(),De=w("p"),De.textContent=et,Ft=P(),Ie.c(),bt=P(),ze=w("div"),qe=w("button"),qe.textContent=kt,this.h()},l(ce){e=y(ce,"DIV",{class:!0});var oe=I(e);t=y(oe,"DIV",{class:!0});var wt=I(t);s=y(wt,"DIV",{class:!0,"data-svelte-h":!0}),K(s)!=="svelte-akn32o"&&(s.textContent=r),i=N(wt),l=y(wt,"DIV",{class:!0});var Lt=I(l);o=Q(Lt,a),Lt.forEach(k),wt.forEach(k),c=N(oe),f=y(oe,"DIV",{class:!0});var he=I(f);m=y(he,"DIV",{class:!0,"data-svelte-h":!0}),K(m)!=="svelte-5vlbe4"&&(m.textContent=_),d=N(he),v=y(he,"DIV",{class:!0});var Ae=I(v);g=Q(Ae,b),Ae.forEach(k),he.forEach(k),T=N(oe),p=y(oe,"DIV",{class:!0});var Et=I(p);E=y(Et,"DIV",{class:!0,"data-svelte-h":!0}),K(E)!=="svelte-1e1df45"&&(E.textContent=A),S=N(Et),C=y(Et,"DIV",{class:!0});var xt=I(C);R=Q(xt,x),xt.forEach(k),Et.forEach(k),oe.forEach(k),D=N(ce),F=y(ce,"DIV",{class:!0});var Ge=I(F);M=y(Ge,"LABEL",{class:!0});var Ve=I(M);z=y(Ve,"SPAN",{class:!0,"data-svelte-h":!0}),K(z)!=="svelte-608xyy"&&(z.textContent=V),q=N(Ve),te=y(Ve,"SELECT",{class:!0});var tt=I(te);U=y(tt,"OPTION",{"data-svelte-h":!0}),K(U)!=="svelte-crm6lv"&&(U.textContent=B),W=y(tt,"OPTION",{"data-svelte-h":!0}),K(W)!=="svelte-hva46z"&&(W.textContent=G),Y=y(tt,"OPTION",{"data-svelte-h":!0}),K(Y)!=="svelte-1s0lvql"&&(Y.textContent=$),L=y(tt,"OPTION",{"data-svelte-h":!0}),K(L)!=="svelte-jp5v27"&&(L.textContent=Z),tt.forEach(k),Ve.forEach(k),se=N(Ge),H=y(Ge,"P",{class:!0,"data-svelte-h":!0}),K(H)!=="svelte-qu5pay"&&(H.textContent=le),Ge.forEach(k),ue=N(ce),fe=y(ce,"DIV",{class:!0});var Ht=I(fe);Pe=y(Ht,"LABEL",{class:!0});var st=I(Pe);xe=y(st,"SPAN",{class:!0,"data-svelte-h":!0}),K(xe)!=="svelte-1im50qe"&&(xe.textContent=Se),$e=N(st),Te=y(st,"DIV",{class:!0});var jt=I(Te);Oe=y(jt,"INPUT",{type:!0,min:!0,max:!0,class:!0}),Fe=N(jt),Ue=y(jt,"SPAN",{class:!0,"data-svelte-h":!0}),K(Ue)!=="svelte-nj3imy"&&(Ue.textContent=Vt),jt.forEach(k),st.forEach(k),gt=N(Ht),De=y(Ht,"P",{class:!0,"data-svelte-h":!0}),K(De)!=="svelte-he359b"&&(De.textContent=et),Ht.forEach(k),Ft=N(ce),Ie.l(ce),bt=N(ce),ze=y(ce,"DIV",{class:!0});var $t=I(ze);qe=y($t,"BUTTON",{class:!0,"data-svelte-h":!0}),K(qe)!=="svelte-1u0bcm7"&&(qe.textContent=kt),$t.forEach(k),this.h()},h(){h(s,"class","stat-label svelte-qkrj18"),h(l,"class","stat-value svelte-qkrj18"),h(t,"class","stat svelte-qkrj18"),h(m,"class","stat-label svelte-qkrj18"),h(v,"class","stat-value svelte-qkrj18"),h(f,"class","stat svelte-qkrj18"),h(E,"class","stat-label svelte-qkrj18"),h(C,"class","stat-value svelte-qkrj18"),h(p,"class","stat svelte-qkrj18"),h(e,"class","stats-panel svelte-qkrj18"),h(z,"class","label svelte-qkrj18"),U.__value="week",He(U,U.__value),W.__value="month",He(W,W.__value),Y.__value="half-year",He(Y,Y.__value),L.__value="year",He(L,L.__value),h(te,"class","svelte-qkrj18"),n[1]===void 0&&Ka(()=>n[12].call(te)),h(M,"class","svelte-qkrj18"),h(H,"class","hint svelte-qkrj18"),h(F,"class","setting-group svelte-qkrj18"),h(xe,"class","label svelte-qkrj18"),h(Oe,"type","number"),h(Oe,"min","1"),h(Oe,"max","52"),h(Oe,"class","svelte-qkrj18"),h(Ue,"class","unit svelte-qkrj18"),h(Te,"class","number-input-group svelte-qkrj18"),h(Pe,"class","svelte-qkrj18"),h(De,"class","hint svelte-qkrj18"),h(fe,"class","setting-group svelte-qkrj18"),h(qe,"class","btn-danger svelte-qkrj18"),h(ze,"class","actions svelte-qkrj18")},m(ce,oe){j(ce,e,oe),u(e,t),u(t,s),u(t,i),u(t,l),u(l,o),u(e,c),u(e,f),u(f,m),u(f,d),u(f,v),u(v,g),u(e,T),u(e,p),u(p,E),u(p,S),u(p,C),u(C,R),j(ce,D,oe),j(ce,F,oe),u(F,M),u(M,z),u(M,q),u(M,te),u(te,U),u(te,W),u(te,Y),u(te,L),Er(te,n[1],!0),u(F,se),u(F,H),j(ce,ue,oe),j(ce,fe,oe),u(fe,Pe),u(Pe,xe),u(Pe,$e),u(Pe,Te),u(Te,Oe),He(Oe,n[2]),u(Te,Fe),u(Te,Ue),u(fe,gt),u(fe,De),j(ce,Ft,oe),Ie.m(ce,oe),j(ce,bt,oe),j(ce,ze,oe),u(ze,qe),mt||(Ke=[ee(te,"change",n[12]),ee(te,"change",n[5]),ee(Oe,"input",n[13]),ee(Oe,"change",n[6]),ee(qe,"click",n[10])],mt=!0)},p(ce,oe){oe&8&&a!==(a=ce[3].totalMessages.toLocaleString()+"")&&re(o,a),oe&8&&b!==(b=un(ce[3].totalSize)+"")&&re(g,b),oe&8&&x!==(x=ce[3].archives.length+"")&&re(R,x),oe&2&&Er(te,ce[1]),oe&4&&ra(Oe.value)!==ce[2]&&He(Oe,ce[2]),Ct===(Ct=yt(ce))&&Ie?Ie.p(ce,oe):(Ie.d(1),Ie=Ct(ce),Ie&&(Ie.c(),Ie.m(bt.parentNode,bt)))},d(ce){ce&&(k(e),k(D),k(F),k(ue),k(fe),k(Ft),k(bt),k(ze)),Ie.d(ce),mt=!1,Re(Ke)}}}function qu(n){let e,t="<p>No archives yet. Messages will be saved as you chat.</p>";return{c(){e=w("div"),e.innerHTML=t,this.h()},l(s){e=y(s,"DIV",{class:!0,"data-svelte-h":!0}),K(e)!=="svelte-kqcvlb"&&(e.innerHTML=t),this.h()},h(){h(e,"class","empty-state svelte-qkrj18")},m(s,r){j(s,e,r)},p:_e,d(s){s&&k(e)}}}function Vu(n){let e,t,s,r="Archive History",i,l,a="ðŸ“¦ Export All",o,c,f,m,_=Je(n[3].archives),d=[];for(let v=0;v<_.length;v+=1)d[v]=Ii(Ci(n,_,v));return{c(){e=w("div"),t=w("div"),s=w("h4"),s.textContent=r,i=P(),l=w("button"),l.textContent=a,o=P(),c=w("div");for(let v=0;v<d.length;v+=1)d[v].c();this.h()},l(v){e=y(v,"DIV",{class:!0});var b=I(e);t=y(b,"DIV",{class:!0});var g=I(t);s=y(g,"H4",{class:!0,"data-svelte-h":!0}),K(s)!=="svelte-1i91zrs"&&(s.textContent=r),i=N(g),l=y(g,"BUTTON",{class:!0,"data-svelte-h":!0}),K(l)!=="svelte-197zvis"&&(l.textContent=a),g.forEach(k),o=N(b),c=y(b,"DIV",{class:!0});var T=I(c);for(let p=0;p<d.length;p+=1)d[p].l(T);T.forEach(k),b.forEach(k),this.h()},h(){h(s,"class","svelte-qkrj18"),h(l,"class","btn-small svelte-qkrj18"),h(t,"class","section-header svelte-qkrj18"),h(c,"class","archive-list svelte-qkrj18"),h(e,"class","archives-section svelte-qkrj18")},m(v,b){j(v,e,b),u(e,t),u(t,s),u(t,i),u(t,l),u(e,o),u(e,c);for(let g=0;g<d.length;g+=1)d[g]&&d[g].m(c,null);f||(m=ee(l,"click",n[9]),f=!0)},p(v,b){if(b&392){_=Je(v[3].archives);let g;for(g=0;g<_.length;g+=1){const T=Ci(v,_,g);d[g]?d[g].p(T,b):(d[g]=Ii(T),d[g].c(),d[g].m(c,null))}for(;g<d.length;g+=1)d[g].d(1);d.length=_.length}},d(v){v&&k(e),Ja(d,v),f=!1,m()}}}function Ii(n){let e,t,s,r=Yn(n[17].period)+"",i,l,a,o=un(n[17].size)+"",c,f,m=n[17].messageCount.toLocaleString()+"",_,d,v,b,g,T="ðŸ’¾",p,E,A="ðŸ—‘ï¸",S,C,x;function R(){return n[14](n[17])}function D(){return n[15](n[17])}return{c(){e=w("div"),t=w("div"),s=w("span"),i=J(r),l=P(),a=w("span"),c=J(o),f=J(" â€¢ "),_=J(m),d=J(" messages"),v=P(),b=w("div"),g=w("button"),g.textContent=T,p=P(),E=w("button"),E.textContent=A,S=P(),this.h()},l(F){e=y(F,"DIV",{class:!0});var M=I(e);t=y(M,"DIV",{class:!0});var z=I(t);s=y(z,"SPAN",{class:!0});var V=I(s);i=Q(V,r),V.forEach(k),l=N(z),a=y(z,"SPAN",{class:!0});var q=I(a);c=Q(q,o),f=Q(q," â€¢ "),_=Q(q,m),d=Q(q," messages"),q.forEach(k),z.forEach(k),v=N(M),b=y(M,"DIV",{class:!0});var te=I(b);g=y(te,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),K(g)!=="svelte-13e8aja"&&(g.textContent=T),p=N(te),E=y(te,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),K(E)!=="svelte-1br206h"&&(E.textContent=A),te.forEach(k),S=N(M),M.forEach(k),this.h()},h(){h(s,"class","archive-period svelte-qkrj18"),h(a,"class","archive-meta svelte-qkrj18"),h(t,"class","archive-info svelte-qkrj18"),h(g,"class","btn-icon svelte-qkrj18"),h(g,"title","Export"),h(E,"class","btn-icon danger svelte-qkrj18"),h(E,"title","Delete"),h(b,"class","archive-actions svelte-qkrj18"),h(e,"class","archive-item svelte-qkrj18")},m(F,M){j(F,e,M),u(e,t),u(t,s),u(s,i),u(t,l),u(t,a),u(a,c),u(a,f),u(a,_),u(a,d),u(e,v),u(e,b),u(b,g),u(b,p),u(b,E),u(e,S),C||(x=[ee(g,"click",R),ee(E,"click",D)],C=!0)},p(F,M){n=F,M&8&&r!==(r=Yn(n[17].period)+"")&&re(i,r),M&8&&o!==(o=un(n[17].size)+"")&&re(c,o),M&8&&m!==(m=n[17].messageCount.toLocaleString()+"")&&re(_,m)},d(F){F&&k(e),C=!1,Re(x)}}}function Hu(n){let e,t,s='<h3 class="svelte-qkrj18">ðŸ’¾ Local Storage</h3> <p class="subtitle svelte-qkrj18">Your chat history is saved only on your device. The server stores nothing permanently.</p>',r,i,l,a,o,c,f="Save chat history locally",m,_,d="When enabled, messages are stored in your browser. You control your data.",v,b,g,T=n[0]&&xi(n);return{c(){e=w("div"),t=w("div"),t.innerHTML=s,r=P(),i=w("div"),l=w("label"),a=w("input"),o=P(),c=w("span"),c.textContent=f,m=P(),_=w("p"),_.textContent=d,v=P(),T&&T.c(),this.h()},l(p){e=y(p,"DIV",{class:!0});var E=I(e);t=y(E,"DIV",{class:!0,"data-svelte-h":!0}),K(t)!=="svelte-s9o5r3"&&(t.innerHTML=s),r=N(E),i=y(E,"DIV",{class:!0});var A=I(i);l=y(A,"LABEL",{class:!0});var S=I(l);a=y(S,"INPUT",{type:!0,class:!0}),o=N(S),c=y(S,"SPAN",{class:!0,"data-svelte-h":!0}),K(c)!=="svelte-1ssgcs1"&&(c.textContent=f),S.forEach(k),m=N(A),_=y(A,"P",{class:!0,"data-svelte-h":!0}),K(_)!=="svelte-1hbmqvb"&&(_.textContent=d),A.forEach(k),v=N(E),T&&T.l(E),E.forEach(k),this.h()},h(){h(t,"class","header svelte-qkrj18"),h(a,"type","checkbox"),h(a,"class","svelte-qkrj18"),h(c,"class","toggle-label"),h(l,"class","toggle-setting svelte-qkrj18"),h(_,"class","hint svelte-qkrj18"),h(i,"class","setting-group svelte-qkrj18"),h(e,"class","storage-settings svelte-qkrj18")},m(p,E){j(p,e,E),u(e,t),u(e,r),u(e,i),u(i,l),u(l,a),a.checked=n[0],u(l,o),u(l,c),u(i,m),u(i,_),u(e,v),T&&T.m(e,null),b||(g=[ee(a,"change",n[11]),ee(a,"change",n[4])],b=!0)},p(p,[E]){E&1&&(a.checked=p[0]),p[0]?T?T.p(p,E):(T=xi(p),T.c(),T.m(e,null)):T&&(T.d(1),T=null)},i:_e,o:_e,d(p){p&&k(e),T&&T.d(),b=!1,Re(g)}}}function un(n){if(n===0)return"0 B";const e=n/(1024*1024);return e>=.01?`${e.toFixed(2)} MB`:`${(n/1024).toFixed(2)} KB`}function Yn(n){if(n.includes("-W")){const[e,t]=n.split("-W");return`Week ${t}, ${e}`}else if(n.includes("-H")){const[e,t]=n.split("-");return`${t==="H1"?"First":"Second"} Half ${e}`}else if(n.match(/^\d{4}-\d{2}$/)){const[e,t]=n.split("-");return`${["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][parseInt(t)-1]} ${e}`}else return`Year ${n}`}function ju(n,e,t){let s=rt.isEnabled(),r=rt.getRotationPeriod(),i=rt.getMaxArchives(),l=rt.getStats();function a(){t(0,s=!s),rt.setEnabled(s),s||confirm("Disable local storage? Your saved history will remain until you clear it manually.")||(t(0,s=!0),rt.setEnabled(!0)),v()}function o(){rt.setRotationPeriod(r),v()}function c(){rt.setMaxArchives(i),v()}function f(A){confirm(`Delete archive "${Yn(A)}"?`)&&(rt.deleteArchive(A),v())}function m(A){rt.exportArchive(A)}function _(){rt.exportArchives()}function d(){confirm("Delete ALL saved chat history? This cannot be undone!")&&(rt.clearAllHistory(),v())}function v(){t(3,l=rt.getStats())}cs(()=>{v()});function b(){s=this.checked,t(0,s)}function g(){r=Qa(this),t(1,r)}function T(){i=ra(this.value),t(2,i)}return[s,r,i,l,a,o,c,f,m,_,d,b,g,T,A=>m(A.period),A=>f(A.period)]}class $u extends ht{constructor(e){super(),pt(this,e,ju,Hu,dt,{})}}function Ri(n){let e,t,s,r,i="âš™ï¸ Settings",l,a,o="âœ•",c,f,m,_,d="ðŸŽ¤ Audio & Video",v,b,g,T='<span class="setting-label svelte-9y3hbf">Sound Effects</span> <span class="setting-description svelte-9y3hbf">Play sounds for messages and notifications</span>',p,E,A=n[1]?"ðŸ”Š":"ðŸ”‡",S,C,x,R,D='<span class="setting-label svelte-9y3hbf">Microphone</span> <span class="setting-description svelte-9y3hbf">Enable microphone for voice calls</span>',F,M,z=n[3]?"ðŸŽ¤":"ðŸ”‡",V,q,te,U,B='<span class="setting-label svelte-9y3hbf">Camera</span> <span class="setting-description svelte-9y3hbf">Enable camera for video calls</span>',W,G,Y=n[4]?"ðŸ“¹":"ðŸ“·",$,L,Z,se,H="ðŸ”” Notifications",le,ue,fe,Pe='<span class="setting-label svelte-9y3hbf">Desktop Notifications</span> <span class="setting-description svelte-9y3hbf">Get notified when you receive new messages</span>',xe,Se,$e=n[2]?"âœ… Enabled":"ðŸ”” Enable",Te,Oe,Fe,Ue,Vt="ðŸŽ¨ Appearance",gt,De,et,Ft='<span class="setting-label svelte-9y3hbf">Theme</span> <span class="setting-description svelte-9y3hbf">Switch between light and dark mode</span>',bt,ze,qe=n[5]==="dark"?"ðŸŒ™":"â˜€ï¸",kt,mt,Ke,yt,Ct,Ie,ce='<h3 class="svelte-9y3hbf">â„¹ï¸ About</h3> <div class="about-info svelte-9y3hbf"><p class="svelte-9y3hbf"><strong class="svelte-9y3hbf">Wabi Chat</strong></p> <p class="svelte-9y3hbf">Privacy-first ephemeral chat. No tracking. No data collection.</p> <p class="svelte-9y3hbf">Server stores nothing permanently. You control your data.</p> <p class="version svelte-9y3hbf">Version 1.0.0</p></div>',oe,wt,Lt;return yt=new $u({}),{c(){e=w("div"),t=w("div"),s=w("div"),r=w("h2"),r.textContent=i,l=P(),a=w("button"),a.textContent=o,c=P(),f=w("div"),m=w("div"),_=w("h3"),_.textContent=d,v=P(),b=w("div"),g=w("div"),g.innerHTML=T,p=P(),E=w("button"),S=J(A),C=P(),x=w("div"),R=w("div"),R.innerHTML=D,F=P(),M=w("button"),V=J(z),q=P(),te=w("div"),U=w("div"),U.innerHTML=B,W=P(),G=w("button"),$=J(Y),L=P(),Z=w("div"),se=w("h3"),se.textContent=H,le=P(),ue=w("div"),fe=w("div"),fe.innerHTML=Pe,xe=P(),Se=w("button"),Te=J($e),Oe=P(),Fe=w("div"),Ue=w("h3"),Ue.textContent=Vt,gt=P(),De=w("div"),et=w("div"),et.innerHTML=Ft,bt=P(),ze=w("button"),kt=J(qe),mt=P(),Ke=w("div"),ct(yt.$$.fragment),Ct=P(),Ie=w("div"),Ie.innerHTML=ce,this.h()},l(he){e=y(he,"DIV",{class:!0});var Ae=I(e);t=y(Ae,"DIV",{class:!0});var Et=I(t);s=y(Et,"DIV",{class:!0});var xt=I(s);r=y(xt,"H2",{class:!0,"data-svelte-h":!0}),K(r)!=="svelte-15bbpfh"&&(r.textContent=i),l=N(xt),a=y(xt,"BUTTON",{class:!0,"data-svelte-h":!0}),K(a)!=="svelte-3o141q"&&(a.textContent=o),xt.forEach(k),c=N(Et),f=y(Et,"DIV",{class:!0});var Ge=I(f);m=y(Ge,"DIV",{class:!0});var Ve=I(m);_=y(Ve,"H3",{class:!0,"data-svelte-h":!0}),K(_)!=="svelte-1tdb4hv"&&(_.textContent=d),v=N(Ve),b=y(Ve,"DIV",{class:!0});var tt=I(b);g=y(tt,"DIV",{class:!0,"data-svelte-h":!0}),K(g)!=="svelte-5e193f"&&(g.innerHTML=T),p=N(tt),E=y(tt,"BUTTON",{class:!0});var Ht=I(E);S=Q(Ht,A),Ht.forEach(k),tt.forEach(k),C=N(Ve),x=y(Ve,"DIV",{class:!0});var st=I(x);R=y(st,"DIV",{class:!0,"data-svelte-h":!0}),K(R)!=="svelte-ql0oob"&&(R.innerHTML=D),F=N(st),M=y(st,"BUTTON",{class:!0});var jt=I(M);V=Q(jt,z),jt.forEach(k),st.forEach(k),q=N(Ve),te=y(Ve,"DIV",{class:!0});var $t=I(te);U=y($t,"DIV",{class:!0,"data-svelte-h":!0}),K(U)!=="svelte-fu2kxq"&&(U.innerHTML=B),W=N($t),G=y($t,"BUTTON",{class:!0});var Ne=I(G);$=Q(Ne,Y),Ne.forEach(k),$t.forEach(k),Ve.forEach(k),L=N(Ge),Z=y(Ge,"DIV",{class:!0});var It=I(Z);se=y(It,"H3",{class:!0,"data-svelte-h":!0}),K(se)!=="svelte-yb4801"&&(se.textContent=H),le=N(It),ue=y(It,"DIV",{class:!0});var hs=I(ue);fe=y(hs,"DIV",{class:!0,"data-svelte-h":!0}),K(fe)!=="svelte-11j8eba"&&(fe.innerHTML=Pe),xe=N(hs),Se=y(hs,"BUTTON",{class:!0});var ws=I(Se);Te=Q(ws,$e),ws.forEach(k),hs.forEach(k),It.forEach(k),Oe=N(Ge),Fe=y(Ge,"DIV",{class:!0});var Jt=I(Fe);Ue=y(Jt,"H3",{class:!0,"data-svelte-h":!0}),K(Ue)!=="svelte-bdq4j0"&&(Ue.textContent=Vt),gt=N(Jt),De=y(Jt,"DIV",{class:!0});var ss=I(De);et=y(ss,"DIV",{class:!0,"data-svelte-h":!0}),K(et)!=="svelte-1expsbb"&&(et.innerHTML=Ft),bt=N(ss),ze=y(ss,"BUTTON",{class:!0});var Es=I(ze);kt=Q(Es,qe),Es.forEach(k),ss.forEach(k),Jt.forEach(k),mt=N(Ge),Ke=y(Ge,"DIV",{class:!0});var js=I(Ke);ot(yt.$$.fragment,js),js.forEach(k),Ct=N(Ge),Ie=y(Ge,"DIV",{class:!0,"data-svelte-h":!0}),K(Ie)!=="svelte-137zy12"&&(Ie.innerHTML=ce),Ge.forEach(k),Et.forEach(k),Ae.forEach(k),this.h()},h(){h(r,"class","svelte-9y3hbf"),h(a,"class","close-btn svelte-9y3hbf"),h(s,"class","modal-header svelte-9y3hbf"),h(_,"class","svelte-9y3hbf"),h(g,"class","setting-info svelte-9y3hbf"),h(E,"class","toggle-btn svelte-9y3hbf"),we(E,"active",n[1]),h(b,"class","setting-item svelte-9y3hbf"),h(R,"class","setting-info svelte-9y3hbf"),h(M,"class","toggle-btn svelte-9y3hbf"),we(M,"active",n[3]),h(x,"class","setting-item svelte-9y3hbf"),h(U,"class","setting-info svelte-9y3hbf"),h(G,"class","toggle-btn svelte-9y3hbf"),we(G,"active",n[4]),h(te,"class","setting-item svelte-9y3hbf"),h(m,"class","settings-section svelte-9y3hbf"),h(se,"class","svelte-9y3hbf"),h(fe,"class","setting-info svelte-9y3hbf"),h(Se,"class","action-btn svelte-9y3hbf"),we(Se,"active",n[2]),h(ue,"class","setting-item svelte-9y3hbf"),h(Z,"class","settings-section svelte-9y3hbf"),h(Ue,"class","svelte-9y3hbf"),h(et,"class","setting-info svelte-9y3hbf"),h(ze,"class","toggle-btn svelte-9y3hbf"),we(ze,"active",n[5]==="light"),h(De,"class","setting-item svelte-9y3hbf"),h(Fe,"class","settings-section svelte-9y3hbf"),h(Ke,"class","settings-section svelte-9y3hbf"),h(Ie,"class","settings-section svelte-9y3hbf"),h(f,"class","settings-sections svelte-9y3hbf"),h(t,"class","modal-content svelte-9y3hbf"),h(e,"class","modal-overlay svelte-9y3hbf")},m(he,Ae){j(he,e,Ae),u(e,t),u(t,s),u(s,r),u(s,l),u(s,a),u(t,c),u(t,f),u(f,m),u(m,_),u(m,v),u(m,b),u(b,g),u(b,p),u(b,E),u(E,S),u(m,C),u(m,x),u(x,R),u(x,F),u(x,M),u(M,V),u(m,q),u(m,te),u(te,U),u(te,W),u(te,G),u(G,$),u(f,L),u(f,Z),u(Z,se),u(Z,le),u(Z,ue),u(ue,fe),u(ue,xe),u(ue,Se),u(Se,Te),u(f,Oe),u(f,Fe),u(Fe,Ue),u(Fe,gt),u(Fe,De),u(De,et),u(De,bt),u(De,ze),u(ze,kt),u(f,mt),u(f,Ke),lt(yt,Ke,null),u(f,Ct),u(f,Ie),oe=!0,wt||(Lt=[ee(a,"click",n[11]),ee(E,"click",n[6]),ee(M,"click",n[7]),ee(G,"click",n[8]),ee(Se,"click",n[10]),ee(ze,"click",n[9]),ee(t,"click",Us(n[12])),ee(e,"click",n[11])],wt=!0)},p(he,Ae){(!oe||Ae&2)&&A!==(A=he[1]?"ðŸ”Š":"ðŸ”‡")&&re(S,A),(!oe||Ae&2)&&we(E,"active",he[1]),(!oe||Ae&8)&&z!==(z=he[3]?"ðŸŽ¤":"ðŸ”‡")&&re(V,z),(!oe||Ae&8)&&we(M,"active",he[3]),(!oe||Ae&16)&&Y!==(Y=he[4]?"ðŸ“¹":"ðŸ“·")&&re($,Y),(!oe||Ae&16)&&we(G,"active",he[4]),(!oe||Ae&4)&&$e!==($e=he[2]?"âœ… Enabled":"ðŸ”” Enable")&&re(Te,$e),(!oe||Ae&4)&&we(Se,"active",he[2]),(!oe||Ae&32)&&qe!==(qe=he[5]==="dark"?"ðŸŒ™":"â˜€ï¸")&&re(kt,qe),(!oe||Ae&32)&&we(ze,"active",he[5]==="light")},i(he){oe||(ge(yt.$$.fragment,he),oe=!0)},o(he){Ee(yt.$$.fragment,he),oe=!1},d(he){he&&k(e),at(yt),wt=!1,Re(Lt)}}}function Gu(n){let e,t,s=n[0]&&Ri(n);return{c(){s&&s.c(),e=Be()},l(r){s&&s.l(r),e=Be()},m(r,i){s&&s.m(r,i),j(r,e,i),t=!0},p(r,[i]){r[0]?s?(s.p(r,i),i&1&&ge(s,1)):(s=Ri(r),s.c(),ge(s,1),s.m(e.parentNode,e)):s&&(gs(),Ee(s,1,1,()=>{s=null}),ms())},i(r){t||(ge(s),t=!0)},o(r){Ee(s),t=!1},d(r){r&&k(e),s&&s.d(r)}}}function Wu(n,e,t){ye(n,os,g=>t(13,g)),ye(n,Kt,g=>t(14,g)),ye(n,Bt,g=>t(15,g));let{isOpen:s=!1}=e,r=!0,i=!0,l=!0,a=!0,o="dark";cs(()=>{t(1,r=localStorage.getItem("soundEnabled")!=="false"),t(2,i=localStorage.getItem("notificationsEnabled")!=="false"),t(3,l=localStorage.getItem("micEnabled")!=="false"),t(4,a=localStorage.getItem("cameraEnabled")!=="false"),t(5,o=localStorage.getItem("theme")||"dark")});function c(){t(1,r=!r),localStorage.setItem("soundEnabled",r.toString())}function f(){t(3,l=!l),localStorage.setItem("micEnabled",l.toString())}function m(){t(4,a=!a),localStorage.setItem("cameraEnabled",a.toString())}function _(){t(5,o=o==="dark"?"light":"dark"),localStorage.setItem("theme",o),document.documentElement.setAttribute("data-theme",o)}async function d(){if(!("Notification"in window)){alert("This browser does not support notifications");return}if(Notification.permission==="granted"){alert("Notifications are already enabled!");return}await Notification.requestPermission()==="granted"?(t(2,i=!0),localStorage.setItem("notificationsEnabled","true"),new Notification("Community Chat",{body:"Notifications enabled! You'll be notified of new messages.",icon:"/icon-192.png"})):(t(2,i=!1),localStorage.setItem("notificationsEnabled","false"))}function v(){t(0,s=!1)}function b(g){dn.call(this,n,g)}return n.$$set=g=>{"isOpen"in g&&t(0,s=g.isOpen)},[s,r,i,l,a,o,c,f,m,_,d,v,b]}class Yu extends ht{constructor(e){super(),pt(this,e,Wu,Gu,dt,{isOpen:0})}}function Oi(n,e,t){const s=n.slice();return s[18]=e[t],s}function Di(n){let e,t,s,r,i="Create",l,a;return{c(){e=w("div"),t=w("input"),s=P(),r=w("button"),r.textContent=i,this.h()},l(o){e=y(o,"DIV",{class:!0});var c=I(e);t=y(c,"INPUT",{type:!0,placeholder:!0,class:!0}),s=N(c),r=y(c,"BUTTON",{class:!0,"data-svelte-h":!0}),K(r)!=="svelte-1ih09o9"&&(r.textContent=i),c.forEach(k),this.h()},h(){h(t,"type","text"),h(t,"placeholder","channel-name"),t.autofocus=!0,h(t,"class","svelte-284n8g"),h(r,"class","svelte-284n8g"),h(e,"class","create-channel svelte-284n8g")},m(o,c){j(o,e,c),u(e,t),He(t,n[1]),u(e,s),u(e,r),t.focus(),l||(a=[ee(t,"input",n[11]),ee(t,"keydown",n[12]),ee(r,"click",n[7])],l=!0)},p(o,c){c&2&&t.value!==o[1]&&He(t,o[1])},d(o){o&&k(e),l=!1,Re(a)}}}function Ni(n){let e,t="Ã—",s,r;function i(){return n[14](n[18])}return{c(){e=w("button"),e.textContent=t,this.h()},l(l){e=y(l,"BUTTON",{class:!0,"data-svelte-h":!0}),K(e)!=="svelte-12rgdhl"&&(e.textContent=t),this.h()},h(){h(e,"class","delete-btn svelte-284n8g")},m(l,a){j(l,e,a),s||(r=ee(e,"click",Us(i)),s=!0)},p(l,a){n=l},d(l){l&&k(e),s=!1,r()}}}function Pi(n,e){let t,s,r,i="#",l,a=e[18].name+"",o,c,f,m,_;function d(){return e[13](e[18])}let v=e[18].id!=="general"&&Ni(e);return{key:n,first:null,c(){t=w("div"),s=w("button"),r=w("span"),r.textContent=i,l=P(),o=J(a),c=P(),v&&v.c(),f=P(),this.h()},l(b){t=y(b,"DIV",{class:!0});var g=I(t);s=y(g,"BUTTON",{class:!0});var T=I(s);r=y(T,"SPAN",{class:!0,"data-svelte-h":!0}),K(r)!=="svelte-16vlh54"&&(r.textContent=i),l=N(T),o=Q(T,a),T.forEach(k),c=N(g),v&&v.l(g),f=N(g),g.forEach(k),this.h()},h(){h(r,"class","hash svelte-284n8g"),h(s,"class","channel-btn svelte-284n8g"),h(t,"class","channel-item svelte-284n8g"),we(t,"active",e[5]===e[18].id),this.first=t},m(b,g){j(b,t,g),u(t,s),u(s,r),u(s,l),u(s,o),u(t,c),v&&v.m(t,null),u(t,f),m||(_=ee(s,"click",d),m=!0)},p(b,g){e=b,g&16&&a!==(a=e[18].name+"")&&re(o,a),e[18].id!=="general"?v?v.p(e,g):(v=Ni(e),v.c(),v.m(t,f)):v&&(v.d(1),v=null),g&48&&we(t,"active",e[5]===e[18].id)},d(b){b&&k(t),v&&v.d(),m=!1,_()}}}function Zu(n){let e,t,s,r='<img src="/wabi-logo.png" alt="Wabi" class="logo-img svelte-284n8g"/>',i,l,a="âš™ï¸",o,c,f,m="Text Channels",_,d,v="+",b,g,T,p=[],E=new Map,A,S,C,x='<span class="icon svelte-284n8g">âœï¸</span> <span>Draw</span>',R,D,F='<span class="icon svelte-284n8g">ðŸ–¥ï¸</span> <span>Screen Share</span>',M,z,V,q,te,U,B=n[2]&&Di(n),W=Je(n[4]);const G=L=>L[18].id;for(let L=0;L<W.length;L+=1){let Z=Oi(n,W,L),se=G(Z);E.set(se,p[L]=Pi(se,Z))}function Y(L){n[17](L)}let $={};return n[3]!==void 0&&($.isOpen=n[3]),z=new Yu({props:$}),St.push(()=>as(z,"isOpen",Y)),{c(){e=w("div"),t=w("div"),s=w("div"),s.innerHTML=r,i=P(),l=w("button"),l.textContent=a,o=P(),c=w("div"),f=w("h3"),f.textContent=m,_=P(),d=w("button"),d.textContent=v,b=P(),B&&B.c(),g=P(),T=w("div");for(let L=0;L<p.length;L+=1)p[L].c();A=P(),S=w("div"),C=w("button"),C.innerHTML=x,R=P(),D=w("button"),D.innerHTML=F,M=P(),ct(z.$$.fragment),this.h()},l(L){e=y(L,"DIV",{class:!0});var Z=I(e);t=y(Z,"DIV",{class:!0});var se=I(t);s=y(se,"DIV",{class:!0,"data-svelte-h":!0}),K(s)!=="svelte-16tyvz0"&&(s.innerHTML=r),i=N(se),l=y(se,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),K(l)!=="svelte-128luu5"&&(l.textContent=a),se.forEach(k),o=N(Z),c=y(Z,"DIV",{class:!0});var H=I(c);f=y(H,"H3",{class:!0,"data-svelte-h":!0}),K(f)!=="svelte-cahn79"&&(f.textContent=m),_=N(H),d=y(H,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),K(d)!=="svelte-ou792o"&&(d.textContent=v),H.forEach(k),b=N(Z),B&&B.l(Z),g=N(Z),T=y(Z,"DIV",{class:!0});var le=I(T);for(let fe=0;fe<p.length;fe+=1)p[fe].l(le);le.forEach(k),A=N(Z),S=y(Z,"DIV",{class:!0});var ue=I(S);C=y(ue,"BUTTON",{class:!0,"data-svelte-h":!0}),K(C)!=="svelte-ri17z7"&&(C.innerHTML=x),R=N(ue),D=y(ue,"BUTTON",{class:!0,"data-svelte-h":!0}),K(D)!=="svelte-uloh5f"&&(D.innerHTML=F),ue.forEach(k),Z.forEach(k),M=N(L),ot(z.$$.fragment,L),this.h()},h(){h(s,"class","logo svelte-284n8g"),h(l,"class","settings-btn svelte-284n8g"),h(l,"title","Settings"),h(t,"class","top-section svelte-284n8g"),h(f,"class","svelte-284n8g"),h(d,"class","add-btn svelte-284n8g"),h(d,"title","Create channel"),h(c,"class","sidebar-header svelte-284n8g"),h(T,"class","channel-list svelte-284n8g"),h(C,"class","nav-btn svelte-284n8g"),we(C,"active",n[0]==="draw"),h(D,"class","nav-btn svelte-284n8g"),we(D,"active",n[0]==="screen"),h(S,"class","bottom-nav svelte-284n8g"),h(e,"class","channel-sidebar svelte-284n8g")},m(L,Z){j(L,e,Z),u(e,t),u(t,s),u(t,i),u(t,l),u(e,o),u(e,c),u(c,f),u(c,_),u(c,d),u(e,b),B&&B.m(e,null),u(e,g),u(e,T);for(let se=0;se<p.length;se+=1)p[se]&&p[se].m(T,null);u(e,A),u(e,S),u(S,C),u(S,R),u(S,D),j(L,M,Z),lt(z,L,Z),q=!0,te||(U=[ee(l,"click",n[9]),ee(d,"click",n[10]),ee(C,"click",n[15]),ee(D,"click",n[16])],te=!0)},p(L,[Z]){L[2]?B?B.p(L,Z):(B=Di(L),B.c(),B.m(e,g)):B&&(B.d(1),B=null),Z&368&&(W=Je(L[4]),p=fs(p,Z,G,1,L,W,E,T,us,Pi,null,Oi)),(!q||Z&1)&&we(C,"active",L[0]==="draw"),(!q||Z&1)&&we(D,"active",L[0]==="screen");const se={};!V&&Z&8&&(V=!0,se.isOpen=L[3],is(()=>V=!1)),z.$set(se)},i(L){q||(ge(z.$$.fragment,L),q=!0)},o(L){Ee(z.$$.fragment,L),q=!1},d(L){L&&(k(e),k(M)),B&&B.d();for(let Z=0;Z<p.length;Z+=1)p[Z].d();at(z,L),te=!1,Re(U)}}}function Xu(n,e,t){let s,r;ye(n,rn,S=>t(4,s=S)),ye(n,qs,S=>t(5,r=S));let{activeView:i="chat"}=e,l="",a=!1,o=!1;function c(S){uc(S)}function f(){l.trim()&&(fc(l.trim()),t(1,l=""),t(2,a=!1))}function m(S){confirm(`Delete channel #${S}?`)&&dc(S)}const _=()=>t(3,o=!0),d=()=>t(2,a=!a);function v(){l=this.value,t(1,l)}const b=S=>S.key==="Enter"&&f(),g=S=>c(S.id),T=S=>m(S.id),p=()=>t(0,i="draw"),E=()=>t(0,i="screen");function A(S){o=S,t(3,o)}return n.$$set=S=>{"activeView"in S&&t(0,i=S.activeView)},n.$$.update=()=>{n.$$.dirty&1&&i==="chat"&&gc()},[i,l,a,o,s,r,c,f,m,_,d,v,b,g,T,p,E,A]}class Ku extends ht{constructor(e){super(),pt(this,e,Xu,Zu,dt,{activeView:0})}}const fr=Xe([]),fn=Xe(null),vn=Xe(!1),Vs=Xe(!1),Hs=Xe(!1),bs=new Map;let je=null;const Ha={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:stun1.l.google.com:19302"}]};async function Fi(n,e,t=!1){try{return je=await navigator.mediaDevices.getUserMedia({video:t,audio:!0}),vn.set(!0),Vs.set(!1),Hs.set(!t),n.emit("call-initiate",{targetUserId:e,isVideoCall:t}),je}catch(s){throw console.error("Error starting call:",s),s}}async function Qu(n,e,t=!1){try{return je=await navigator.mediaDevices.getUserMedia({video:t,audio:!0}),vn.set(!0),Vs.set(!1),Hs.set(!t),n.emit("call-answer",{callerId:e,isVideoCall:t}),fn.set(null),je}catch(s){throw console.error("Error answering call:",s),s}}function Ju(n,e){n.emit("call-reject",{callerId:e}),fn.set(null)}function Fn(n){je&&(je.getTracks().forEach(e=>e.stop()),je=null),vn.set(!1),Vs.set(!1),Hs.set(!1),n.emit("call-end"),bs.forEach(e=>e.close()),bs.clear(),fr.set([])}function ef(){if(je){const n=je.getAudioTracks()[0];n&&(n.enabled=!n.enabled,Vs.set(!n.enabled))}}function tf(){if(je){const n=je.getVideoTracks()[0];n&&(n.enabled=!n.enabled,Hs.set(!n.enabled))}}async function sf(n,e){const t=new RTCPeerConnection(Ha);bs.set(e,t),je&&je.getTracks().forEach(r=>{t.addTrack(r,je)}),t.onicecandidate=r=>{r.candidate&&n.emit("call-ice-candidate",{candidate:r.candidate,targetId:e})},t.ontrack=r=>{ja(e,r.streams[0])};const s=await t.createOffer();await t.setLocalDescription(s),n.emit("call-offer",{offer:s,targetId:e})}async function nf(n,e,t,s){const r=new RTCPeerConnection(Ha);bs.set(e,r),je&&je.getTracks().forEach(l=>{r.addTrack(l,je)}),r.ontrack=l=>{ja(e,l.streams[0])},r.onicecandidate=l=>{l.candidate&&n.emit("call-ice-candidate",{candidate:l.candidate,targetId:e})},await r.setRemoteDescription(s);const i=await r.createAnswer();await r.setLocalDescription(i),n.emit("call-answer-sdp",{answer:i,targetId:e})}async function rf(n,e){const t=bs.get(n);t&&await t.setRemoteDescription(e)}async function af(n,e){const t=bs.get(n);t&&await t.addIceCandidate(e)}function ja(n,e){fr.update(t=>{const s=t.findIndex(i=>i.userId===n),r={userId:n,username:"",stream:e,isVideoEnabled:e.getVideoTracks().length>0,isAudioEnabled:e.getAudioTracks().length>0};return s>=0?(t[s]=r,t):[...t,r]})}function lf(){return je}function Li(n,e,t){const s=n.slice();return s[14]=e[t],s}function of(n){let e,t=n[14].username.charAt(0).toUpperCase()+"",s;return{c(){e=w("div"),s=J(t),this.h()},l(r){e=y(r,"DIV",{class:!0,style:!0});var i=I(e);s=Q(i,t),i.forEach(k),this.h()},h(){h(e,"class","user-avatar-placeholder svelte-roagi7"),ke(e,"background-color",n[14].color)},m(r,i){j(r,e,i),u(e,s)},p(r,i){i&16&&t!==(t=r[14].username.charAt(0).toUpperCase()+"")&&re(s,t),i&16&&ke(e,"background-color",r[14].color)},d(r){r&&k(e)}}}function cf(n){let e,t,s;return{c(){e=w("img"),this.h()},l(r){e=y(r,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){Ze(e.src,t=n[14].profilePicture)||h(e,"src",t),h(e,"alt",s=n[14].username),h(e,"class","user-avatar svelte-roagi7")},m(r,i){j(r,e,i)},p(r,i){i&16&&!Ze(e.src,t=r[14].profilePicture)&&h(e,"src",t),i&16&&s!==(s=r[14].username)&&h(e,"alt",s)},d(r){r&&k(e)}}}function Mi(n){let e,t="(you)";return{c(){e=w("span"),e.textContent=t,this.h()},l(s){e=y(s,"SPAN",{class:!0,"data-svelte-h":!0}),K(e)!=="svelte-2b4nly"&&(e.textContent=t),this.h()},h(){h(e,"class","you-badge svelte-roagi7")},m(s,r){j(s,e,r)},d(s){s&&k(e)}}}function Bi(n){let e,t,s="ðŸ“ž",r,i,l="ðŸ“¹",a,o;function c(...m){return n[9](n[14],...m)}function f(...m){return n[10](n[14],...m)}return{c(){e=w("div"),t=w("button"),t.textContent=s,r=P(),i=w("button"),i.textContent=l,this.h()},l(m){e=y(m,"DIV",{class:!0});var _=I(e);t=y(_,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),K(t)!=="svelte-jmuv4z"&&(t.textContent=s),r=N(_),i=y(_,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),K(i)!=="svelte-1whn4df"&&(i.textContent=l),_.forEach(k),this.h()},h(){h(t,"class","call-btn voice-call svelte-roagi7"),h(t,"title","Voice call"),h(i,"class","call-btn video-call svelte-roagi7"),h(i,"title","Video call"),h(e,"class","call-buttons svelte-roagi7")},m(m,_){j(m,e,_),u(e,t),u(e,r),u(e,i),a||(o=[ee(t,"click",c),ee(i,"click",f)],a=!0)},p(m,_){n=m},d(m){m&&k(e),a=!1,Re(o)}}}function Ui(n,e){var M,z;let t,s,r,i,l,a=e[14].username+"",o,c,f,m,_,d,v,b=e[14].status+"",g,T,p,E,A;function S(V,q){return V[14].profilePicture?cf:of}let C=S(e),x=C(e),R=e[14].id===((M=e[3])==null?void 0:M.id)&&Mi();function D(){return e[8](e[14])}let F=e[14].id!==((z=e[3])==null?void 0:z.id)&&Bi(e);return{key:n,first:null,c(){t=w("div"),s=w("button"),x.c(),r=P(),i=w("div"),l=w("span"),o=J(a),c=P(),R&&R.c(),f=P(),m=w("div"),_=w("span"),d=P(),v=w("span"),g=J(b),T=P(),F&&F.c(),p=P(),this.h()},l(V){t=y(V,"DIV",{class:!0});var q=I(t);s=y(q,"BUTTON",{class:!0});var te=I(s);x.l(te),r=N(te),i=y(te,"DIV",{class:!0});var U=I(i);l=y(U,"SPAN",{class:!0});var B=I(l);o=Q(B,a),c=N(B),R&&R.l(B),B.forEach(k),f=N(U),m=y(U,"DIV",{class:!0});var W=I(m);_=y(W,"SPAN",{class:!0,style:!0}),I(_).forEach(k),d=N(W),v=y(W,"SPAN",{class:!0});var G=I(v);g=Q(G,b),G.forEach(k),W.forEach(k),U.forEach(k),te.forEach(k),T=N(q),F&&F.l(q),p=N(q),q.forEach(k),this.h()},h(){h(l,"class","user-name svelte-roagi7"),h(_,"class","status-dot svelte-roagi7"),ke(_,"background-color",zi(e[14].status)),h(v,"class","status-text svelte-roagi7"),h(m,"class","user-status svelte-roagi7"),h(i,"class","user-info svelte-roagi7"),h(s,"class","user svelte-roagi7"),h(t,"class","user-container svelte-roagi7"),this.first=t},m(V,q){j(V,t,q),u(t,s),x.m(s,null),u(s,r),u(s,i),u(i,l),u(l,o),u(l,c),R&&R.m(l,null),u(i,f),u(i,m),u(m,_),u(m,d),u(m,v),u(v,g),u(t,T),F&&F.m(t,null),u(t,p),E||(A=ee(s,"click",D),E=!0)},p(V,q){var te,U;e=V,C===(C=S(e))&&x?x.p(e,q):(x.d(1),x=C(e),x&&(x.c(),x.m(s,r))),q&16&&a!==(a=e[14].username+"")&&re(o,a),e[14].id===((te=e[3])==null?void 0:te.id)?R||(R=Mi(),R.c(),R.m(l,null)):R&&(R.d(1),R=null),q&16&&ke(_,"background-color",zi(e[14].status)),q&16&&b!==(b=e[14].status+"")&&re(g,b),e[14].id!==((U=e[3])==null?void 0:U.id)?F?F.p(e,q):(F=Bi(e),F.c(),F.m(t,p)):F&&(F.d(1),F=null)},d(V){V&&k(t),x.d(),R&&R.d(),F&&F.d(),E=!1,A()}}}function uf(n){let e,t,s,r,i=n[4].length+"",l,a,o,c,f=[],m=new Map,_,d,v,b,g,T=Je(n[4]);const p=C=>C[14].id;for(let C=0;C<T.length;C+=1){let x=Li(n,T,C),R=p(x);m.set(R,f[C]=Ui(R,x))}function E(C){n[11](C)}function A(C){n[12](C)}let S={isOwnProfile:n[2]};return n[0]!==void 0&&(S.isOpen=n[0]),n[1]!==void 0&&(S.user=n[1]),d=new Va({props:S}),St.push(()=>as(d,"isOpen",E)),St.push(()=>as(d,"user",A)),{c(){e=w("aside"),t=w("div"),s=w("h3"),r=J("Online ("),l=J(i),a=J(")"),o=P(),c=w("div");for(let C=0;C<f.length;C+=1)f[C].c();_=P(),ct(d.$$.fragment),this.h()},l(C){e=y(C,"ASIDE",{class:!0});var x=I(e);t=y(x,"DIV",{class:!0});var R=I(t);s=y(R,"H3",{class:!0});var D=I(s);r=Q(D,"Online ("),l=Q(D,i),a=Q(D,")"),D.forEach(k),R.forEach(k),o=N(x),c=y(x,"DIV",{class:!0});var F=I(c);for(let M=0;M<f.length;M+=1)f[M].l(F);F.forEach(k),x.forEach(k),_=N(C),ot(d.$$.fragment,C),this.h()},h(){h(s,"class","svelte-roagi7"),h(t,"class","panel-header svelte-roagi7"),h(c,"class","user-list svelte-roagi7"),h(e,"class","user-panel svelte-roagi7")},m(C,x){j(C,e,x),u(e,t),u(t,s),u(s,r),u(s,l),u(s,a),u(e,o),u(e,c);for(let R=0;R<f.length;R+=1)f[R]&&f[R].m(c,null);j(C,_,x),lt(d,C,x),g=!0},p(C,[x]){(!g||x&16)&&i!==(i=C[4].length+"")&&re(l,i),x&248&&(T=Je(C[4]),f=fs(f,x,p,1,C,T,m,c,us,Ui,null,Li));const R={};x&4&&(R.isOwnProfile=C[2]),!v&&x&1&&(v=!0,R.isOpen=C[0],is(()=>v=!1)),!b&&x&2&&(b=!0,R.user=C[1],is(()=>b=!1)),d.$set(R)},i(C){g||(ge(d.$$.fragment,C),g=!0)},o(C){Ee(d.$$.fragment,C),g=!1},d(C){C&&(k(e),k(_));for(let x=0;x<f.length;x+=1)f[x].d();at(d,C)}}}function zi(n){switch(n){case"active":return"#10b981";case"away":return"#f59e0b";case"busy":return"#ef4444";default:return"#6b7280"}}function ff(n,e,t){let s,r,i;ye(n,ys,T=>t(13,s=T)),ye(n,os,T=>t(3,r=T)),ye(n,Kt,T=>t(4,i=T));let l=!1,a=null,o=!1;function c(T){t(1,a=T),t(2,o=T.id===(r==null?void 0:r.id)),t(0,l=!0)}async function f(T,p){if(T.stopPropagation(),!(!s||p.id===(r==null?void 0:r.id)))try{await Fi(s,p.id,!1)}catch{alert("Failed to start voice call. Please check microphone permissions.")}}async function m(T,p){if(T.stopPropagation(),!(!s||p.id===(r==null?void 0:r.id)))try{await Fi(s,p.id,!0)}catch{alert("Failed to start video call. Please check camera and microphone permissions.")}}const _=T=>c(T),d=(T,p)=>f(p,T),v=(T,p)=>m(p,T);function b(T){l=T,t(0,l)}function g(T){a=T,t(1,a)}return[l,a,o,r,i,c,f,m,_,d,v,b,g]}class df extends ht{constructor(e){super(),pt(this,e,ff,uf,dt,{})}}const dr=Xe([]),hr=Xe(!1),ts=new Map;let Qt=null;const $a={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:stun1.l.google.com:19302"}]};async function hf(n){try{return Qt=await navigator.mediaDevices.getDisplayMedia({video:!0,audio:!1}),hr.set(!0),n.emit("start-screen-share"),Qt.getVideoTracks()[0].onended=()=>{Ga(n)},Qt}catch(e){throw console.error("Error starting screen share:",e),e}}function Ga(n){Qt&&(Qt.getTracks().forEach(e=>e.stop()),Qt=null),hr.set(!1),n.emit("stop-screen-share"),ts.forEach(e=>e.close()),ts.clear()}async function pf(n,e){const t=new RTCPeerConnection($a);ts.set(e,t),Qt&&Qt.getTracks().forEach(r=>{t.addTrack(r,Qt)}),t.onicecandidate=r=>{r.candidate&&n.emit("webrtc-ice-candidate",{candidate:r.candidate,targetId:e})};const s=await t.createOffer();await t.setLocalDescription(s),n.emit("webrtc-offer",{offer:s,targetId:e})}async function gf(n,e,t,s){const r=new RTCPeerConnection($a);ts.set(e,r),r.ontrack=l=>{dr.update(a=>{const o=a.findIndex(f=>f.userId===e),c={userId:e,username:t,stream:l.streams[0]};return o>=0?(a[o]=c,a):[...a,c]})},r.onicecandidate=l=>{l.candidate&&n.emit("webrtc-ice-candidate",{candidate:l.candidate,targetId:e})},await r.setRemoteDescription(s);const i=await r.createAnswer();await r.setLocalDescription(i),n.emit("webrtc-answer",{answer:i,targetId:e})}async function mf(n,e){const t=ts.get(n);t&&await t.setRemoteDescription(e)}async function vf(n,e){const t=ts.get(n);t&&await t.addIceCandidate(e)}function _f(n){dr.update(t=>t.filter(s=>s.userId!==n));const e=ts.get(n);e&&(e.close(),ts.delete(n))}function qi(n,e,t){const s=n.slice();return s[10]=e[t],s}function bf(n){let e,t="Start Sharing",s,r;return{c(){e=w("button"),e.textContent=t},l(i){e=y(i,"BUTTON",{"data-svelte-h":!0}),K(e)!=="svelte-1ms5zeg"&&(e.textContent=t)},m(i,l){j(i,e,l),s||(r=ee(e,"click",n[5]),s=!0)},p:_e,d(i){i&&k(e),s=!1,r()}}}function kf(n){let e,t="Stop Sharing",s,r;return{c(){e=w("button"),e.textContent=t,this.h()},l(i){e=y(i,"BUTTON",{class:!0,"data-svelte-h":!0}),K(e)!=="svelte-1urv00m"&&(e.textContent=t),this.h()},h(){h(e,"class","stop-btn svelte-1nu35ko")},m(i,l){j(i,e,l),s||(r=ee(e,"click",n[6]),s=!0)},p:_e,d(i){i&&k(e),s=!1,r()}}}function Vi(n){let e,t;return{c(){e=w("div"),t=J(n[2]),this.h()},l(s){e=y(s,"DIV",{class:!0});var r=I(e);t=Q(r,n[2]),r.forEach(k),this.h()},h(){h(e,"class","error svelte-1nu35ko")},m(s,r){j(s,e,r),u(e,t)},p(s,r){r&4&&re(t,s[2])},d(s){s&&k(e)}}}function Hi(n){let e,t,s='<span class="badge svelte-1nu35ko">Your Screen</span>',r,i;return{c(){e=w("div"),t=w("div"),t.innerHTML=s,r=P(),i=w("video"),this.h()},l(l){e=y(l,"DIV",{class:!0});var a=I(e);t=y(a,"DIV",{class:!0,"data-svelte-h":!0}),K(t)!=="svelte-16dlolc"&&(t.innerHTML=s),r=N(a),i=y(a,"VIDEO",{class:!0}),I(i).forEach(k),a.forEach(k),this.h()},h(){h(t,"class","screen-header svelte-1nu35ko"),i.autoplay=!0,i.muted=!0,i.playsInline=!0,h(i,"class","svelte-1nu35ko"),h(e,"class","screen-item svelte-1nu35ko")},m(l,a){j(l,e,a),u(e,t),u(e,r),u(e,i),n[7](i)},p:_e,d(l){l&&k(e),n[7](null)}}}function ji(n,e){let t,s,r,i=e[10].username+"",l,a,o,c,f,m,_;return{key:n,first:null,c(){t=w("div"),s=w("div"),r=w("span"),l=J(i),a=J("'s Screen"),o=P(),c=w("video"),this.h()},l(d){t=y(d,"DIV",{class:!0});var v=I(t);s=y(v,"DIV",{class:!0});var b=I(s);r=y(b,"SPAN",{class:!0});var g=I(r);l=Q(g,i),a=Q(g,"'s Screen"),g.forEach(k),b.forEach(k),o=N(v),c=y(v,"VIDEO",{class:!0}),I(c).forEach(k),v.forEach(k),this.h()},h(){h(r,"class","username svelte-1nu35ko"),h(s,"class","screen-header svelte-1nu35ko"),c.autoplay=!0,c.playsInline=!0,h(c,"class","svelte-1nu35ko"),h(t,"class","screen-item svelte-1nu35ko"),this.first=t},m(d,v){j(d,t,v),u(t,s),u(s,r),u(r,l),u(r,a),u(t,o),u(t,c),m||(_=el(f=wf.call(null,c,e[10].stream)),m=!0)},p(d,v){e=d,v&16&&i!==(i=e[10].username+"")&&re(l,i),f&&Ms(f.update)&&v&16&&f.update.call(null,e[10].stream)},d(d){d&&k(t),m=!1,_()}}}function $i(n){let e,t='<p class="svelte-1nu35ko">No active screen shares</p> <p class="hint svelte-1nu35ko">Click &quot;Start Sharing&quot; to share your screen</p>';return{c(){e=w("div"),e.innerHTML=t,this.h()},l(s){e=y(s,"DIV",{class:!0,"data-svelte-h":!0}),K(e)!=="svelte-reuplr"&&(e.innerHTML=t),this.h()},h(){h(e,"class","empty-state svelte-1nu35ko")},m(s,r){j(s,e,r)},d(s){s&&k(e)}}}function yf(n){let e,t,s,r="ðŸ–¥ï¸ Screen Sharing",i,l,a,o,c,f=[],m=new Map,_;function d(S,C){return S[3]?kf:bf}let v=d(n),b=v(n),g=n[2]&&Vi(n),T=n[3]&&n[0]&&Hi(n),p=Je(n[4]);const E=S=>S[10].userId;for(let S=0;S<p.length;S+=1){let C=qi(n,p,S),x=E(C);m.set(x,f[S]=ji(x,C))}let A=!n[3]&&n[4].length===0&&$i();return{c(){e=w("div"),t=w("div"),s=w("h2"),s.textContent=r,i=P(),b.c(),l=P(),g&&g.c(),a=P(),o=w("div"),T&&T.c(),c=P();for(let S=0;S<f.length;S+=1)f[S].c();_=P(),A&&A.c(),this.h()},l(S){e=y(S,"DIV",{class:!0});var C=I(e);t=y(C,"DIV",{class:!0});var x=I(t);s=y(x,"H2",{class:!0,"data-svelte-h":!0}),K(s)!=="svelte-1el2fdv"&&(s.textContent=r),i=N(x),b.l(x),x.forEach(k),l=N(C),g&&g.l(C),a=N(C),o=y(C,"DIV",{class:!0});var R=I(o);T&&T.l(R),c=N(R);for(let D=0;D<f.length;D+=1)f[D].l(R);_=N(R),A&&A.l(R),R.forEach(k),C.forEach(k),this.h()},h(){h(s,"class","svelte-1nu35ko"),h(t,"class","header svelte-1nu35ko"),h(o,"class","screens svelte-1nu35ko"),h(e,"class","screen-share-container svelte-1nu35ko")},m(S,C){j(S,e,C),u(e,t),u(t,s),u(t,i),b.m(t,null),u(e,l),g&&g.m(e,null),u(e,a),u(e,o),T&&T.m(o,null),u(o,c);for(let x=0;x<f.length;x+=1)f[x]&&f[x].m(o,null);u(o,_),A&&A.m(o,null)},p(S,[C]){v===(v=d(S))&&b?b.p(S,C):(b.d(1),b=v(S),b&&(b.c(),b.m(t,null))),S[2]?g?g.p(S,C):(g=Vi(S),g.c(),g.m(e,a)):g&&(g.d(1),g=null),S[3]&&S[0]?T?T.p(S,C):(T=Hi(S),T.c(),T.m(o,c)):T&&(T.d(1),T=null),C&16&&(p=Je(S[4]),f=fs(f,C,E,1,S,p,m,o,us,ji,_,qi)),!S[3]&&S[4].length===0?A||(A=$i(),A.c(),A.m(o,null)):A&&(A.d(1),A=null)},i:_e,o:_e,d(S){S&&k(e),b.d(),g&&g.d(),T&&T.d();for(let C=0;C<f.length;C+=1)f[C].d();A&&A.d()}}}function wf(n,e){return console.log("Setting remote video srcObject",e,"tracks:",e.getTracks()),n.srcObject=e,n.play().catch(t=>console.error("Error playing remote video:",t)),{update(t){console.log("Updating remote video srcObject",t,"tracks:",t.getTracks()),n.srcObject=t,n.play().catch(s=>console.error("Error playing updated remote video:",s))}}}function Ef(n,e,t){let s,r,i,l;ye(n,ys,d=>t(8,s=d)),ye(n,hr,d=>t(3,r=d)),ye(n,Kt,d=>t(9,i=d)),ye(n,dr,d=>t(4,l=d));let a=null,o="",c;async function f(){try{if(!s)return;t(0,a=await hf(s)),console.log("Screen share started, stream:",a),console.log("Stream tracks:",a==null?void 0:a.getTracks()),console.log("Video tracks:",a==null?void 0:a.getVideoTracks()),t(2,o="")}catch(d){t(2,o="Failed to start screen sharing. Please grant permissions."),console.error("Screen share error:",d)}}function m(){s&&(Ga(s),t(0,a=null))}cs(()=>{s&&(s.on("screen-share-started",async d=>{}),s.on("screen-share-stopped",d=>{_f(d)}),s.on("webrtc-offer",async d=>{if(!s)return;const v=i.find(b=>b.id===d.senderId);v&&await gf(s,d.senderId,v.username,d.offer)}),s.on("webrtc-answer",async d=>{await mf(d.senderId,d.answer)}),s.on("webrtc-ice-candidate",async d=>{await vf(d.senderId,d.candidate)}),s.on("user-joined",async d=>{r&&s&&setTimeout(()=>{s&&pf(s,d.id)},1e3)}))});function _(d){St[d?"unshift":"push"](()=>{c=d,t(1,c),t(0,a)})}return n.$$.update=()=>{n.$$.dirty&3&&c&&a&&(console.log("Setting local video srcObject",a),t(1,c.srcObject=a,c),c.play().catch(d=>console.error("Error playing local video:",d)))},[a,c,o,r,l,f,m,_]}class Sf extends ht{constructor(e){super(),pt(this,e,Ef,yf,dt,{})}}function Af(n){let e;return{c(){e=w("div"),this.h()},l(t){e=y(t,"DIV",{class:!0}),I(e).forEach(k),this.h()},h(){h(e,"class","excalidraw-wrapper svelte-1givodw")},m(t,s){j(t,e,s),n[3](e)},p:_e,d(t){t&&k(e),n[3](null)}}}function Tf(n){let e,t,s,r,i,l;return{c(){e=w("div"),t=J("Failed to load drawing board: "),s=J(n[2]),r=P(),i=w("br"),l=J(`\r
			Please check the console for more details.`),this.h()},l(a){e=y(a,"DIV",{class:!0});var o=I(e);t=Q(o,"Failed to load drawing board: "),s=Q(o,n[2]),r=N(o),i=y(o,"BR",{}),l=Q(o,`\r
			Please check the console for more details.`),o.forEach(k),this.h()},h(){h(e,"class","error svelte-1givodw")},m(a,o){j(a,e,o),u(e,t),u(e,s),u(e,r),u(e,i),u(e,l)},p(a,o){o&4&&re(s,a[2])},d(a){a&&k(e)}}}function Cf(n){let e,t="Loading Excalidraw...";return{c(){e=w("div"),e.textContent=t,this.h()},l(s){e=y(s,"DIV",{class:!0,"data-svelte-h":!0}),K(e)!=="svelte-1pd6cc1"&&(e.textContent=t),this.h()},h(){h(e,"class","loading svelte-1givodw")},m(s,r){j(s,e,r)},p:_e,d(s){s&&k(e)}}}function xf(n){let e,t,s='<h2 class="svelte-1givodw">âœï¸ Collaborative Drawing</h2>',r;function i(o,c){return o[1]?Cf:o[2]?Tf:Af}let l=i(n),a=l(n);return{c(){e=w("div"),t=w("div"),t.innerHTML=s,r=P(),a.c(),this.h()},l(o){e=y(o,"DIV",{class:!0});var c=I(e);t=y(c,"DIV",{class:!0,"data-svelte-h":!0}),K(t)!=="svelte-1s0ccjz"&&(t.innerHTML=s),r=N(c),a.l(c),c.forEach(k),this.h()},h(){h(t,"class","header svelte-1givodw"),h(e,"class","drawing-container svelte-1givodw")},m(o,c){j(o,e,c),u(e,t),u(e,r),a.m(e,null)},p(o,[c]){l===(l=i(o))&&a?a.p(o,c):(a.d(1),a=l(o),a&&(a.c(),a.m(e,null)))},i:_e,o:_e,d(o){o&&k(e),a.d()}}}function If(n,e,t){let s;ye(n,ys,d=>t(6,s=d));let r,i=null,l=!0,a="";cs(async()=>{try{if(t(1,l=!1),await na(),!r)throw new Error("Excalidraw container not found after DOM update");const d=await kn(()=>import("./DiS-q1e-.js").then(T=>T.i),[],import.meta.url),v=await kn(()=>import("./DW_yD3NT.js").then(T=>T.c),__vite__mapDeps([0,1,2]),import.meta.url);window.React=d;const{Excalidraw:b}=await kn(async()=>{const{Excalidraw:T}=await import("./DLXM_KWh.js").then(p=>p.m);return{Excalidraw:T}},__vite__mapDeps([3,1,2]),import.meta.url);console.log("Excalidraw and React loaded successfully"),v.createRoot(r).render(d.createElement(b,{onChange:(T,p)=>{f(T,p)},excalidrawAPI:T=>{m(T)}})),s&&(s.on("excalidraw-update",T=>{if(i&&T)try{i.updateScene(T)}catch(p){console.error("Error updating scene:",p)}}),s.on("init",T=>{if(i&&T.excalidrawState)try{i.updateScene(T.excalidrawState)}catch(p){console.error("Error updating scene from init:",p)}}))}catch(d){console.error("Failed to load Excalidraw:",d),t(2,a=d instanceof Error?d.message:"Unknown error")}}),Zn(()=>{s&&s.off("excalidraw-update")});function o(d,v){if(!s||!d)return;const b={elements:d,appState:{viewBackgroundColor:v.viewBackgroundColor}};s.emit("excalidraw-update",b)}let c;function f(d,v){c&&clearTimeout(c),c=setTimeout(()=>{o(d,v)},500)}function m(d){i=d,console.log("Excalidraw API initialized:",d)}function _(d){St[d?"unshift":"push"](()=>{r=d,t(0,r)})}return[r,l,a,_]}class Rf extends ht{constructor(e){super(),pt(this,e,If,xf,dt,{})}}function Gi(n,e,t){const s=n.slice();return s[15]=e[t],s[16]=e,s[17]=t,s}function Wi(n){let e,t,s,r,i=n[2].username.charAt(0).toUpperCase()+"",l,a,o,c=n[2].username+"",f,m,_,d=n[2].isVideoCall?"ðŸ“¹ Video":"ðŸ“ž Voice",v,b,g,T,p,E=`<span class="btn-icon svelte-1e217ta">ðŸ“ž</span>
					Answer`,A,S,C=`<span class="btn-icon svelte-1e217ta">âœ–ï¸</span>
					Decline`,x,R;return{c(){e=w("div"),t=w("div"),s=w("div"),r=w("div"),l=J(i),a=P(),o=w("h2"),f=J(c),m=P(),_=w("p"),v=J(d),b=J(" Call"),g=P(),T=w("div"),p=w("button"),p.innerHTML=E,A=P(),S=w("button"),S.innerHTML=C,this.h()},l(D){e=y(D,"DIV",{class:!0});var F=I(e);t=y(F,"DIV",{class:!0});var M=I(t);s=y(M,"DIV",{class:!0});var z=I(s);r=y(z,"DIV",{class:!0});var V=I(r);l=Q(V,i),V.forEach(k),a=N(z),o=y(z,"H2",{class:!0});var q=I(o);f=Q(q,c),q.forEach(k),m=N(z),_=y(z,"P",{class:!0});var te=I(_);v=Q(te,d),b=Q(te," Call"),te.forEach(k),z.forEach(k),g=N(M),T=y(M,"DIV",{class:!0});var U=I(T);p=y(U,"BUTTON",{class:!0,"data-svelte-h":!0}),K(p)!=="svelte-u3s2jz"&&(p.innerHTML=E),A=N(U),S=y(U,"BUTTON",{class:!0,"data-svelte-h":!0}),K(S)!=="svelte-om1ns7"&&(S.innerHTML=C),U.forEach(k),M.forEach(k),F.forEach(k),this.h()},h(){h(r,"class","caller-avatar svelte-1e217ta"),h(o,"class","svelte-1e217ta"),h(_,"class","call-type svelte-1e217ta"),h(s,"class","caller-info svelte-1e217ta"),h(p,"class","answer-btn svelte-1e217ta"),h(S,"class","reject-btn svelte-1e217ta"),h(T,"class","call-actions svelte-1e217ta"),h(t,"class","incoming-call-modal svelte-1e217ta"),h(e,"class","call-modal-overlay svelte-1e217ta")},m(D,F){j(D,e,F),u(e,t),u(t,s),u(s,r),u(r,l),u(s,a),u(s,o),u(o,f),u(s,m),u(s,_),u(_,v),u(_,b),u(t,g),u(t,T),u(T,p),u(T,A),u(T,S),x||(R=[ee(p,"click",n[7]),ee(S,"click",n[8])],x=!0)},p(D,F){F&4&&i!==(i=D[2].username.charAt(0).toUpperCase()+"")&&re(l,i),F&4&&c!==(c=D[2].username+"")&&re(f,c),F&4&&d!==(d=D[2].isVideoCall?"ðŸ“¹ Video":"ðŸ“ž Voice")&&re(v,d)},d(D){D&&k(e),x=!1,Re(R)}}}function Yi(n){let e,t,s,r,i,l,a,o="You",c,f=[],m=new Map,_,d,v,b,g=n[6]?"ðŸ”‡":"ðŸŽ¤",T,p,E,A,S,C=n[5]?"ðŸ“¹":"ðŸ“·",x,R,D,F,M='<span class="control-icon svelte-1e217ta">ðŸ“ž</span>',z,V,q=n[5]&&Zi(),te=Je(n[3]);const U=B=>B[15].userId;for(let B=0;B<te.length;B+=1){let W=Gi(n,te,B),G=U(W);m.set(G,f[B]=Ki(G,W))}return{c(){e=w("div"),t=w("div"),s=w("div"),r=w("video"),i=P(),q&&q.c(),l=P(),a=w("div"),a.textContent=o,c=P();for(let B=0;B<f.length;B+=1)f[B].c();_=P(),d=w("div"),v=w("button"),b=w("span"),T=J(g),E=P(),A=w("button"),S=w("span"),x=J(C),D=P(),F=w("button"),F.innerHTML=M,this.h()},l(B){e=y(B,"DIV",{class:!0});var W=I(e);t=y(W,"DIV",{class:!0});var G=I(t);s=y(G,"DIV",{class:!0});var Y=I(s);r=y(Y,"VIDEO",{class:!0}),I(r).forEach(k),i=N(Y),q&&q.l(Y),l=N(Y),a=y(Y,"DIV",{class:!0,"data-svelte-h":!0}),K(a)!=="svelte-1l6ztyc"&&(a.textContent=o),Y.forEach(k),c=N(G);for(let le=0;le<f.length;le+=1)f[le].l(G);G.forEach(k),_=N(W),d=y(W,"DIV",{class:!0});var $=I(d);v=y($,"BUTTON",{class:!0,title:!0});var L=I(v);b=y(L,"SPAN",{class:!0});var Z=I(b);T=Q(Z,g),Z.forEach(k),L.forEach(k),E=N($),A=y($,"BUTTON",{class:!0,title:!0});var se=I(A);S=y(se,"SPAN",{class:!0});var H=I(S);x=Q(H,C),H.forEach(k),se.forEach(k),D=N($),F=y($,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),K(F)!=="svelte-1rszrze"&&(F.innerHTML=M),$.forEach(k),W.forEach(k),this.h()},h(){r.autoplay=!0,r.muted=!0,r.playsInline=!0,h(r,"class","video-element svelte-1e217ta"),we(r,"video-hidden",n[5]),h(a,"class","video-label svelte-1e217ta"),h(s,"class","video-wrapper local-video svelte-1e217ta"),h(t,"class","video-grid svelte-1e217ta"),h(b,"class","control-icon svelte-1e217ta"),h(v,"class","control-btn svelte-1e217ta"),h(v,"title",p=n[6]?"Unmute":"Mute"),we(v,"active",n[6]),h(S,"class","control-icon svelte-1e217ta"),h(A,"class","control-btn svelte-1e217ta"),h(A,"title",R=n[5]?"Turn on camera":"Turn off camera"),we(A,"active",n[5]),h(F,"class","control-btn end-call-btn svelte-1e217ta"),h(F,"title","End call"),h(d,"class","call-controls svelte-1e217ta"),h(e,"class","active-call-container svelte-1e217ta")},m(B,W){j(B,e,W),u(e,t),u(t,s),u(s,r),n[12](r),u(s,i),q&&q.m(s,null),u(s,l),u(s,a),u(t,c);for(let G=0;G<f.length;G+=1)f[G]&&f[G].m(t,null);u(e,_),u(e,d),u(d,v),u(v,b),u(b,T),u(d,E),u(d,A),u(A,S),u(S,x),u(d,D),u(d,F),z||(V=[ee(v,"click",n[10]),ee(A,"click",n[11]),ee(F,"click",n[9])],z=!0)},p(B,W){W&32&&we(r,"video-hidden",B[5]),B[5]?q||(q=Zi(),q.c(),q.m(s,l)):q&&(q.d(1),q=null),W&10&&(te=Je(B[3]),f=fs(f,W,U,1,B,te,m,t,us,Ki,null,Gi)),W&64&&g!==(g=B[6]?"ðŸ”‡":"ðŸŽ¤")&&re(T,g),W&64&&p!==(p=B[6]?"Unmute":"Mute")&&h(v,"title",p),W&64&&we(v,"active",B[6]),W&32&&C!==(C=B[5]?"ðŸ“¹":"ðŸ“·")&&re(x,C),W&32&&R!==(R=B[5]?"Turn on camera":"Turn off camera")&&h(A,"title",R),W&32&&we(A,"active",B[5])},d(B){B&&k(e),n[12](null),q&&q.d();for(let W=0;W<f.length;W+=1)f[W].d();z=!1,Re(V)}}}function Zi(n){let e,t='<span class="placeholder-icon svelte-1e217ta">ðŸ“¹</span> <span>Camera Off</span>';return{c(){e=w("div"),e.innerHTML=t,this.h()},l(s){e=y(s,"DIV",{class:!0,"data-svelte-h":!0}),K(e)!=="svelte-57tuav"&&(e.innerHTML=t),this.h()},h(){h(e,"class","video-placeholder svelte-1e217ta")},m(s,r){j(s,e,r)},d(s){s&&k(e)}}}function Xi(n){let e,t,s="ðŸ‘¤",r,i,l=(n[15].username||"User")+"",a;return{c(){e=w("div"),t=w("span"),t.textContent=s,r=P(),i=w("span"),a=J(l),this.h()},l(o){e=y(o,"DIV",{class:!0});var c=I(e);t=y(c,"SPAN",{class:!0,"data-svelte-h":!0}),K(t)!=="svelte-18bpbb5"&&(t.textContent=s),r=N(c),i=y(c,"SPAN",{});var f=I(i);a=Q(f,l),f.forEach(k),c.forEach(k),this.h()},h(){h(t,"class","placeholder-icon svelte-1e217ta"),h(e,"class","video-placeholder svelte-1e217ta")},m(o,c){j(o,e,c),u(e,t),u(e,r),u(e,i),u(i,a)},p(o,c){c&8&&l!==(l=(o[15].username||"User")+"")&&re(a,l)},d(o){o&&k(e)}}}function Ki(n,e){let t,s,r=e[15],i,l,a,o=(e[15].username||"User")+"",c,f;const m=()=>e[13](s,r),_=()=>e[13](null,r);let d=!e[15].isVideoEnabled&&Xi(e);return{key:n,first:null,c(){t=w("div"),s=w("video"),i=P(),d&&d.c(),l=P(),a=w("div"),c=J(o),f=P(),this.h()},l(v){t=y(v,"DIV",{class:!0});var b=I(t);s=y(b,"VIDEO",{class:!0}),I(s).forEach(k),i=N(b),d&&d.l(b),l=N(b),a=y(b,"DIV",{class:!0});var g=I(a);c=Q(g,o),g.forEach(k),f=N(b),b.forEach(k),this.h()},h(){s.autoplay=!0,s.playsInline=!0,h(s,"class","video-element svelte-1e217ta"),we(s,"video-hidden",!e[15].isVideoEnabled),h(a,"class","video-label svelte-1e217ta"),h(t,"class","video-wrapper remote-video svelte-1e217ta"),this.first=t},m(v,b){j(v,t,b),u(t,s),m(),u(t,i),d&&d.m(t,null),u(t,l),u(t,a),u(a,c),u(t,f)},p(v,b){e=v,r!==e[15]&&(_(),r=e[15],m()),b&8&&we(s,"video-hidden",!e[15].isVideoEnabled),e[15].isVideoEnabled?d&&(d.d(1),d=null):d?d.p(e,b):(d=Xi(e),d.c(),d.m(t,l)),b&8&&o!==(o=(e[15].username||"User")+"")&&re(c,o)},d(v){v&&k(t),_(),d&&d.d()}}}function Of(n){let e,t,s=n[2]&&Wi(n),r=n[4]&&Yi(n);return{c(){s&&s.c(),e=P(),r&&r.c(),t=Be()},l(i){s&&s.l(i),e=N(i),r&&r.l(i),t=Be()},m(i,l){s&&s.m(i,l),j(i,e,l),r&&r.m(i,l),j(i,t,l)},p(i,[l]){i[2]?s?s.p(i,l):(s=Wi(i),s.c(),s.m(e.parentNode,e)):s&&(s.d(1),s=null),i[4]?r?r.p(i,l):(r=Yi(i),r.c(),r.m(t.parentNode,t)):r&&(r.d(1),r=null)},i:_e,o:_e,d(i){i&&(k(e),k(t)),s&&s.d(i),r&&r.d(i)}}}function Df(){console.log("Incoming call ringtone")}function Nf(n,e,t){let s,r,i,l,a,o;ye(n,ys,p=>t(14,s=p)),ye(n,fn,p=>t(2,r=p)),ye(n,fr,p=>t(3,i=p)),ye(n,vn,p=>t(4,l=p)),ye(n,Hs,p=>t(5,a=p)),ye(n,Vs,p=>t(6,o=p));let c,f={};cs(()=>{s&&(s.on("call-incoming",p=>{fn.set({userId:p.userId,username:p.username,isVideoCall:p.isVideoCall})}),s.on("call-accepted",async p=>{await sf(s,p.userId)}),s.on("call-rejected",p=>{alert("Call was rejected"),Fn(s)}),s.on("call-ended",p=>{Fn(s)}),s.on("call-offer",async p=>{const E=i.find(S=>S.userId===p.senderId)||r,A=E?E.username:"Unknown";await nf(s,p.senderId,A,p.offer)}),s.on("call-answer-sdp",async p=>{await rf(p.senderId,p.answer)}),s.on("call-ice-candidate",async p=>{await af(p.senderId,p.candidate)}))}),Zn(()=>{s&&(s.off("call-incoming"),s.off("call-accepted"),s.off("call-rejected"),s.off("call-ended"),s.off("call-offer"),s.off("call-answer-sdp"),s.off("call-ice-candidate"))});async function m(){!r||!s||await Qu(s,r.userId,r.isVideoCall)}function _(){!r||!s||Ju(s,r.userId)}function d(){s&&Fn(s)}function v(){ef()}function b(){tf()}function g(p){St[p?"unshift":"push"](()=>{c=p,t(0,c),t(4,l)})}function T(p,E){St[p?"unshift":"push"](()=>{f[E.userId]=p,t(1,f)})}return n.$$.update=()=>{if(n.$$.dirty&4&&r&&Df(),n.$$.dirty&17&&l&&c){const p=lf();p&&t(0,c.srcObject=p,c)}n.$$.dirty&10&&i.length>0&&i.forEach(p=>{const E=f[p.userId];E&&p.stream&&(E.srcObject=p.stream)})},[c,f,r,i,l,a,o,m,_,d,v,b,g,T]}class Pf extends ht{constructor(e){super(),pt(this,e,Nf,Of,dt,{})}}const{window:Qi}=tl;function Ff(n){let e,t,s,r,i,l,a,o,c,f,m,_,d,v=n[2]?"â†’":"â†",b,g,T,p,E,A,S,C;function x(V){n[12](V)}let R={};n[1]!==void 0&&(R.activeView=n[1]),s=new Ku({props:R}),St.push(()=>as(s,"activeView",x));const D=[Uf,Bf,Mf],F=[];function M(V,q){return V[1]==="chat"?0:V[1]==="draw"?1:V[1]==="screen"?2:-1}~(c=M(n))&&(f=F[c]=D[c](n));let z=n[2]&&Ji(n);return E=new Pf({}),{c(){e=w("div"),t=w("div"),ct(s.$$.fragment),i=P(),l=w("div"),a=P(),o=w("div"),f&&f.c(),m=P(),z&&z.c(),_=P(),d=w("button"),b=J(v),p=P(),ct(E.$$.fragment),this.h()},l(V){e=y(V,"DIV",{class:!0});var q=I(e);t=y(q,"DIV",{class:!0,style:!0});var te=I(t);ot(s.$$.fragment,te),i=N(te),l=y(te,"DIV",{class:!0}),I(l).forEach(k),te.forEach(k),a=N(q),o=y(q,"DIV",{class:!0});var U=I(o);f&&f.l(U),U.forEach(k),m=N(q),z&&z.l(q),_=N(q),d=y(q,"BUTTON",{class:!0,title:!0,style:!0});var B=I(d);b=Q(B,v),B.forEach(k),q.forEach(k),p=N(V),ot(E.$$.fragment,V),this.h()},h(){h(l,"class","resize-handle resize-handle-channel svelte-1hr0tdm"),h(t,"class","channel-sidebar-container svelte-1hr0tdm"),ke(t,"width",n[3]+"px"),h(o,"class","main-content svelte-1hr0tdm"),h(d,"class","user-panel-toggle svelte-1hr0tdm"),h(d,"title",g=n[2]?"Hide user panel":"Show user panel"),h(d,"style",T=n[2]?`right: ${n[4]}px`:"right: 0"),we(d,"open",n[2]),h(e,"class","app-container svelte-1hr0tdm"),we(e,"resizing",n[5]||n[6])},m(V,q){j(V,e,q),u(e,t),lt(s,t,null),u(t,i),u(t,l),u(e,a),u(e,o),~c&&F[c].m(o,null),u(e,m),z&&z.m(e,null),u(e,_),u(e,d),u(d,b),j(V,p,q),lt(E,V,q),A=!0,S||(C=[ee(l,"mousedown",n[8]),ee(d,"click",n[13])],S=!0)},p(V,q){const te={};!r&&q&2&&(r=!0,te.activeView=V[1],is(()=>r=!1)),s.$set(te),(!A||q&8)&&ke(t,"width",V[3]+"px");let U=c;c=M(V),c!==U&&(f&&(gs(),Ee(F[U],1,1,()=>{F[U]=null}),ms()),~c?(f=F[c],f||(f=F[c]=D[c](V),f.c()),ge(f,1),f.m(o,null)):f=null),V[2]?z?(z.p(V,q),q&4&&ge(z,1)):(z=Ji(V),z.c(),ge(z,1),z.m(e,_)):z&&(gs(),Ee(z,1,1,()=>{z=null}),ms()),(!A||q&4)&&v!==(v=V[2]?"â†’":"â†")&&re(b,v),(!A||q&4&&g!==(g=V[2]?"Hide user panel":"Show user panel"))&&h(d,"title",g),(!A||q&20&&T!==(T=V[2]?`right: ${V[4]}px`:"right: 0"))&&h(d,"style",T),(!A||q&4)&&we(d,"open",V[2]),(!A||q&96)&&we(e,"resizing",V[5]||V[6])},i(V){A||(ge(s.$$.fragment,V),ge(f),ge(z),ge(E.$$.fragment,V),A=!0)},o(V){Ee(s.$$.fragment,V),Ee(f),Ee(z),Ee(E.$$.fragment,V),A=!1},d(V){V&&(k(e),k(p)),at(s),~c&&F[c].d(),z&&z.d(),at(E,V),S=!1,Re(C)}}}function Lf(n){let e,t;return e=new zu({}),e.$on("login",n[7]),{c(){ct(e.$$.fragment)},l(s){ot(e.$$.fragment,s)},m(s,r){lt(e,s,r),t=!0},p:_e,i(s){t||(ge(e.$$.fragment,s),t=!0)},o(s){Ee(e.$$.fragment,s),t=!1},d(s){at(e,s)}}}function Mf(n){let e,t;return e=new Sf({}),{c(){ct(e.$$.fragment)},l(s){ot(e.$$.fragment,s)},m(s,r){lt(e,s,r),t=!0},i(s){t||(ge(e.$$.fragment,s),t=!0)},o(s){Ee(e.$$.fragment,s),t=!1},d(s){at(e,s)}}}function Bf(n){let e,t;return e=new Rf({}),{c(){ct(e.$$.fragment)},l(s){ot(e.$$.fragment,s)},m(s,r){lt(e,s,r),t=!0},i(s){t||(ge(e.$$.fragment,s),t=!0)},o(s){Ee(e.$$.fragment,s),t=!1},d(s){at(e,s)}}}function Uf(n){let e,t;return e=new Mu({}),{c(){ct(e.$$.fragment)},l(s){ot(e.$$.fragment,s)},m(s,r){lt(e,s,r),t=!0},i(s){t||(ge(e.$$.fragment,s),t=!0)},o(s){Ee(e.$$.fragment,s),t=!1},d(s){at(e,s)}}}function Ji(n){let e,t,s,r,i,l,a;return r=new df({}),{c(){e=w("div"),t=w("div"),s=P(),ct(r.$$.fragment),this.h()},l(o){e=y(o,"DIV",{class:!0,style:!0});var c=I(e);t=y(c,"DIV",{class:!0}),I(t).forEach(k),s=N(c),ot(r.$$.fragment,c),c.forEach(k),this.h()},h(){h(t,"class","resize-handle resize-handle-user svelte-1hr0tdm"),h(e,"class","user-panel-container svelte-1hr0tdm"),ke(e,"width",n[4]+"px")},m(o,c){j(o,e,c),u(e,t),u(e,s),lt(r,e,null),i=!0,l||(a=ee(t,"mousedown",n[9]),l=!0)},p(o,c){(!i||c&16)&&ke(e,"width",o[4]+"px")},i(o){i||(ge(r.$$.fragment,o),i=!0)},o(o){Ee(r.$$.fragment,o),i=!1},d(o){o&&k(e),at(r),l=!1,a()}}}function zf(n){let e,t,s,r,i,l;const a=[Lf,Ff],o=[];function c(f,m){return f[0]?1:0}return e=c(n),t=o[e]=a[e](n),{c(){t.c(),s=Be()},l(f){t.l(f),s=Be()},m(f,m){o[e].m(f,m),j(f,s,m),r=!0,i||(l=[ee(Qi,"mousemove",n[10]),ee(Qi,"mouseup",n[11])],i=!0)},p(f,[m]){let _=e;e=c(f),e===_?o[e].p(f,m):(gs(),Ee(o[_],1,1,()=>{o[_]=null}),ms(),t=o[e],t?t.p(f,m):(t=o[e]=a[e](f),t.c()),ge(t,1),t.m(s.parentNode,s))},i(f){r||(ge(t),r=!0)},o(f){Ee(t),r=!1},d(f){f&&k(s),o[e].d(f),i=!1,Re(l)}}}function qf(n,e,t){let s="",r=!1,i="chat",l=!1,a=240,o=250,c=!1,f=!1;function m(p){s=p.detail,cc(s),t(0,r=!0)}function _(p){t(5,c=!0),p.preventDefault()}function d(p){t(6,f=!0),p.preventDefault()}function v(p){if(c){const E=p.clientX;E>=180&&E<=400&&t(3,a=E)}else if(f){const E=window.innerWidth-p.clientX;E>=200&&E<=500&&t(4,o=E)}}function b(){t(5,c=!1),t(6,f=!1)}Zn(()=>{pc()});function g(p){i=p,t(1,i)}return[r,i,l,a,o,c,f,m,_,d,v,b,g,()=>t(2,l=!l)]}class Zf extends ht{constructor(e){super(),pt(this,e,qf,zf,dt,{})}}export{Zf as P,Po as g};
